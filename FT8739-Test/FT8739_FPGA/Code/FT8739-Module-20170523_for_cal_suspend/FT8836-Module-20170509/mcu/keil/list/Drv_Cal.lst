C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 1   


C251 COMPILER V5.4.0.1, COMPILATION OF MODULE Drv_Cal
OBJECT MODULE PLACED IN .\obj\Drv_Cal.obj
COMPILER INVOKED BY: D:\software\Keil\C251\BIN\C251.EXE ..\..\src\source\driver\Drv_Cal.c XSMALL ROM(HUGE) OPTIMIZE(9,SP
                    -EED) BROWSE INCDIR(..\..\src\include;..\..\src\include\Debug;..\..\src\include\Drv;..\..\src\include\task;..\..\src\incl
                    -ude\config) STRING(FAR) DEFINE(_FT8836_) DEBUG CODE LISTINCLUDE SYMBOLS PRINT(.\list\Drv_Cal.lst) PREPRINT(.\list\Drv_Ca
                    -l.i) OBJECT(.\obj\Drv_Cal.obj) 

stmt  level    source

    1          /*******************************************************************************
    2          * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3          *
    4          * File Name: Drv_Cal.c
    5          *
    6          *    Author: xinkunpeng
    7          *
    8          *   Created: 2014-05-07
    9          *
   10          *  Abstract:
   11          *
   12          * Reference:
   13          *
   14          *   Version:
   15          *
   16          *******************************************************************************/
   17          
   18          /*******************************************************************************
   19          * 1.Included header files
   20          *******************************************************************************/
   21          #include "Drv_Cal.h"
    1       =1 /*******************************************************************************
    2       =1 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =1 *
    4       =1 * File Name: Drv_mcu.h
    5       =1 *
    6       =1 *    Author: xinkunpeng
    7       =1 *
    8       =1 *   Created: 2014-05-07
    9       =1 *
   10       =1 *  Abstract:
   11       =1 *
   12       =1 * Reference:
   13       =1 *
   14       =1 *   Version:
   15       =1 *******************************************************************************/
   16       =1 #ifndef __DRV_CAL_H__
   17       =1 #define __DRV_CAL_H__
   18       =1 
   19       =1 
   20       =1 /*******************************************************************************
   21       =1 * 1.Included files
   22       =1 *******************************************************************************/
   23       =1 #include "CfgGlobal.h"
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: CfgGlobal.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-18
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference: Transplant from FT5422 by xinkunpeng
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 2   

   13       =2 *
   14       =2 *   Version: 0.2
   15       =2 *
   16       =2 *******************************************************************************/
   17       =2 #ifndef GLOBAL_CONFIG_H
   18       =2 #define GLOBAL_CONFIG_H
   19       =2 
   20       =2 /*******************************************************************************
   21       =2 * 2.Global constant and macro definitions using #define
   22       =2 *******************************************************************************/
   23       =2 
   24       =2 #define _SPI_FLASH_EN                   1      // spi flash--±ÿ–Îø™
   25       =2 #define _LCD_RELOAD_EN                  1      // APP¥”Flashµº»ÎLCD_config
   26       =2 
   27       =2 #define TEST_MODE                       1
   28       =2 
   29       =2 #if TEST_MODE
   30       =2 #define _TEST_SFR_EN                    0       /* test the SFR read and write */
   31       =2 #define _TEST_DRAM_EN                   0       /* test dram read and write */
   32       =2 #define _TEST_PROM_EN                   0       /* test prom read only */   
   33       =2 #define _TEST_ARAM_EN                   0       /* test asmram read and write */
   34       =2 #define _TEST_XSI_REG_EN                0       /* XSIºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   35       =2 #define _TEST_SPI0_REG_EN               0       /* SPI0ºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */ 
   36       =2 #define _TEST_XBUS_REG_EN               0       /* XBUSºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   37       =2 #define _TEST_ASM_REG_EN                0       /* ASMºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   38       =2 #define _TEST_CAL_REG_EN                0       /* CALºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   39       =2 #define _TEST_AFE_REG_EN                0       /* AFEºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   40       =2 #define _TEST_LCD_REG_EN                0       /* LCDºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   41       =2 #define _TEST_SPI_EN                    0       /* test SPI read  */
   42       =2 #define _TEST_LED_EN                    0       /* test the led */ 
   43       =2 #define _TEST_I2C_EN                    0       /* test I2C read and clk */
   44       =2 #define _TEST_AFE_RAM_EN                0       /* test the AFE ram buffer,≤‚ ‘Ã´∫ƒ ±º‰◊Ó∫√µ•∂¿Ω¯––≤‚ ‘ *
             -/
   45       =2 #else
            =2 #define _TEST_SFR_EN                    1
            =2 #define _TEST_DRAM_EN                   1
            =2 #define _TEST_PROM_EN                   1
            =2 #define _TEST_ARAM_EN                   1
            =2 #define _TEST_SPI0_REG_EN               1
            =2 #define _TEST_XSI_REG_EN                1
            =2 #define _TEST_ASM_REG_EN                1      
            =2 #define _TEST_XBUS_REG_EN               1
            =2 #define _TEST_CAL_REG_EN                1
            =2 #define _TEST_AFE_REG_EN                1
            =2 #define _TEST_LCD_REG_EN                0
            =2 #define _TEST_SPI_EN                    1
            =2 #define _TEST_LED_EN                    1
            =2 #define _TEST_I2C_EN                    1
            =2 #define _TEST_AFE_RAM_EN                1
            =2 #endif
   62       =2 #define _TEST_UART_EN                   0
   63       =2 #define _TEST_SOFT_RST_EN               0     /* »Ìº˛∏¥Œª≤‚ ‘*/
   64       =2 #define _TEST_WDT_EN                    0     /* WDTµ•∂¿Ω¯––≤‚ ‘ */
   65       =2 #define _TEST_RTC_EN                    0     /* ∫ÕCNT÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */
   66       =2 #define _TEST_CNT_EN                    0     /* ∫ÕRTC÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */
   67       =2 #define _TEST_GPIO_EN                   0     /* gpio–Ë“™≈–∂œ∆‰input output“‘º∞∏ﬂµÕµÁ∆Ω«–ªªµƒ◊¥Ã¨£¨–Ë∑÷±
             -µ•∂¿Ω¯––≤‚ ‘ */
   68       =2 #define _TEST_TIMER_EN                  0     /* Timerµ•∂¿Ω¯––≤‚ ‘ */ 
   69       =2 #define _TEST_GPIO_WK_EN                0     /* int0÷–∂œªΩ–—‘¥π˝∂‡,µ•∂¿Ω¯––≤‚ ‘ */
   70       =2 #define _TEST_I2C_WK_EN                 0     /* ∫ÕI2C÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */ 
   71       =2 #define _TEST_INT_NEST_EN               0     /* ÷–∂œ«∂Ã◊≤‚ ‘,µ•∂¿Ω¯––≤‚ ‘  */
   72       =2 #define _TEST_XSI_EN                    0     /* XSI∂¡–¥øΩª˙≤‚ ‘£¨µ•∂¿≤‚ ‘ */
   73       =2 #define _TEST_CAL_EN                    1     /* CALƒ£øÈ,≤‚ ‘ƒ£øÈΩœ∂‡,µ•∂¿Ω¯––≤‚ ‘ */
   74       =2 #define _TEST_AFE_EN                    0     /* AFEƒ£øÈ,≤‚ ‘ƒ⁄»›Ωœ∂‡,µ•∂¿Ω¯––≤‚ ‘ */
   75       =2 #define _TEST_ROMBOOT_EN                0     /* romboot test π”√À˘–Ëœ‡πÿ≤‚ ‘bin */
   76       =2 #define _TEST_XBUS_EN                   0     /* XBUS∂¡–¥≤‚ ‘*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 3   

   77       =2 #define _TEST_ROMECC_EN                 0     /* º∆À„ecc∫Õprom membistµƒΩ·π˚±»Ωœ*/
   78       =2 #define _TEST_SPI0_EN                   0     /* test SPI0   */
   79       =2 #define _TEST_SPI0_DMA_EN               0     /* test SPI0_dma */
   80       =2 #define _TEST_SPI0_WK_EN                0     /* ∫ÕSPI0,I2C÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */   
   81       =2 #define _TEST_DEBUGOUT_EN               0     /* ≤‚ ‘ƒ⁄≤ø–≈∫≈£¨µ•∂¿Ω¯––≤‚ ‘*/
   82       =2 /*******************************************************************************
   83       =2 * 1.Included files
   84       =2 *******************************************************************************/
   85       =2 #include "Typedef.h"
    1       =3 /*******************************************************************************
    2       =3  * Focaltech Systems (R)
    3       =3  * All Rights Reserved
    4       =3  *
    5       =3  * Project:     FT8836
    6       =3  * File:        DataType.h
    7       =3  *
    8       =3  * VERSION        DATE              AUTHOR
    9       =3  * V0.2           2014-04-18        xinkunpeng
   10       =3  *******************************************************************************/
   11       =3 #ifndef __DATATYPE_H__
   12       =3 #define __DATATYPE_H__
   13       =3 
   14       =3 /*******************************************************************************
   15       =3 * 1.Included files
   16       =3 *******************************************************************************/
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * 2.Global constant and macro definitions using #define
   20       =3 *******************************************************************************/
   21       =3 /* This is the header file CONV51.H */
   22       =3 #ifdef __C251__       // __C251__ is a define of C251
   23       =3 #define DRAM data     // data can be mapped directly to the 251 data space
   24       =3 #define IRAM near     // idata uses MOV Ri, use 251 near instead
   25       =3 #define XRAM near     // xdata uses MOVX or MOV @DR56, use 251 near instead
   26       =3 #define PRAM near     // pdata uses MOVX Ri, use 251 near instead
   27       =3 #define CROM code     // code uses MOVC A, use 251 const instead
   28       =3 #define ECODE ecode
   29       =3 #else
            =3 #define DRAM data     // if you compile with C51 the memory spaces are
            =3 #define IRAM idata    // mapped to the previous definitions
            =3 #define XRAM xdata
            =3 #define PRAM pdata
            =3 #define CROM code
            =3 #endif
   36       =3 
   37       =3 #define SFR         sfr
   38       =3 #define SBIT        sbit
   39       =3 
   40       =3 #define VALID       1
   41       =3 #define INVALID     0
   42       =3 
   43       =3 #define TRUE        1
   44       =3 #define FALSE       0
   45       =3 
   46       =3 #define ENABLE      1
   47       =3 #define DISABLE     0
   48       =3 
   49       =3 #define ON  1
   50       =3 #define OFF 0
   51       =3 
   52       =3 
   53       =3 #define BITn(n)     ((UINT16)1<<(n))
   54       =3 
   55       =3 /*******************************************************************************
   56       =3 * 3.Global structures, unions and enumerations using typedef
   57       =3 *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 4   

   58       =3 /*Data Types(Compiler Specific) in C251*/
   59       =3 typedef bit  BOOLEAN;
   60       =3 typedef unsigned char  UINT8;
   61       =3 typedef signed   char  SINT8;
   62       =3 typedef unsigned short UINT16;
   63       =3 typedef signed   short SINT16;
   64       =3 typedef unsigned long  UINT32;
   65       =3 typedef signed   long  SINT32;
   66       =3 typedef float          FP32;
   67       =3 typedef double         FP64;
   68       =3 /*******************************************************************************
   69       =3 * 4.Global variable extern declarations
   70       =3 *******************************************************************************/
   71       =3 
   72       =3 /*******************************************************************************
   73       =3 * 5.Global function prototypes
   74       =3 *******************************************************************************/
   75       =3 
   76       =3 #endif/* DATATYPE_H */
   77       =3 
   86       =2 #include "FT8836.h"
    1       =3 /*******************************************************************************
    2       =3  * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3  *
    4       =3  * File Name: FT8836.h
    5       =3  *
    6       =3  *    Author: 
    7       =3  *
    8       =3  *   Created: 2016-07-11
    9       =3  *
   10       =3  *  Abstract: 1. In this file, sfrs(special function registers) and their bits
   11       =3  *            are defined for chip ft8626 based on platform C251.
   12       =3  *
   13       =3  *            2. Please note that there are some differences in the way the
   14       =3  *            instructions address bits between the two architectures MCS251 and
   15       =3  *            MCS51. The MCS251 does not have bit addresses as MCS51 does. A bit
   16       =3  *            can be addressed by name or by its location within a certain
   17       =3  *            register, but not by a bit address.
   18       =3  *
   19       =3  *            Table: Addressing Modes for Bit Instructions
   20       =3  *            -------------------------------------------------------------------
   21       =3  *            Architecture Variants Bit Address Memory/SFR Address Comments
   22       =3  *            -------------------------------------------------------------------
   23       =3  *            MCS251       Memory -- NA ------- 20H.0-7FH.7        does not have
   24       =3  *            (bit)        SFR ----- NA ------- All defined SFRs   bit addresses
   25       =3  *            -------------------------------------------------------------------
   26       =3  *            MCS 51       Memory -- 00H-7FH -- 20H.0-7FH.7        not all SFRs
   27       =3  *            (bit51)      SFR ----- 80H-F8H -- XXH.0-XXH.7, where have bit
   28       =3  *                                              XX = 80,88,90,98,  addresses.
   29       =3  *                                              ..., F0, F8.
   30       =3  *            -------------------------------------------------------------------
   31       =3  *
   32       =3  *            3. This file is only used by library and driver of project ft5412.
   33       =3  *
   34       =3  * Reference: 1. Intel 8xc251sx User's Manual (8xc251sx_um.pdf)
   35       =3  *            2. Keil C251 help document
   36       =3  *
   37       =3  *******************************************************************************/
   38       =3 #ifndef __FT8836_H__
   39       =3 #define __FT8836_H__
   40       =3 
   41       =3 /* Conditional Compiler Options */
   42       =3 
   43       =3 /* Conditional Compiler Options */
   44       =3 /*******************************************************************************
   45       =3  * 1.Included files
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 5   

   46       =3  *******************************************************************************/
   47       =3 
   48       =3 /*******************************************************************************
   49       =3  * 2.Global constant and macro definitions using #define
   50       =3  *******************************************************************************/
   51       =3 /******************************************************************************/
   52       =3 /* byte Registers */
   53       =3 
   54       =3 /*80-87*/
   55       =3 SFR P0BUF           = 0x80;   /*PoBuf*/
   56       =3 SFR SP              = 0x81; 
   57       =3 SFR DPL             = 0x82;
   58       =3 SFR DPH             = 0x83;
   59       =3 SFR DPXL            = 0x84;
   60       =3 SFR PCON            = 0x87;
   61       =3 
   62       =3 /*88-8F*/
   63       =3 SFR TCON            = 0x88;
   64       =3 SFR TMOD            = 0x89;
   65       =3 SFR TL0             = 0x8A;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL0[7:0]X4us,◊Ó¥Û÷µ≤ªƒ‹≥¨π˝1ms“≤æÕ «Àµ◊Ó¥
             -Û÷µŒ™8°ØhF9,¥Û”⁄¥À÷µ ±Ω´«ø÷∆Œ™8°ØhF9. */
   66       =3 SFR TL1             = 0x8B;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL1[7:0]X4us */
   67       =3 SFR TH0             = 0x8C;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH0[7:0]X1ms,TH0[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
   68       =3 SFR TH1             = 0x8D;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH1[7:0]X1ms,TH1[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
   69       =3 
   70       =3 /*90-97*/
   71       =3 SFR I2CCON          = 0x90;
   72       =3 SFR I2CBUF          = 0x91;
   73       =3 SFR I2CADDR         = 0x92;
   74       =3 SFR I2CSTOP         = 0x93;
   75       =3 SFR P1BUF           = 0x94;   /*P1Buf*/
   76       =3 SFR I2CSEL          = 0x95;
   77       =3 SFR MMCON           = 0x97;
   78       =3 
   79       =3 /*98-9F*/
   80       =3 SFR SYSCON          = 0x98;
   81       =3 SFR WDTCON          = 0x99;
   82       =3 SFR WDTREL          = 0x9A;
   83       =3 SFR TDIV            = 0x9B;
   84       =3 SFR RTCIVL          = 0x9C; /*rtcº∆ ˝÷’÷πµÕ8Œª*/      
   85       =3 SFR RTCIVH          = 0x9D; /*rtcº∆ ˝÷’÷π∏ﬂ8Œª*/
   86       =3 SFR RTCCON          = 0x9E;
   87       =3 SFR RTCSLN          = 0x9F; /*rtc  ±º‰∆¨∏ˆ ˝*/
   88       =3 
   89       =3 /*A0-A7*/
   90       =3 SFR ANACON8         = 0xA0;
   91       =3 SFR SPI0CON         = 0xA2;
   92       =3 SFR SPI0CON2        = 0xA3;
   93       =3 SFR SPI0BUF         = 0xA4;
   94       =3 SFR SPI0CON3        = 0xA5;
   95       =3 SFR SPI0CON4        = 0xA6; 
   96       =3 SFR SPI0CON5        = 0xA7;
   97       =3 
   98       =3 /*A8-AF*/
   99       =3 SFR IEN0            = 0xA8;
  100       =3 SFR UARTCON         = 0xA9;
  101       =3 SFR UARTBUF         = 0xAA;
  102       =3 SFR UART_RELL       = 0xAB;
  103       =3 SFR P0DIR           = 0xAC;   /*P0ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
  104       =3 SFR P1DIR           = 0xAD;   /*P1ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
  105       =3 SFR UART_RELH       = 0xAE;
  106       =3 SFR UART_SDA        = 0xAF;
  107       =3 
  108       =3 /*B0-B7*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 6   

  109       =3 SFR ANACON9         = 0xB0;
  110       =3 SFR SPI1CON3        = 0xB1;
  111       =3 SFR SPI1CON4        = 0xB2;
  112       =3 SFR SPI1CON         = 0xB3;
  113       =3 SFR SPI1CON2        = 0xB4;
  114       =3 SFR SPI1BUF         = 0xB5;
  115       =3 SFR RTCCON1         = 0xB6;
  116       =3 SFR IPH0            = 0xB7; 
  117       =3 
  118       =3 /*B8-BF*/
  119       =3 SFR IPL0            = 0xB8;
  120       =3 SFR CNTCON          = 0xB9;
  121       =3 SFR CNTIVL          = 0xBA;  /*CNTº∆ ˝÷’÷πµÕ8Œª*/
  122       =3 SFR CNTIVM          = 0xBB;  /*CNTº∆ ˝÷’÷π÷–º‰8Œª*/
  123       =3 SFR CNTIVH          = 0xBC;  /*CNTº∆ ˝÷’÷π∏ﬂ8Œª*/
  124       =3 SFR FT_EN_REG       = 0xBD;  /*lcd otp to tp soc*/
  125       =3 SFR SPH             = 0xBE;
  126       =3 SFR CGUCON8         = 0xBF;
  127       =3 
  128       =3 /*C0-C7*/
  129       =3 SFR AIF            = 0xC0;
  130       =3 SFR ANACON1        = 0xC1;
  131       =3 SFR ANACON2        = 0xC2;
  132       =3 SFR ANACON3        = 0xC3;
  133       =3 SFR ANACON4        = 0xC4;
  134       =3 SFR ANACON5        = 0xC5;
  135       =3 SFR ANACON6        = 0xC6;
  136       =3 SFR ANACON7        = 0xC7;
  137       =3 
  138       =3 /*C8-CF*/
  139       =3 SFR CGUCON1        = 0xC8;
  140       =3 SFR CGUCON0        = 0xC9;
  141       =3 SFR CGUCON2        = 0xCA;
  142       =3 SFR CGUCON3        = 0xCB;
  143       =3 SFR CGUCON4        = 0xCC;
  144       =3 SFR CGUCON5        = 0xCD;
  145       =3 SFR CGUCON6        = 0xCE;
  146       =3 SFR CGUCON7        = 0xCF;
  147       =3 
  148       =3 /* D1-D7 */
  149       =3 SFR MEMBIST_EN1         = 0xD2;
  150       =3 SFR MEMBIST_EN2         = 0xD3;
  151       =3 SFR MEMBIST_FINISH1     = 0xD4;
  152       =3 SFR MEMBIST_FINISH2     = 0xD5;
  153       =3 SFR MEMBIST_FAIL1       = 0xD6;
  154       =3 SFR MEMBIST_FAIL2       = 0xD7;
  155       =3 
  156       =3 /* D8-DF */
  157       =3 SFR MEMBIST_ERRMAP1     = 0xD8;
  158       =3 SFR MEMBIST_ERRMAP2     = 0xD9;
  159       =3 SFR DSV_CON             = 0xDA;
  160       =3 SFR MEMBIST_ROMCRC0     = 0xDB;
  161       =3 SFR MEMBIST_ROMCRC1     = 0xDC; 
  162       =3 SFR MEMBIST_ROMCRC2     = 0xDD;
  163       =3 SFR MEMBIST_ROMCRC3     = 0xDE;
  164       =3 SFR IEN1                = 0xDF;
  165       =3 
  166       =3 /*E0-E7*/
  167       =3 SFR TESTCON0            = 0xE1;
  168       =3 SFR TESTCON1            = 0xE2;
  169       =3 SFR TESTCON2            = 0xE3;
  170       =3 SFR TESTCON3            = 0xE4;
  171       =3 SFR IWKSTA              = 0xE5;
  172       =3 SFR POR_STA             = 0xE6; /*POR∏¥ŒªºÏ≤È*/
  173       =3 SFR RST_STA             = 0xE7; /*Pin reset∏¥ŒªºÏ≤È*/
  174       =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 7   

  175       =3 
  176       =3 /*E8-EF*/
  177       =3 SFR AIE                 = 0xE8;
  178       =3 SFR SFTRST              = 0xE9;
  179       =3 SFR ANACON              = 0xEA;
  180       =3 SFR P0MOD               = 0xEB; /*0:P0 use as gpio;1:po use as function define*/
  181       =3 SFR P0SEL               = 0xEC; /*0:P0 as OD port; 1:P0 as PUSH-PULL port*/
  182       =3 SFR P1MOD               = 0xED; /*0:P1 use as gpio;1:p1 use as function define*/
  183       =3 SFR P1SEL               = 0xEE; /*0:P1 as OD port; 1:P1 as PUSH-PULL port*/
  184       =3 SFR XDP_STA             = 0xEF;
  185       =3 
  186       =3 /*F0-F7*/
  187       =3 SFR CNT_MASK            = 0xF1; /* 3'b00:porrst_cnt;3'b01:wdtrst_cnt;3'h02:extrst_cnt;3'h03:lcdrst_cnt;3'
             -b04:esd_cnt;3'h05:lvd_cnt*/
  188       =3 SFR CNT_STA             = 0xF2; /* ∏˘æ›cnt_maskµƒ÷µ£¨∂¿¥¶≤ªÕ¨µƒcnt÷µ*/
  189       =3 SFR SSCG_CON0           = 0xF5;
  190       =3 SFR SSCG_CON1           = 0xF6; /* sscg_step:sscg increase/decrease period(500us/step). sscg trim code wi
             -ll increase in every(500ns*(step+1))*/
  191       =3 SFR AIPH                = 0xF7;
  192       =3 
  193       =3 /*F8-FF*/
  194       =3 SFR AIPL                = 0xF8;
  195       =3 SFR I2C_CMD0            = 0xF9; /* i2c hid command byte1 */
  196       =3 SFR I2C_CMD1            = 0xFA; /* i2c hid command byte2 */
  197       =3 SFR I2C_CMD2            = 0xFB; /* i2c hid command byte3 */
  198       =3 SFR I2C_CMD3            = 0xFC; /* i2c hid command byte4 */
  199       =3 SFR I2C_STATE           = 0xFD; /* i2C hid ÷–∂œ±Í÷æºƒ¥Ê∆˜ */
  200       =3 SFR LED_EN              = 0xFE; /* 4∏ˆLEDµ∆ πƒ‹; bit3~bit0”––ß,√øbit∑÷±∂‘”¶“ª∏ˆLED πƒ‹ */
  201       =3 SFR LED_H_NUM           = 0xFF; /* led PWM≤®∏ﬂµÁ∆Ω≥÷–¯µƒ÷‹∆⁄ ˝£¨0~63ø…≈‰£¨0¥˙±Ì1∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨63¥˙±Ì64
             -∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨º¥“ª÷±Œ™∏ﬂ£ª*/
  202       =3 
  203       =3 
  204       =3 /******************************************************************************/
  205       =3 /* bit Registers */
  206       =3 
  207       =3 /*SSCG_CON0*/
  208       =3 /*bit5-4  sscg_amp */   /*sscg amplitude. Control the output sequence of DA_TRIM[2:0]. Clock stable time 
             -between each trim code is located in range 100ns-200ns*/
  209       =3 SBIT SSCG_SCAN_EN           = SSCG_CON0^1; /*0:stop sscg when scan 1:contiune sscg when scan(sync with sc
             -an)*/
  210       =3 SBIT SSCG_EN                = SSCG_CON0^0; /*0:disable sscg  1:enable sscg*/
  211       =3 
  212       =3 /*SPI0CON*/
  213       =3 SBIT SPI0RX_OVF_FLAG        = SPI0CON^6;  /*rx_reg_overflow±Í÷æŒª£¨spi0Ω” ’ÕÍ ˝æ›rx_regŒ™¬˙ ±£¨”≤º˛÷√1*/
  214       =3 SBIT SPI0TX_UNF_FLAG        = SPI0CON^5;  /*tx_reg_underflow±Í÷æŒª£¨spi0∑¢ÀÕ ˝æ› ±rx_regŒ™ø’ ±£¨”≤º˛÷√1*/
  215       =3 SBIT SPI0_START             = SPI0CON^4;  /*SPI0µƒslvelœ¬Ωµ—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
  216       =3 SBIT SPI0_STOP              = SPI0CON^3;  /*SPI0µƒslvel…œ…˝—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
  217       =3 SBIT DMA_END_FLAG           = SPI0CON^2;  /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û±Í÷æŒª£¨»Ìº˛«Â¡„*/
  218       =3 SBIT SPI0RI                 = SPI0CON^1;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
  219       =3 SBIT SPI0TI                 = SPI0CON^0;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
  220       =3 
  221       =3 /*SPI0CON2*/
  222       =3 SBIT SPI0TX_AUTO_CLR        = SPI0CON2^7; /* «∑Ò◊‘∂Ø«Â≥˝ti÷–∂œ±Í÷æŒª£ª0:–Ë“™»Ìº˛«Â£ª1:»Ìº˛‘⁄–¥tx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
  223       =3 SBIT SPI0RX_AUTO_CLR        = SPI0CON2^6; /* «∑Ò◊‘∂Ø«Â≥˝ri÷–∂œ±Í÷æŒª. 0:–Ë“™»Ìº˛«Â; 1:»Ìº˛‘⁄∂¡rx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
  224       =3 SBIT SPI0_EDGE_SEL          = SPI0CON2^5; /*0:sck…œ…˝—ÿ ‰≥ˆ;1:sckœ¬Ωµ—ÿ ‰≥ˆ*/
  225       =3 SBIT SPI0_BUSY              = SPI0CON2^4; /*0:µÕµÁ∆Ω◊¥Ã¨£¨÷ªƒ‹∂¡≤ªƒ‹–¥;1:SPI0’˝‘⁄º§ªÓ◊¥Ã¨*/
  226       =3 SBIT SPI0_STOP_EI           = SPI0CON2^3; /*spi_stop÷–∂œ«Î«Û–≈∫≈ πƒ‹*/
  227       =3 SBIT DMA_END_EI             = SPI0CON2^2; /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û πƒ‹*/
  228       =3 SBIT SPI0RI_EN              = SPI0CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
  229       =3 SBIT SPI0TI_EN              = SPI0CON2^0; /*0:Ω˚÷π≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈*/
  230       =3 
  231       =3 /*SPI0CON3*/
  232       =3 SBIT SPI0_WKEN              = SPI0CON3^7; /*spi wake upπ¶ƒ‹ πƒ‹Œª.0:disable;1:enable*/
  233       =3 SBIT SPI0_RI_PULSE_SEL      = SPI0CON3^4; /*0:rx_reg load at ti_ri_pulse falling edg;1:rx_reg load at ri_
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 8   

             -pulse rising edge*/
  234       =3 //SBIT SPI0_CLR_NUM           = SPI0CON3^4; /*write 1 to clear byte num*/
  235       =3 /*spi0con3[3:0] dummy_byte_num csœ¬Ωµ—ÿø™ º≤Â»Îµƒdummy byte ˝*/
  236       =3 
  237       =3 /*SPI0CON4*/
  238       =3 /*SPI0CON4[7:6] byte_num_rd_sel  byte_num∂¡≥ˆ—°‘Ò.2'b00:byte_num_h; 2'b01:byte_num_m; 2'b10:byte_num_l */
  239       =3 /*SPI0CON4[5:0] byte_num_rd byte_num 6bit,”…byte_numæˆ∂®*/
  240       =3 
  241       =3 /*SPI0CON5*/
  242       =3 SBIT SPI0RX_OVF_CLR         = SPI0CON5^6;  /*–¥1«Â≥˝rx_reg_overflow±Í÷æŒª*/
  243       =3 SBIT SPI0TX_UNF_CLR         = SPI0CON5^5;  /*–¥1«Â≥˝tx_reg_underflow±Í÷æŒª*/
  244       =3 SBIT SPI0_START_CLR         = SPI0CON5^4;  /*–¥1«Â≥˝spi0 start*/
  245       =3 SBIT SPI0_STOP_CLR          = SPI0CON5^3;  /*–¥1«Â≥˝spi0 stop*/
  246       =3 SBIT DMA_END_CLR            = SPI0CON5^2;  /*–¥1«Â≥˝dma end flag*/
  247       =3 SBIT SPI0RI_CLR             = SPI0CON5^1;  /*–¥1«Â≥˝SPI0RT*/
  248       =3 SBIT SPI0TI_CLR             = SPI0CON5^0;  /*–¥1«Â≥˝SPI0TI*/
  249       =3 
  250       =3 
  251       =3 /*SPICLKDIV: 000:4∑÷∆µ;001:6∑÷∆µ;010:8∑÷∆µ;011:12∑÷∆µ;100:16∑÷∆µ;101:18∑÷∆µ;110:20∑÷∆µ;111:24∑÷∆µ*/
  252       =3 /*SPI1CON*/
  253       =3 SBIT SPI1TI                  = SPI1CON^7;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
  254       =3 SBIT SPI1RI                  = SPI1CON^6;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
  255       =3 SBIT SPI1CKM                 = SPI1CON^5;  /*SPI1CLKDIV÷–º‰Œª*/
  256       =3 SBIT SPI1CKL                 = SPI1CON^4;  /*SPI1CLKDIVµÕŒª*/
  257       =3 SBIT SPI1PH                  = SPI1CON^3;  /*0:÷±Ω”∑¢ÀÕ ˝æ›,ª∫¥Ê∞Î∏ˆcycleΩ” ’ ˝æ›;1:÷±Ω”Ω” ’ ˝æ›,ª∫¥Ê∞Î∏ˆ
             -cycle∑¢ÀÕ ˝æ›*/
  258       =3 SBIT SPI1PO                  = SPI1CON^2;  /*0:low idle; 1:high idle*/
  259       =3 SBIT SPI1MAS                 = SPI1CON^1;  /*0:slave mode; 1:master mode*/ 
  260       =3 SBIT SPI1_SLVSLELEN          = SPI1CON^0;  /*0:masterƒ£ Ωœ¬µƒslvselo ‹ƒ⁄≤ø∆Ù∂Øøÿ÷∆;1:masterƒ£ Ωœ¬slvselo 
             -‹SPI1CON2[2]øÿ÷∆*/
  261       =3 
  262       =3 /*SPI1CON2*/
  263       =3 SBIT SPI1TX_AUTO_CLR         = SPI1CON2^7; /*0:»Ìº˛◊‘∂Ø«Âti÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡rx reg ±”≤º˛◊‘«Â*/
  264       =3 SBIT SPI1RX_AUTO_CLR         = SPI1CON2^6; /*0:»Ìº˛◊‘∂Ø«Âri÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡tx reg ±”≤º˛◊‘«Â*/
  265       =3 SBIT SPI1_BUSY               = SPI1CON2^5; /*0:µÕµÁ∆Ω◊¥Ã¨,÷ªƒ‹∂¡;1:SPI1’˝¥¶”⁄active*/ 
  266       =3 SBIT SPI1_STOP               = SPI1CON2^4; 
  267       =3 SBIT SPI1_START              = SPI1CON2^3;
  268       =3 SBIT SPI1SLVELO              = SPI1CON2^2; /*µ±SPI1CON[0]Œ™1 ±,master◊¥Ã¨œ¬∏√Œª÷±Ω” ‰≥ˆSPI1µƒslvsel£ªµ±SP
             -I1CON[0]Œ™0 ±£¨∏√ŒªŒﬁ–ß*/
  269       =3 SBIT SPI1RI_EN               = SPI1CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
  270       =3 SBIT SPI1TI_EN               = SPI1CON2^0; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
  271       =3 
  272       =3 /*SPI1CON3*/
  273       =3 SBIT SPI1MODE_SELH           = SPI1CON3^7; /*1:”√IO0-IO2¥´ ‰ ˝æ›;0:∏˘æ›SPI1CON3[6]◊¥Ã¨æˆ∂®*/
  274       =3 SBIT SPI1MODE_SELL           = SPI1CON3^6; /*»ÙSPI1MODE_SELHŒ™0,‘Ú0:”√IO0¥´ ‰;1:”√IO0,IO1¥´ ‰*/
  275       =3 SBIT SPI1_SW_IO_ENH          = SPI1CON3^5; /*IO0,IO1∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO0,IO1∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
  276       =3 SBIT SPI1_SW_IO_ENL          = SPI1CON3^4; /*IO2,IO3∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO2,IO3∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
  277       =3 SBIT SW_1BYTE_LATER          = SPI1CON3^2; /*dual/quad spi»Ìº˛«–ªª ±º‰.0:¡¢º¥«–ªª;1:‘⁄œ¬∏ˆbyte ˝æ›¥´ ‰Ω· 
             -¯“‘∫Ûµƒµ⁄“ª∏ˆshift_out_sck_edg÷Æ«∞ÕÍ≥…«–ªª*/
  278       =3 SBIT SPI1_SW_DIR             = SPI1CON3^1; /*dual/quad spi ±»Ìº˛«–ªªioµƒ∑ΩœÚ.0: ‰≥ˆ;1: ‰»Î*/
  279       =3 SBIT SPI1_SW_EN              = SPI1CON3^0; /*dual/quad spi »Ìº˛io∑ΩœÚ«–ªª πƒ‹£¨–¥1”––ß.”≤º˛‘⁄«–ªª÷Æ∫Û◊‘«Â
             -*/
  280       =3 
  281       =3 /*SPI1CON4*/
  282       =3 SBIT SPI1IOSW_CKDLY_EN      = SPI1CON4^4; /*¥´ ‰IO«–ªª∑ΩœÚ ± 0:«–ªª∑ΩœÚ≤ª—” ±;1:«–ªª∑ΩœÚ—”≥§2∏ˆclk cycle*
             -/
  283       =3 SBIT SPI1_CURR_MODE         = SPI1CON4^3; /*spi master/slave mode◊¥Ã¨Œª.1:ƒø«∞Œ™master mode.0:ƒø«∞Œ¥slave
             - mode */
  284       =3 SBIT SPI1CKH                = SPI1CON4^2; /*SPI1CLKDIV∏ﬂŒª*/
  285       =3 /*spi1con[1:0] sample_phase_sel*/ /*≤…—˘ ±÷”—”≥Ÿ—°‘Ò. 00:Œﬁ—”≥Ÿ;01:—”≥Ÿ1∏ˆclk cycle; 10:—”≥Ÿ2∏ˆclk cycle;
             - 11:—”≥Ÿ3∏ˆclk cycle*/
  286       =3 
  287       =3 
  288       =3 /*UARTCON*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 9   

  289       =3 SBIT UART_MODE              = UARTCON^7; /*uartƒ£ Ω…Ë∂®. 0:9bitƒ£ Ω; 1:8bitƒ£ Ω*/
  290       =3 SBIT UART_SM21              = UARTCON^5; /*1:‘⁄9bit“ª∂‘∂‡Õ®–≈ƒ£ Ωœ¬;0:‘⁄9bitµ„∂‘µ„ƒ£ Ω*/  
  291       =3 SBIT UART_REN1              = UARTCON^4; /*Ω” ’ «ƒ‹øÿ÷∆Œª.1:‘ –ÌΩ” ’;0:Ω˚÷πΩ” ’*/
  292       =3 SBIT UART_TB81              = UARTCON^3; /*‘⁄9bitƒ£ Ωœ¬£¨the content of∑¢ÀÕµƒµ⁄9bit*/
  293       =3 SBIT UART_RB81              = UARTCON^2;   
  294       =3 SBIT UART_TI                = UARTCON^1;
  295       =3 SBIT UART_RI                = UARTCON^0;
  296       =3 
  297       =3 /* RTCCON */
  298       =3 SBIT RTC_START              = RTCCON^7;
  299       =3 SBIT RTC_INT_EN_ASM         = RTCCON^6;   /* ≤˙…˙÷–∂œ∏¯asm πƒ‹.1:¥Úø™;0:πÿ±’ */
  300       =3 SBIT RTC_START_STA          = RTCCON^5;   /* RTC∆Ù∂Ø◊¥Ã¨.1:rtc∆Ù∂Ø≥…π¶ªÚø’œ–;0:rtc’˝‘⁄∆Ù∂ØªÚ’˝‘⁄∏¥Œª*/
  301       =3 SBIT RTC_CLR                = RTCCON^4;
  302       =3 SBIT RTC_INT_EN_CPU         = RTCCON^2;   /* ≤˙…˙÷–∂œ∏¯cpu πƒ‹.1:¥Úø™;0:πÿ±’ */
  303       =3 SBIT RTC_AUTO_MODE          = RTCCON^1;   /* rtc≤ª–Ë“™◊ˆclr£¨◊‘∂Ø÷ÿ∏¥º∆ ˝*/
  304       =3 SBIT RTC_WP                 = RTCCON^0;
  305       =3 
  306       =3 /* RTCCON1 */
  307       =3 //[2:1] LCD_SRC_SEL lcd start sourc—°‘Ò. 2'b00:vstart;2'b01:vmdi;2'b10:vend;2'b11:vblank
  308       =3 SBIT LCD_SRC_SEL_H          = RTCCON1^2;
  309       =3 SBIT LCD_SRC_SEL_L          = RTCCON1^1;
  310       =3 SBIT LCD_START_EN           = RTCCON1^0;   /* lcd vstart/wmid.vend/vblank ∆Ù∂Ørtc πƒ‹–≈∫≈ */ 
  311       =3 
  312       =3 /*SYSCON*/
  313       =3 SBIT REMAP                  = SYSCON^7;
  314       =3 SBIT ESD_RST_EN             = SYSCON^6;   /* esd∑¢…˙ ±–Ë≤ª–Ë“™rstœµÕ≥.1:±Ì æ–Ë“™rstœµÕ≥;0:±Ì æ≤ªrstœµÕ≥*/
  315       =3 SBIT BUS_SEL                = SYSCON^5;   /* RO. pad bus_sel */
  316       =3 SBIT WDT                    = SYSCON^4;   /* wdt πƒ‹ */
  317       =3 SBIT UART1                  = SYSCON^3;   /* uart1 */
  318       =3 SBIT UART0                  = SYSCON^2;   /* uart0: 2'b01: GPIO6; 2'b10: GPIO7; 2'b11: GPIO1.5; 2'b00: ∆‰
             -À˚;  */
  319       =3 SBIT LVD_INT_CLR            = SYSCON^1;   /* –¥1«Â≥˝lvdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
  320       =3 SBIT ESD_INT_CLR            = SYSCON^0;   /* –¥1«Â≥˝esdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
  321       =3 
  322       =3 
  323       =3 /*IWKSTA*/
  324       =3 SBIT GPIO_INT               = IWKSTA^7; /* p0.6 pinΩ≈÷–∂œªΩ–—±Í÷æ*/
  325       =3 SBIT LCD_ESD_WK_INT         = IWKSTA^6; /* lcd esd wakeup÷–∂œªΩ–—±Í÷æ */
  326       =3 SBIT LCD_LVD_WK_INT         = IWKSTA^5; /* lcd lvd wakeup÷–∂œªΩ–—±Í÷æ */
  327       =3 SBIT LCD_GPIO_WK_INT        = IWKSTA^4; /* lcd gpio wakeup status */
  328       =3 SBIT LCD_RELOAD_FLASH       = IWKSTA^3; /* LCD initial code reload */
  329       =3 SBIT ASM_MON_INT            = IWKSTA^2; /* asm monitor÷–∂œªΩ–—±Í÷æ */
  330       =3 SBIT I2C_MON_INT            = IWKSTA^1; /* i2c monitor÷–∂œªΩ–—±Í÷æ */
  331       =3 SBIT RTC_CNT_INT            = IWKSTA^0; /* RTC or CNT÷–∂œªΩ–—±Í÷æ */
  332       =3 
  333       =3 /*SFTRST*/
  334       =3 SBIT SOFT_RST               = SFTRST^7; /*∂¡:»Ì∏¥Œª±Í÷æ*/
  335       =3 SBIT WDT_RST                = SFTRST^6; /*∂¡:wdt∏¥Œª±Í÷æ*/
  336       =3 SBIT EXT_RST                = SFTRST^5; /*∂¡:Õ‚≤ø∏¥Œª±Í÷æ*/
  337       =3 SBIT POR_RST                = SFTRST^4; /*por∏¥Œª±Í÷æ*/
  338       =3 SBIT FLASH_HOLD_STA         = SFTRST^3; /*flash hold state*/
  339       =3 SBIT REMAP_RST              = SFTRST^1; /*∂¡:¥Úø™remap∏¥Œª πƒ‹*/
  340       =3 /*SFTRST[0] */              /*µ±»´–¥1 «≤˙…˙∏¥Œª;»´–¥0 «≤˙…˙remap∏¥Œª;µ±∂¡ ± ±»Ì∏¥Œª±Í÷æ*/
  341       =3 
  342       =3 /* ANACON */
  343       =3 SBIT ARAM_SEL               = ANACON^7;  /* 1: mcuøÿ÷∆aram; 0: afeøÿ÷∆aram */
  344       =3 SBIT LCD_DSTAB_IOLOW        = ANACON^6;  /* lcd dstab∑¢…˙ ±,øÿ÷∆TPµΩLCD DPµƒ–≈∫≈ «∑Ò ‰≥ˆŒ™µÕ£¨¥”∂¯ΩµµÕ¬©µ
             -Á 1:  ‰≥ˆŒ™µÕ£¨0: ≤ª ‰≥ˆŒ™µÕ */
  345       =3 SBIT I2C_WK_RST             = ANACON^5;  /* 0:Reset I2C monitor interrupt;1: release*/
  346       =3 SBIT I2C_SF_RST             = ANACON^4;  /* I2C module soft reset */
  347       =3 SBIT XSI_SEL                = ANACON^3;  /* xsi0/xsi1 accessing clock switch select. 0:MCU;1:AFE. */
  348       =3 SBIT AFE_RST                = ANACON^2;  /* afe sub-system soft reset including asm*/
  349       =3 SBIT FlASH_HOLD             = ANACON^1;  /* external SPI flash hold,1:hold state '0';0:hold state '1' */
  350       =3 SBIT GPIO_INT_SEL           = ANACON^0;  /* GPIO Interrupt source selecetion.1:GPIO interrupt is from p0.
             -7;0:GPIO interrupt is from p0.6 */
  351       =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 10  

  352       =3 /* XDP_STATUS*/
  353       =3 SBIT LVD_STA                = XDP_STA^6;  /* R0.lvdµƒstatus */
  354       =3 SBIT ESD_FLAG               = XDP_STA^5;  /* RW.esd∑¢…˙±Í÷æ.1:±Ì æ”–∑¢…˙esd ¬º˛;0:±Ì æ√ª”–∑¢…˙esd ¬º˛.»Ìº
             -˛ø…«Â≥˝*/
  355       =3 SBIT LVD_FLAG               = XDP_STA^4;  /* RW.lvd∑¢…˙±Í÷æ.1:”–lvd ¬º˛;0:√ª”–lvd ¬º˛.»Ìº˛ø…«Â≥˝ */
  356       =3 SBIT ESD_STA                = XDP_STA^3;  /* RO.xdp esd status */
  357       =3 SBIT LVD_VDDI_STA           = XDP_STA^2;  /* RO.lvd_vddi status */
  358       =3 SBIT LVD_AVDD_STA           = XDP_STA^1;  /* RO.lvd_avdd status */
  359       =3 SBIT LVD_AVEE_STA           = XDP_STA^0;  /* RO.lvd_avee status */
  360       =3 
  361       =3 /* TEST_CON0 */
  362       =3 SBIT TEST_OUT0_EN           = TESTCON0^7; 
  363       =3 /*TEST_CON0[6:0]*/          /*Test out0 control */
  364       =3 
  365       =3 /* TEST_CON1 */
  366       =3 SBIT TEST_OUT1_EN           = TESTCON1^7; 
  367       =3 /*TEST_CON1[6:0]*/          /*Test out1 control */
  368       =3 
  369       =3 /* TEST_CON2 */
  370       =3 SBIT TEST_OUT2_EN           = TESTCON2^7; 
  371       =3 /*TEST_CON2[6:0]*/          /*Test out2 control */
  372       =3 
  373       =3 /* TEST_CON0 */
  374       =3 SBIT TEST_OUT3_EN           = TESTCON3^7; 
  375       =3 /*TEST_CON3[6:0]*/          /*Test out3 control */
  376       =3 
  377       =3 /* DSV_CON */
  378       =3 SBIT UART_INH               = DSV_CON^6;       /* selection of uart rx port*/
  379       =3 SBIT UART_INL               = DSV_CON^5;       /* 2'b00/2'b11:disable uart rxd;2'b01:p0.6;2'b10:p0.7*/
  380       =3 SBIT SPI_REPLACE_STA        = DSV_CON^4;       /* spi1 «∑ÒÃÊ¥˙spi0◊˜Œ™slaveµƒ◊¥Ã¨Œª;1:spi1◊˜Œ™slave;0:spi
             -1≤ª◊˜Œ™slave*/
  381       =3 SBIT SPI_REPLACE_SEL        = DSV_CON^3;       /* spi1◊˜Œ™slaveµƒøÿ÷∆£¨‘⁄spi_replace_en=1 ±∆◊˜”√.1:spi1Ã
             -Êªªspi0◊˜Œ™slave;0:spi1≤ªÃÊªªspi0 */
  382       =3 SBIT SPI_REPLACE_EN         = DSV_CON^2;       /* spi1◊˜Œ™slaveµƒøÿ÷∆.1:spi1 «∑ÒŒ™slave ‹spi_replace_selø
             -ÿ÷∆;*/
  383       =3 SBIT DSV_EN6_STA            = DSV_CON^1;       /* lcd ‰≥ˆµƒdsv_en6µƒ◊¥Ã¨ */
  384       =3 SBIT DSV_EN                 = DSV_CON^0;       /* dsv en reg */
  385       =3 
  386       =3 /*FT_EN_REG*/
  387       =3 SBIT PDB                    = FT_EN_REG^6;     /* lcd to tp,µ±¥Úø™≈˙∆¿ºÏ≤‚ ±,ºÏ≤‚Ω·π˚.1:∆¡∆∆;0:∆¡√ª∆∆*/
  388       =3 SBIT PDB_EN                 = FT_EN_REG^5;     /* tp to lcd.1:ø™∆Ù∆∆∆¡ºÏ≤‚ */
  389       =3 SBIT DMA_REQ_INT_MASK       = FT_EN_REG^4;     /* dma_req∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_reqŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
  390       =3 SBIT DMA_ACK_INT_MASK       = FT_EN_REG^3;     /* dma_ack∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_ackŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
  391       =3 SBIT TEST_CLK_EN            = FT_EN_REG^2;     /*  ±÷”≤‚ ‘ ‰≥ˆ πƒ‹,GPIO6 ‰≥ˆ */
  392       =3 SBIT XSI_SEL_STA            = FT_EN_REG^1;     /* anacon[3] xsi clk swtich result.1:AFE can control xsi;0
             -:MCU can control xsi*/
  393       =3 SBIT FT_EN                  = FT_EN_REG^0;     /* lcd otp to tp soc */
  394       =3 
  395       =3 /* ANACON1 */
  396       =3 SBIT POWERGATING_CTRL       = ANACON1^7; /* Œﬁavdd∫Õavee ±,øÿ÷∆afeµƒsx switch∑≈µÁ.1:»°æˆ”⁄dsv_en,dsv_enŒ™
             -1 ±,≤ª∑≈µÁ.dsv_enŒ™0 ±,∑≈µÁ.0:≤ª∑≈µÁ */
  397       =3 /* [6:4] vreftp_sel. vREF_TP voltage selection bits.0:2v; 1:2.5v; 2:3v; 3:3.5v; 4:4v; 5:4.5v; 6:5v; 7:4.5
             -v*/
  398       =3 SBIT VREFTP_BUF_SEL_M       = ANACON1^3; /* vref_tp/vdd5 slew rate control bit,output to xtp.0: no sr con
             -trol,vref_tp rise quickly.1:with sr control,set 1 for t32clk and then set to 0*/
  399       =3 SBIT VREFTP_BUF_SH_M        = ANACON1^2; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xtp.vref_tp/vdd5 sample/hold sign
             -al.0:hold; 1:enable*/
  400       =3 SBIT VREFTP_BUF_EN_M        = ANACON1^1; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xtp.vref_tp buf enable signal.0:disa
             -ble;1:enable*/
  401       =3 SBIT VREFTP_SETOP_EN_M      = ANACON1^0; /* vref_tp setting opµƒenable, ‰≥ˆ∏¯xtp.vref_tp volatge setting 
             -op enable singal.0:disable;1:enable */
  402       =3 
  403       =3 /* ANACON2 */
  404       =3 SBIT REFBG_EN               = ANACON2^7; /* tpµƒbandgapµƒenbale.…®√Ë ±,“ª∂®“™¥Úø™.afe ref enable signal.0
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 11  

             -:disable;1:enable */
  405       =3 SBIT VREFTP_BUF_SEL         = ANACON2^6; /* vref_tp/vdd5 slew rate control bit,output to xae_l,xafe_r.0:n
             -o sr control,vref_tp rise quickly;1:with sr control,set 1 for 16 t32clk and then set to 0*/
  406       =3 SBIT VREFTP_BUF_SH          = ANACON2^5; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp/vdd5 sample
             -/hold signal.0:hold; 1:enable*/
  407       =3 SBIT VREFTP_BUF_EN          = ANACON2^4; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp buf enable sig
             -nal.0:disable;1:enable*/
  408       =3 SBIT VREFTP_SETOP_EN        = ANACON2^3; /* vref tp setting opµƒenable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp volatg
             -e setting op enable singal.0:disable;1:enable */
  409       =3 SBIT VDD5_SETOP_EN          = ANACON2^2; /* vdd5 volatage setting op enable signal.0:disable;1:enable*/
  410       =3 SBIT VDD5_BUF_EN            = ANACON2^1; /* vdd5 buf enable signal.0:disable;1:enable*/
  411       =3 SBIT VDD5_SECTRL            = ANACON2^0; /* vdd5 slew rate control bit.0:no sr control,vref_tp rise quick
             -ly.1:with sr control,set 1 for 16 t32clk and the set to 0*/
  412       =3 
  413       =3 /* ANACON3 */
  414       =3 SBIT DSV_EN_ALLON           = ANACON3^7; /* dsv_en «∑Ò ±øÃ¥Úø™.1: ±øÃ¥Úø™;0:”……œµÁ ±–Úæˆ∂®*/
  415       =3 SBIT LR_SEL                 = ANACON3^6; /* select p1_af and p2_af from left or right afe controller.1:ri
             -ght;0:left*/
  416       =3 SBIT VCOM_OPT_SEL           = ANACON3^5; /* ”√”⁄øÿ÷∆vcom_optµƒ ‰≥ˆ.0:«ø÷∆ ‰≥ˆŒ™vcom.1:lcd term ±Œ™vcom,tp
             - term ±,Œ™afd*/
  417       =3 SBIT BGP_MASK               = ANACON3^4; /* ”√”⁄øÿ÷∆∫⁄∆¡ ±lcdµƒbandgapø™πÿ.¡¡∆¡ ±,¥Àø™πÿ”…lcdøÿ÷∆,∫⁄∆¡ ±,
             -”…tpøÿ÷∆.dsvƒ£ Ωœ¬,∂ØÃ¨«–ªª,”√”⁄Ω⁄ °π¶∫ƒ.1:ø™∆Ùlcdµƒbandgap,tp…®√Ë ±,–Ë“™ø™∆Ù¥Àø™πÿ.0:πÿ±’lcdµƒbandgap,tp≤ª…®√Ë ±,ø…“‘πÿ
             -±’¥Àø™πÿ*/
  418       =3 SBIT LVD_MASK               = ANACON3^3; /* ”√”⁄øÿ÷∆ «∑Òø™∆Ùavdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑.dsvƒ£ Ωœ¬,dsv_en πƒ‹ 
             -±,ø…ø™∆Ù,dsv_en≤ª πƒ‹,–Ë“™πÿ±’avdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑,“‘∑≈ŒÛ¥•∑¢lvd’Ï≤‚µÁ¬∑.1:ø™∆ÙµÙµÁ’Ï≤‚µÁ¬∑.0:πÿ±’*/
  419       =3 
  420       =3 /* ANACON7*/
  421       =3 SBIT VREFTP_LOADREGU        = ANACON7^7; /* vreftp output buffer driving ability control signal.1:enhance
             - the driving ability to about 55mA.0:use default value about 37mA driving ability at least*/
  422       =3 SBIT DSV_EN_MASK            = ANACON7^6; /* dsv_en–≈∫≈µƒ—°‘Ò–≈∫≈.0:asm…˙≥…µƒdsv_en–≈∫≈Œﬁ–ß,”…mcuæˆ∂® «∑Ò∆
             -Ù∂Ødsv_en;1:asm…˙≥Ωπ˝µƒdsv_en–≈∫≈”––ß*/
  423       =3 SBIT NVDD2_MASK             = ANACON7^5; /* NVDD2‘⁄∫⁄∆¡ ±µƒ πƒ‹–≈∫≈.nvdd2¡¡∆¡ ± ‹lcdøÿ÷∆,∫⁄∆¡ ±, ‹tpøÿ÷∆.
             -0:πÿ±’nvdd2;1:ø™∆Ùnvdd2*/
  424       =3 SBIT VRGEN_EN               = ANACON7^4; /* 32k ±÷”µÁ‘¥«–ªªπ¶ƒ‹.0:—°‘Ò¿¥◊‘∆´÷√.1:—°‘Òlcd¿¥µƒbandgap∆´÷√.∫
             -⁄∆¡ ±,¥ÀbitŒª“ª∂®–Ë“™≈‰÷√Œ™0,¡¡∆¡ø…≈‰÷√0£¨“≤ø…≈‰÷√≥…1*/
  425       =3 /* [3:0] VRFE_VDD_TPS. VDDD 1.2V setting. 0:  1.3v; 
  426       =3                                           1:  1v;
  427       =3                                           2:  1.025v;
  428       =3                                           3:  1.05v;
  429       =3                                           4:  1.075v;
  430       =3                                           5:  1.1v;
  431       =3                                           6:  1.125v;
  432       =3                                           7:  1.150v;
  433       =3                                           8:  1.175v;
  434       =3                                           9:  1.2v
  435       =3                                           10: 1.225v
  436       =3                                           11: 1.25v
  437       =3                                           12: 1.275v
  438       =3                                           13: 1.325v
  439       =3                                           14: 1.35v
  440       =3                                           15: 1.375v*/
  441       =3 
  442       =3 /* ANACON8 */
  443       =3 SBIT VDD_TP_N2_MASK         = ANACON8^7; /* reg_en_vdd_tp_n2–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  444       =3 SBIT VDD_TP_N1_MASK         = ANACON8^6; /* reg_en_vdd_tp_n1–≈∫≈¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  445       =3 SBIT VREFTP_SETOP_EN_M_MASK = ANACON8^5; /* vreftp_setop_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  446       =3 SBIT VREFTP_BUF_EN_M_MASK   = ANACON8^4; /* vreftp_buf_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  447       =3 SBIT VREFTP_SH_MASK         = ANACON8^3; /* vreftp_sh–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  448       =3 SBIT VREFTP_SRCTRL_M_MASK   = ANACON8^2; /* vreftp_srctrl_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  449       =3 SBIT BGP_MASK_MASK          = ANACON8^1; /* bgp_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  450       =3 SBIT NVDD2_MASK_MASK        = ANACON8^0; /* nvdd2_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  451       =3 
  452       =3 /* ANACON9 */
  453       =3 SBIT VDD_TP_N3_MASK         = ANACON9^7; /* reg_en_vdd_tp_n3–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  454       =3 SBIT REGBG_EN_MASK          = ANACON9^6; /* reg_en1–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  455       =3 SBIT VREFTP_SETOP_EN_MASK   = ANACON9^5; /* vreftp_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 12  

  456       =3 SBIT VREFTP_BUF_EN_MASK     = ANACON9^4; /* vreftp_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  457       =3 SBIT VREFTP_SRCTRL_MASK     = ANACON9^3; /* vreftp_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  458       =3 SBIT VDD5_SETOP_EN_MASK     = ANACON9^2; /* vdd5_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  459       =3 SBIT VDD5_BUF_EN_MASK       = ANACON9^1; /* vdd5_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  460       =3 SBIT VDD5_SRCTRL_MASK       = ANACON9^0; /* vdd5_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  461       =3 
  462       =3 /* PCON */
  463       =3 SBIT SMOD1                  = PCON^7;
  464       =3 SBIT SMOD0                  = PCON^6;
  465       =3 SBIT POF                    = PCON^4;
  466       =3 SBIT GF1                    = PCON^3;
  467       =3 SBIT GF0                    = PCON^2;
  468       =3 SBIT CORE_STOP              = PCON^1;         /* Stop ƒ£ Ωøÿ÷∆Œª .∏√Œª–¥1£¨Ω´Ω¯»Îstopƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂¡
             -≥ˆ¿¥µƒ÷µŒ™0*/
  469       =3 SBIT CORE_IDLE              = PCON^0;         /* Idle ƒ£ Ωøÿ÷∆Œª °£∏√Œ™–¥1£¨«øΩ¯»ÎIDLEƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂
             -¡≥ˆ¿¥µƒ÷µŒ™0*/
  470       =3 
  471       =3 /* CGUCON0 */
  472       =3 SBIT ASM_32K_EN             = CGUCON0^7;  /* asm 32k clock enable.1:enable;0:disable*/
  473       =3 SBIT STANDBY                = CGUCON0^6;  /* ”√”⁄‘⁄’˝≥£ƒ£ Ωœ¬£¨mcu¥¶”⁄power down ±£¨∂‘osc ±÷”“‘º∞digitalµ
             -ƒ÷˜ ±÷”µƒdisable.0:disable clock tree, osc48m;1:≤ªπÿ ±÷” */
  474       =3 SBIT EN_32K                 = CGUCON0^5;  /* 1:¥Úø™32k osc*/
  475       =3 SBIT SPI0_32K_EN            = CGUCON0^4;  /* SPI0 DMAƒ£øÈ÷–µƒcounter ±÷”gating*/
  476       =3 SBIT SPI0CKEN               = CGUCON0^3;  /* SPI0π§◊˜ ±÷”µƒenable gating */
  477       =3 SBIT PROBE32K_DIG_EN        = CGUCON0^2;  /* clk_32k dig probe enable signal.1:enable;0:disable */
  478       =3 SBIT LVD_SLEEP_EN           = CGUCON0^1;  /* LVD ¬º˛∑¢…˙ ±£¨ «∑Òπÿ±’OSC.0:≤ªπÿ±’,defaultŒ™0.1:πÿ±’ */
  479       =3 SBIT PROBE32K_FROM1M_EN     = CGUCON0^0;  /* clk_32k_from_1m probe enable signal.1:enable;0:disable */
  480       =3 
  481       =3 
  482       =3 /* CGUCON1 */
  483       =3 SBIT SYSCKEN                = CGUCON1^7;     /* clock gating module:sysctrl,p0,p1*/
  484       =3 SBIT I2CCKEN                = CGUCON1^6;     /* i2c clk enable */
  485       =3 SBIT XSICKEN                = CGUCON1^5;     /* xsi source from core clock ,gating enable */
  486       =3 SBIT TIMER_500K_EN          = CGUCON1^4;     /* timer working clock enable signal.1:enable;0:disable*/
  487       =3 SBIT TIMERCKEN              = CGUCON1^3;     /* timer clk enable*/
  488       =3 SBIT UARTCKEN               = CGUCON1^2;     /* uart clk enable*/
  489       =3 SBIT DEBUGCKEN              = CGUCON1^1;     /* debug(including i2c debug) clk enable */
  490       =3 SBIT SPI1CKEN               = CGUCON1^0;     /* spi1 clk enable*/
  491       =3 
  492       =3 /* CGUCON2 */
  493       =3 SBIT CLKEN_500K             = CGUCON2^7;     /* 500k clock gating enable*/
  494       =3 SBIT CNTCKEN                = CGUCON2^6;     /* cnt clk enable */
  495       =3 SBIT LED_32K_EN             = CGUCON2^5;     /* Led controller working clock*/
  496       =3 SBIT PROMCKEN               = CGUCON2^4;     /* prom clk enable */
  497       =3 SBIT PRAMCKEN               = CGUCON2^3;     /* pram clk enable */
  498       =3 SBIT AFEACKEN               = CGUCON2^2;     /* asm clock gating enbale */
  499       =3 SBIT LEDCKEN                = CGUCON2^1;     /* led clk enable */
  500       =3 SBIT RTC_32K_EN             = CGUCON2^0;     /* RTC Working clock*/
  501       =3 
  502       =3 /* CGUCON3 */
  503       =3 SBIT DMACKEN                = CGUCON3^7;     /* CAL‘À–– ±£¨cpu «∑ÒΩ¯»Îidle◊¥Ã¨°£0:≤ªΩ¯»Îidle◊¥Ã¨;1:Ω¯»Îid
             -le◊¥Ã¨*/
  504       =3 SBIT CALCKEN                = CGUCON3^6;     /* cal clock enable*/
  505       =3 SBIT AFECKEN                = CGUCON3^5;     /* Clock dynamic gating AFE controller */
  506       =3 SBIT CLOSE_500K_EN          = CGUCON3^4;     /* mcu standby close 500k enable signal.1:close*/
  507       =3 SBIT XBUSCKEN               = CGUCON3^3;     /* Xsi0 clk enable */
  508       =3 SBIT AFESCKEN               = CGUCON3^2;     /* asm configure clock */
  509       =3 SBIT CLOSE_TIMER_EN         = CGUCON3^1;     /* mcu standby close timer clock enable sigal.1:close*/
  510       =3 SBIT RTCCKEN                = CGUCON3^0;
  511       =3 
  512       =3 /* CGUCON4 */
  513       =3 SBIT SSCG_CKEN              = CGUCON4^7;   /* sscg clk enable */
  514       =3 SBIT WDT_500K_EN            = CGUCON4^6;   /* CLK_500Kµƒgating enable for wdt*/
  515       =3 SBIT PROBE32K_CKEN          = CGUCON4^4;   /* probe 32K clk enable */
  516       =3 SBIT PROBE48M_CKEN          = CGUCON4^3;   /* probe 48M clk enable */
  517       =3 /*CGUCON4[1:0] clk_div  use for select frequence for div clock source 0:1div;1:2div;2:4 div;3:8div*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 13  

  518       =3 
  519       =3 
  520       =3 /* CGUCON5 for INT0 wake up */
  521       =3 SBIT GPIO_WKEN              = CGUCON5^7;  /* int0 wake up enable */
  522       =3 SBIT LCD_ESD_WKEN           = CGUCON5^6;  /* lcd esd wake up enble */
  523       =3 SBIT LCD_LVD_WKEN           = CGUCON5^5;  /* lcd lvd wake up enble */
  524       =3 SBIT LCD_TIM_WKEN           = CGUCON5^4;  /* lcd timing wake up enble */
  525       =3 SBIT LCD_RELOAD_FLASH_WKEN  = CGUCON5^3;  /* LCD reload flash wake up enable */
  526       =3 SBIT ASM_MON_WKEN           = CGUCON5^2;  /* scan monitor wake up enable */
  527       =3 SBIT I2C_MON_WKEN           = CGUCON5^1;  /* i2c monitor wake up enable */
  528       =3 SBIT RTC_CNT_WKEN           = CGUCON5^0;  /* RTC or CNT wake up enable */
  529       =3 
  530       =3 /* CGUCON6 */
  531       =3 SBIT CLK_WP                 = CGUCON6^0; /* Only CGU0 need */
  532       =3 
  533       =3 /* CGUCON7 */
  534       =3 /*CGUCON7[7:6] OSC_TEST_SEL            ‘⁄gpioø⁄≤‚¡øosc32k∫Õosc48m ±÷” ±µƒ—°‘Ò–≈∫≈.3:32k_from_1m;2:32k_dig
             -;1:32K , 0:48M */
  535       =3 /*CGUCON7[5:0] OSC_TEST_DIV            ¡ø≤‚OSC48MªÚ’ﬂ32k OSC ±÷” ±£¨∑÷∆µœ¥ ˛≈‰÷√*/
  536       =3 
  537       =3 SBIT SEL_32K_SRC            = CGUCON8^7; /* 32k ±÷”‘¥—°‘Ò.1:32k—°‘Ò≤˙…˙”⁄ƒ£ƒ‚osc,1:32k¿¥‘¥”⁄1m∑÷∆µ*/
  538       =3 /* [6:0] fre_noadj_set.  ˝◊÷32k ±÷” «∑Òµ˜’˚µƒ»›÷µ. 1m ±÷”,48m¿¥≤‚,»Áπ˚’˝∫√ «32k,∏ˆ ˝Œ™1536.µ´ «1m∑÷∆µø…ƒ‹
             -µ˜’˚≤ªµΩ’˝∫√32k.
  539       =3 “Ú¥Àª·¿¥ªÿ’µ¥.Œ™¡ÀΩ‚æˆ∏√Œ Ã‚,–Ë…Ë÷√∏√÷µ.»Ù…Ë÷√÷µŒ™15,∑÷∆µ≥ˆ¿¥µƒ ±÷”,±ªºÏ≤‚‘⁄[1536-15,1536+15]÷Æº‰,≤ªª·µ˜
             -’˚ */
  540       =3 
  541       =3 /*I2CCON*/
  542       =3 SBIT I2C_WKEN               = I2CCON^5;      /* 0:disable i2c wakeup;1:enable i2c wakeup */
  543       =3 SBIT I2C_DEGLITCH_EN        = I2CCON^4;      /* analog deglitch enable.0:disable;1:enable */
  544       =3 SBIT I2C_BUSY               = I2CCON^3;      /* i2c «∑Ò¥¶”⁄∑¢ÀÕ/Ω” ’◊¥Ã¨.0:idle;1:busy */
  545       =3 SBIT I2CTI                  = I2CCON^1;      /* hw set, sw clear */
  546       =3 SBIT I2CRI                  = I2CCON^0;      /* hw set, sw clear */
  547       =3 
  548       =3 /*I2CSTOP*/
  549       =3 SBIT I2C_WAIT               = I2CSTOP^7;     /* 0: Õ∑≈i2c scl;1:¿≠µÕi2c scl,¿©’πscl÷‹∆⁄;µ±slave√¶ ±≤ªƒ‹º∞
             - ±œÏ”¶ */
  550       =3 SBIT COMP_BPSS              = I2CSTOP^6;     /* 0: πƒ‹i2cµÿ÷∑∆•≈‰;1:»°œ˚µÿ÷∑∆•≈‰øÿ÷∆ */
  551       =3 SBIT ADDR_NACK              = I2CSTOP^5;     /* 0:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ack;1:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ÀÕnack */
  552       =3 SBIT DATA_NACK              = I2CSTOP^4;     /* 0:∂‘i2c ˝æ›Ω◊∂Œ∑¢ack;1:∂‘i2c ˝æ›Ω◊∂Œ∑¢nack */
  553       =3 SBIT I2C_WK_STOP            = I2CSTOP^2;     /* wakeupƒ£øÈΩ” ’µΩ’˝»∑µƒstop£¨write 0 to clear */
  554       =3 SBIT STOPID                 = I2CSTOP^1;     /* stop◊¥Ã¨◊¥Ã¨Œª,±Ì æµ±«∞ «wr stopªπ «rd stop.0: host write
             - stop 1: host read stop */
  555       =3 SBIT I2CSTP                 = I2CSTOP^0;     /* hw set when received right i2c stop statue,sw clear */
  556       =3 
  557       =3 /*I2CSEL*/
  558       =3 SBIT I2C_MON_CFG            = I2CSEL^4;   /* 0: i2cπ§◊˜£¨i2c monitor≤ªπ§◊˜; 1:i2c≤ªπ§◊˜,i2c_monitorπ§◊˜ *
             -/
  559       =3 
  560       =3 /* I2CStart*/
  561       =3 SBIT I2C_WK_BYTE4_FLAG      = I2C_STATE^3;
  562       =3 SBIT I2C_WK_BYTE3_FLAG      = I2C_STATE^2;
  563       =3 SBIT I2C_WK_BYTE2_FLAG      = I2C_STATE^1;
  564       =3 SBIT I2C_WK_BYTE1_FLAG      = I2C_STATE^0;
  565       =3 
  566       =3 /*IEN1*/
  567       =3 SBIT SWDT                   = IEN1^6;     /*Active watchdog timer.1:active;0:idle*/
  568       =3 
  569       =3 /* WDTCON */
  570       =3 SBIT WDTACT                 = WDTCON^2;   /* wdt work state.1:wdt in running mode; 0:wdt in stop mode */
  571       =3 SBIT WDTSTARTEN             = WDTCON^1;   /* when write 1,wdt start running,it is auto clear to 0 */
  572       =3 SBIT WDTSTOPEN              = WDTCON^0;   /* when write 1,wdt stop running,it is auto clear to 0 */
  573       =3 
  574       =3 /*WDTREL*/
  575       =3 SBIT WDT_PRESCALE           = WDTREL^7;  /*Reload value for high-byte watchdog.1:√ø384∏ˆcycleº∆ ˝“ª¥Œ;0:√
             -ø24∏ˆcycleº∆ ˝“ª¥Œ*/
  576       =3 /*WDTREL[6:0]                   reload value for the high_seven_byte of the watchdog timer when a refresh
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 14  

             - is triggered.*/
  577       =3 
  578       =3 /* TCON */
  579       =3 SBIT TF1 = TCON^7;               /* timer1 overflow flag£∫
  580       =3                                    µ±timer1 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
  581       =3 SBIT TR1 = TCON^6;               /* timer1µƒøÿ÷∆Œª°£
  582       =3                                    °∞1°±£∫∆∂Øtimer1,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer1÷Æ«∞±ÿ–Î“™∞—timer1…Ë
             -∂®∫√£© */
  583       =3 SBIT TF0 = TCON^5;               /* timer0 overflow flag£∫
  584       =3                                     µ±timer0 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
  585       =3 SBIT TR0 = TCON^4;               /* timer0µƒøÿ÷∆Œª°£
  586       =3                                    °∞1°±£∫∆∂Øtimer0,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer0÷Æ«∞±ÿ–Î“™∞—timer0…Ë
             -∂®∫√£© */
  587       =3 SBIT IF1 = TCON^3;               /* external interrupt 1 edge flag,hardware controlled
  588       =3                                     set when external interrupt 1 is detected
  589       =3                                     cleared when interrupt is processed */
  590       =3 SBIT IT1 = TCON^2;               /* external interrupt 1 signal type control bit
  591       =3                                     set to specify external interrupt 1 as falling edge triggered
  592       =3                                     cleared to specify external interrupt 1 as low level triggered */
  593       =3 SBIT IF0 = TCON^1;               /* external interrupt 0 edge flag , hardware controlled
  594       =3                                     set when external interrupt 0 is detected
  595       =3                                     cleared when interrupt is processed */
  596       =3 SBIT IT0 = TCON^0;               /* external interrupt 0 signal type control bit.
  597       =3                                     Set to specify External interrupt 0 as falling edge triggered.
  598       =3                                     Cleared to specify External interrupt 0 as low level triggered. */
  599       =3 /*TMOD*/
  600       =3 SBIT GATE1              = TMOD^7;  /*timer 1 gate*/
  601       =3 SBIT GATE0              = TMOD^3;  /*timer0 gate*/
  602       =3 /*TMOD[5:4]             time1 mode select. 00:timer stop; 01:16 bit counter single mode; 10:16 bit counte
             -r repeat mode; 11:half timer1‘›Õ£π§◊˜,»Áπ˚∏¥‘≠µΩ÷Æ«∞µƒƒ£ Ω,timer1Ω´ºÃ–¯π§◊˜*/
  603       =3 /*TMOD[1:0]             time0 mode select.π¶ƒ‹Õ¨…œ*/
  604       =3 
  605       =3 /*TDIV*/
  606       =3 SBIT INTSEL1            = TDIV^7;   /*timer1÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr1«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
  607       =3 SBIT INTSEL0            = TDIV^6;   /*timer0÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr0«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
  608       =3 SBIT INTCLR1            = TDIV^5;   /*»Ìº˛«Â≥˝ ±,INTCLR1–¥1 ±«Â≥˝timer1÷–∂œ*/
  609       =3 SBIT INTCLR0            = TDIV^4;   /*»Ìº˛«Â≥˝ ±,INTCLR0–¥1 ±«Â≥˝timer1÷–∂œ*/
  610       =3 
  611       =3 /* CNTCON */
  612       =3 SBIT CNT_START          = CNTCON^7;   /* 1: ∆Ù∂ØCNT; 0: º∆ ˝÷’÷π(ø…“‘∂¡»°º∆ ˝÷µ) */
  613       =3 SBIT CNT_CLEAR          = CNTCON^4;   /* «Â≥˝CNTº∆ ˝∆˜÷µµΩ0 */
  614       =3 SBIT CNT_WKEN           = CNTCON^3;   /* CNTªΩ–— πƒ‹: 1:¥Úø™ πƒ‹ 0:πÿ±’ªΩ–— πƒ‹ */
  615       =3 
  616       =3 /*LED_EN*/
  617       =3 SBIT LED_5_EN           = LED_EN^5;
  618       =3 SBIT LED_4_EN           = LED_EN^4;
  619       =3 SBIT LED_3_EN           = LED_EN^3;
  620       =3 SBIT LED_2_EN           = LED_EN^2;
  621       =3 SBIT LED_1_EN           = LED_EN^1;
  622       =3 SBIT LED_0_EN           = LED_EN^0;
  623       =3 
  624       =3 /*MEMBIST_EN1*/
  625       =3 SBIT DRAM2_BIST_EN      = MEMBIST_EN1^7;
  626       =3 SBIT DRAM1_BIST_EN      = MEMBIST_EN1^6;
  627       =3 SBIT DRAM0_BIST_EN      = MEMBIST_EN1^5;
  628       =3 SBIT PRAM4_BIST_EN      = MEMBIST_EN1^4;
  629       =3 SBIT PRAM3_BIST_EN      = MEMBIST_EN1^3;
  630       =3 SBIT PRAM2_BIST_EN      = MEMBIST_EN1^2;
  631       =3 SBIT PRAM1_BIST_EN      = MEMBIST_EN1^1;
  632       =3 SBIT PRAM0_BIST_EN      = MEMBIST_EN1^0;
  633       =3 
  634       =3 /*MEMBIST_EN2*/
  635       =3 SBIT AFERAM_R_BIST_EN   = MEMBIST_EN2^3;
  636       =3 SBIT AFERAM_L_BIST_EN   = MEMBIST_EN2^2;
  637       =3 SBIT ARAM_BIST_EN       = MEMBIST_EN2^1;
  638       =3 SBIT PROM_BIST_EN       = MEMBIST_EN2^0;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 15  

  639       =3 
  640       =3 /*MEMBIST_FINISH1*/
  641       =3 SBIT DRAM2_FINISH       = MEMBIST_FINISH1^7;
  642       =3 SBIT DRAM1_FINISH       = MEMBIST_FINISH1^6;
  643       =3 SBIT DRAM0_FINISH       = MEMBIST_FINISH1^5;
  644       =3 SBIT PRAM4_FINISH       = MEMBIST_FINISH1^4;
  645       =3 SBIT PRAM3_FINISH       = MEMBIST_FINISH1^3;
  646       =3 SBIT PRAM2_FINISH       = MEMBIST_FINISH1^2;
  647       =3 SBIT PRAM1_FINISH       = MEMBIST_FINISH1^1;
  648       =3 SBIT PRAM0_FINISH       = MEMBIST_FINISH1^0;
  649       =3 
  650       =3 /*MEMBIST_FINISH2*/
  651       =3 SBIT RPTRAM_R_FINISH    = MEMBIST_FINISH2^7;
  652       =3 SBIT RPTRAM_L_FINISH    = MEMBIST_FINISH2^6;
  653       =3 SBIT ACCRAM_R_FINISH    = MEMBIST_FINISH2^5;
  654       =3 SBIT ACCRAM_L_FINISH    = MEMBIST_FINISH2^4;
  655       =3 SBIT TABRAM_R_FINISH    = MEMBIST_FINISH2^3;
  656       =3 SBIT TABRAM_L_FINISH    = MEMBIST_FINISH2^2;
  657       =3 SBIT ARAM_FINISH        = MEMBIST_FINISH2^1;
  658       =3 SBIT PROM_FINISH        = MEMBIST_FINISH2^0;
  659       =3 
  660       =3 /*MEMBIST_FAIL1*/
  661       =3 SBIT DRAM2_FAIL         = MEMBIST_FAIL1^7;
  662       =3 SBIT DRAM1_FAIL         = MEMBIST_FAIL1^6;
  663       =3 SBIT DRAM0_FAIL         = MEMBIST_FAIL1^5;
  664       =3 SBIT PRAM4_FAIL         = MEMBIST_FAIL1^4;
  665       =3 SBIT PRAM3_FAIL         = MEMBIST_FAIL1^3;
  666       =3 SBIT PRAM2_FAIL         = MEMBIST_FAIL1^2;
  667       =3 SBIT PRAM1_FAIL         = MEMBIST_FAIL1^1;
  668       =3 SBIT PRAM0_FAIL         = MEMBIST_FAIL1^0;
  669       =3 
  670       =3 /*MEMBIST_FAIL2*/
  671       =3 SBIT RPTRAM_R_FAIL      = MEMBIST_FAIL2^7;
  672       =3 SBIT RPTRAM_L_FAIL      = MEMBIST_FAIL2^6;
  673       =3 SBIT ACCRAM_R_FAIL      = MEMBIST_FAIL2^5;
  674       =3 SBIT ACCRAM_L_FAIL      = MEMBIST_FAIL2^4;
  675       =3 SBIT TABRAM_R_FAIL      = MEMBIST_FAIL2^3;
  676       =3 SBIT TABRAM_L_FAIL      = MEMBIST_FAIL2^2;
  677       =3 SBIT ARAM_FAIL          = MEMBIST_FAIL2^1;
  678       =3 SBIT PROM_FAIL          = MEMBIST_FAIL2^0;
  679       =3 
  680       =3 /*MEMBIST_ERRMAP1*/
  681       =3 SBIT DRAM2_ERRMAP       = MEMBIST_ERRMAP1^7;
  682       =3 SBIT DRAM1_ERRMAP       = MEMBIST_ERRMAP1^6;
  683       =3 SBIT DRAM0_ERRMAP       = MEMBIST_ERRMAP1^5;
  684       =3 SBIT PRAM4_ERRMAP       = MEMBIST_ERRMAP1^4;
  685       =3 SBIT PRAM3_ERRMAP       = MEMBIST_ERRMAP1^3;
  686       =3 SBIT PRAM2_ERRMAP       = MEMBIST_ERRMAP1^2;
  687       =3 SBIT PRAM1_ERRMAP       = MEMBIST_ERRMAP1^1;
  688       =3 SBIT PRAM0_ERRMAP       = MEMBIST_ERRMAP1^0;
  689       =3 
  690       =3 /*MEMBIST_ERRMAP2*/
  691       =3 SBIT RPTRAM_R_ERRMAP    = MEMBIST_ERRMAP2^7;
  692       =3 SBIT RPTRAM_L_ERRMAP    = MEMBIST_ERRMAP2^6;
  693       =3 SBIT ACCRAM_R_ERRMAP    = MEMBIST_ERRMAP2^5;
  694       =3 SBIT ACCRAM_L_ERRMAP    = MEMBIST_ERRMAP2^4;
  695       =3 SBIT TABRAM_R_ERRMAP    = MEMBIST_ERRMAP2^3;
  696       =3 SBIT TABRAM_L_ERRMAP    = MEMBIST_ERRMAP2^2;
  697       =3 SBIT ARAM_ERRMAP        = MEMBIST_ERRMAP2^1;
  698       =3 SBIT PROM_ERRMAP        = MEMBIST_ERRMAP2^0;
  699       =3 
  700       =3 /* AIF */
  701       =3 SBIT WDT_INT_IF         = AIF^4;      /* wdt int«Î«Û–≈∫≈ */
  702       =3 SBIT SPI0_INT_IF        = AIF^3;      /* spi0 int«Î«Û–≈∫≈ */
  703       =3 SBIT SPI1_INT_IF        = AIF^2;      /* spi1 int«Î«Û–≈∫≈ */
  704       =3 SBIT ASM_INT_IF         = AIF^1;      /* asm int«Î«Û–≈∫≈ */
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 16  

  705       =3 SBIT I2C_STOP_IF        = AIF^0;      /* i2c stop int«Î«Û–≈∫≈ */
  706       =3 
  707       =3 /* AIE */
  708       =3 SBIT WDT_INT_EI         = AIE^4;    /* wdt int enable */
  709       =3 SBIT SPI0_EI            = AIE^3;    /* spi0 int enable*/
  710       =3 SBIT SPI1_EI            = AIE^2;    /* spi1 int enable */
  711       =3 SBIT ASM_EI             = AIE^1;    /* Asm int enable */
  712       =3 SBIT I2C_STOP_EI        = AIE^0;    /* i2c stop int enable */  
  713       =3 
  714       =3 
  715       =3 /* IEN0 */
  716       =3 SBIT EA                 = IEN0^7;  /* Global Interrupt Enable */
  717       =3 SBIT EC                 = IEN0^6;  /* uart */
  718       =3 SBIT ET2                = IEN0^5;  /* I2C */
  719       =3 SBIT ES                 = IEN0^4;  /* LCD TIMING int */
  720       =3 SBIT ET1                = IEN0^3;  /* timer1 */
  721       =3 SBIT EX1                = IEN0^2;  /* RTC or CNT */
  722       =3 SBIT ET0                = IEN0^1;  /* timer0 */
  723       =3 SBIT EX0                = IEN0^0;  /* int0 wake up */
  724       =3 
  725       =3 /* interruption priority */
  726       =3 SBIT IPHX0              = IPH0^0;   /* Int0 */
  727       =3 SBIT IPLX0              = IPL0^0;
  728       =3 SBIT IPHT0              = IPH0^1;   /* Time0 */
  729       =3 SBIT IPLT0              = IPL0^1;
  730       =3 SBIT IPHX1              = IPH0^2;   /* Int1 */
  731       =3 SBIT IPLX1              = IPL0^2;
  732       =3 SBIT IPHT1              = IPH0^3;   /* Time1 */
  733       =3 SBIT IPLT1              = IPL0^3;
  734       =3 SBIT LCD_IPH            = IPH0^4;   /* LCD int run */
  735       =3 SBIT LCD_IPL            = IPL0^4;
  736       =3 SBIT I2C_IPH            = IPH0^5;   /* I2C */
  737       =3 SBIT I2C_IPL            = IPL0^5;
  738       =3 SBIT Uart_IPH           = IPH0^6;   /* Uart */
  739       =3 SBIT Uart_IPL           = IPL0^6;
  740       =3 SBIT I2C_STOP_IPH       = AIPH^0;   /* I2C Stop */
  741       =3 SBIT I2C_STOP_IPL       = AIPL^0;
  742       =3 SBIT ASM_IPH            = AIPH^1;   /* ASM */
  743       =3 SBIT ASM_IPL            = AIPL^1;   
  744       =3 SBIT SPI1_IPH           = AIPH^2;   /* SPI1 */
  745       =3 SBIT SPI1_IPL           = AIPL^2;
  746       =3 SBIT SPI0_IPH           = AIPH^3;   /* SPI0 */
  747       =3 SBIT SPI0_IPL           = AIPL^3;
  748       =3 SBIT WDT_IPH            = AIPH^4;   /* wdt */
  749       =3 SBIT WDT_IPL            = AIPL^4;
  750       =3 
  751       =3 /* P0 */
  752       =3 SBIT P0_7               = P0BUF^7;
  753       =3 SBIT P0_6               = P0BUF^6;
  754       =3 SBIT P0_5               = P0BUF^5;
  755       =3 SBIT P0_4               = P0BUF^4;
  756       =3 SBIT P0_3               = P0BUF^3;
  757       =3 SBIT P0_2               = P0BUF^2;
  758       =3 SBIT P0_1               = P0BUF^1;
  759       =3 SBIT P0_0               = P0BUF^0;
  760       =3 
  761       =3 /*p1*/
  762       =3 SBIT P1_7               = P1BUF^7;
  763       =3 SBIT P1_6               = P1BUF^6;
  764       =3 SBIT P1_5               = P1BUF^5;
  765       =3 SBIT P1_4               = P1BUF^4;
  766       =3 SBIT P1_3               = P1BUF^3;
  767       =3 SBIT P1_2               = P1BUF^2;
  768       =3 SBIT P1_1               = P1BUF^1;
  769       =3 SBIT P1_0               = P1BUF^0;
  770       =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 17  

  771       =3 
  772       =3 /* GPIO pin definition */
  773       =3 SBIT Flash_WP           = P1BUF^7;
  774       =3 SBIT Flash_HOLD         = P1BUF^4;
  775       =3 
  776       =3 SBIT Flash_pad          = P1BUF^6;
  777       =3 SBIT Flash_DIR          = P1DIR^6;
  778       =3 SBIT Flash_GPIO         = P1MOD^6;
  779       =3 SBIT Flash_DM           = P1SEL^6;
  780       =3 
  781       =3 SBIT INTOUT             = P0BUF^6;
  782       =3 SBIT INTOUT_DIR         = P0DIR^6;
  783       =3 SBIT GPIO_INTOUT        = P0MOD^6;
  784       =3 SBIT INTOUT_DM          = P0SEL^6;
  785       =3 
  786       =3 SBIT GPIO3              = P0BUF^7;
  787       =3 SBIT GPIO3_DIR          = P0DIR^7;
  788       =3 SBIT GPIO3_INTOUT       = P0MOD^7;
  789       =3 SBIT GPIO3_DM           = P0SEL^7;
  790       =3 
  791       =3 SBIT GPIO4              = P1BUF^5;
  792       =3 SBIT GPIO4_DIR          = P1DIR^5;
  793       =3 SBIT GPIO4_INTOUT       = P1MOD^5;
  794       =3 SBIT GPIO4_DM           = P1SEL^5;
  795       =3 
  796       =3 /* mcu clk config */
  797       =3 #define MAIN_CLK  0 //0:48M; 1:24M   
  798       =3 /*******************************************************************************
  799       =3  * 3.Global structures, unions and enumerations using typedef
  800       =3  *******************************************************************************/
  801       =3 
  802       =3 /*******************************************************************************
  803       =3  * 4.Global variable extern declarations
  804       =3  *******************************************************************************/
  805       =3 
  806       =3 
  807       =3 /******************************************************************************
  808       =3 *
  809       =3 * App Info data section
  810       =3 ******************************************************************************/
  811       =3 // app ¥Ê‘⁄flashµƒŒÔ¿Ìµÿ÷∑
  812       =3 #define CODE_START_ADDR       0x1000
  813       =3 #define CODE_VERIF_ADDR       (CODE_START_ADDR+APP_VERIF_ADDR)
  814       =3 
  815       =3 // app ¥Ê‘⁄pramµƒŒÔ¿Ìµÿ÷∑
  816       =3 #define APP_ADDR_START        0x0000  // app start addr
  817       =3 #define APP_START_OPCODE      0x02
  818       =3 
  819       =3 #define APP_VERIF_ADDR        0x100   // Verification Info
  820       =3 #define APP_VERIF_LEN         0x20
  821       =3 #define APP_VERIF_CODE_LEN    0x04    //app÷–code≥§∂»–≈œ¢
  822       =3 
  823       =3 typedef enum
  824       =3 {
  825       =3     APP_LEN      = 0x00,
  826       =3     APP_NE_LEN   = 0x02,
  827       =3     P1_ECC_H     = 0x04,
  828       =3     P1_ECC_L     = 0x05,
  829       =3     P1_ECC_NE_H  = 0x06,
  830       =3     P1_ECC_NE_L  = 0x07,
  831       =3     P2_ECC_H     = 0x08,
  832       =3     P2_ECC_L     = 0x09,
  833       =3     P2_ECC_NE_H  = 0x0A,
  834       =3     P2_ECC_NE_L  = 0x0B,
  835       =3     APP_LEN_H    = 0x12,
  836       =3     APP_LEN_H_NE = 0x14,
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 18  

  837       =3 } ENUM_APP_INFO;
  838       =3 
  839       =3 // App—È÷§–≈œ¢
  840       =3 #define ADDR_APP_LEN          (APP_VERIF_ADDR+APP_LEN)
  841       =3 #define ADDR_APP_NE_LEN       (APP_VERIF_ADDR+APP_NE_LEN)
  842       =3 #define ADDR_PART1_ECC        (APP_VERIF_ADDR+P1_ECC_H)
  843       =3 #define ADDR_PART1_ECC_NE     (APP_VERIF_ADDR+P1_ECC_NE_H)
  844       =3 #define ADDR_PART2_ECC        (APP_VERIF_ADDR+P2_ECC_H)
  845       =3 #define ADDR_PART2_ECC_NE     (APP_VERIF_ADDR+P2_ECC_NE_H)
  846       =3 #define ADDR_APP_LEN_H        (APP_VERIF_ADDR+APP_LEN_H)
  847       =3 #define ADDR_APP_LEN_H_NE     (APP_VERIF_ADDR+APP_LEN_H_NE)
  848       =3 
  849       =3 #define APP_ADDR_PART1_START  0x0000
  850       =3 #define APP_ADDR_PART1_LEN    ((APP_VERIF_ADDR)-(APP_ADDR_PART1_START))
  851       =3 #define APP_ADDR_PART2_START  ((APP_VERIF_ADDR)+(APP_VERIF_LEN)+(FW_CFG_TOTAL_SIZE))
  852       =3 
  853       =3 #define FLASH_APP_INFO        (APP_VERIF_ADDR + CODE_START_ADDR)
  854       =3 /******************************************************************************
  855       =3 *
  856       =3 * FW config data section
  857       =3 *******************************************************************************
  858       =3 /
  859       =3 /* FW≈‰÷√«¯”Ú≥§∂» */
  860       =3 #define FW_CFG_TOTAL_SIZE          0x80
  861       =3 #define FW_CFG_INFO_SIZE           0x0E
  862       =3 
  863       =3 /* FW≈‰÷√«¯”Ú∆´“∆¡ø */
  864       =3 typedef enum
  865       =3 {
  866       =3     FW_CFG_I2C_OFFSET              = 0x00,     // master I2C  addr
  867       =3     FW_CFG_I2C_NE_OFFSET           = 0x01,     // ~master I2C addr
  868       =3     FW_CFG_IOVOLTAGE_OFFSET        = 0x02,     // Io Voltage 
  869       =3     FW_CFG_IOVOLTAGE_NE_OFFSET     = 0x03,     // ~Io Voltage
  870       =3     FW_CFG_VENDOR_OFFSET           = 0x04,     // Vendor 
  871       =3     FW_CFG_VENDOR_NE_OFFSET        = 0x05,     // ~Vendor
  872       =3     FW_CFG_SPI_CLK_OFFSET          = 0x06,     // SPI Clk
  873       =3     FW_CFG_SPI_CLK_NE_OFFSET       = 0x07,     // ~SPI Clk
  874       =3     FW_CFG_SYS_CLK_OFFSET          = 0x08,     // Sys Clk
  875       =3     FW_CFG_SYS_CLK_NE_OFFSET       = 0x09,     // ~Sys Clk 
  876       =3     FW_CFG_XBUS_CLK_OFFSET         = 0x0A,     // LCD xbus clk
  877       =3     FW_CFG_XBUS_CLK_NE_OFFSET      = 0x0B,     // ~LCD xbus clk
  878       =3     FW_CFG_SPI_IOMODE_OFFSET       = 0x0C,     // spi iomode
  879       =3     FW_CFG_SPI_IOMODE_NE_OFFSET    = 0x0D,     // ~spi iomode
  880       =3 } ENUM_FW_CFG_OFFSET;
  881       =3 
  882       =3 /* FW≈‰÷√«¯”ÚFlashŒª÷√ */
  883       =3 typedef enum
  884       =3 {
  885       =3     FW_CFG_START_FLASH_ADDR        = 0x0F80,
  886       =3     FW_CFG_I2C_FLASH_ADDR          = (FW_CFG_START_FLASH_ADDR+
  887       =3 FW_CFG_I2C_OFFSET),
  888       =3 } ENUM_FW_CFG_FLASH_ADDR;
  889       =3 
  890       =3 /* FW≈‰÷√±∏∑›«¯”ÚFlashŒª÷√ */
  891       =3 typedef enum
  892       =3 {
  893       =3     FW_CFG_BKUP_START_FLASH_ADDR   = 0x1120,
  894       =3     FW_CFG_BKUP_I2C_FLASH_ADDR     = (FW_CFG_BKUP_START_FLASH_ADDR+FW_CFG_I2C_OFFSET),
  895       =3 } ENUM_FW_CFG_BKUP_FLASH_ADDR;
  896       =3 
  897       =3 /* LCD OTP≈‰÷√«¯”ÚŒª÷√ */
  898       =3 typedef enum
  899       =3 {
  900       =3     LCD_OTP_REG_ADDR               = 0x9866,
  901       =3     LCD_OTP_MASTER_I2C_ADDR        = (LCD_OTP_REG_ADDR+FW_CFG_I2C_OFFSET),
  902       =3     LCD_OTP_MASTER_I2C_NE_ADDR,
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 19  

  903       =3     LCD_OTP_SPI_CLK_ADDR           = (LCD_OTP_REG_ADDR+FW_CFG_SPI_CLK_OFFSET),
  904       =3     LCD_OTP_SPI_CLK_NE_ADDR,
  905       =3     LCD_OTP_SYS_CLK_ADDR,
  906       =3     LCD_OTP_SYS_CLK_NE_ADDR,
  907       =3     LCD_OTP_XBUS_CLK_ADDR,
  908       =3     LCD_OTP_XBUS_CLK_NE_ADDR,
  909       =3     LCD_OTP_SPI_IOMODE_ADDR,
  910       =3     LCD_OTP_SPI_IOMODE_NE_ADDR,
  911       =3 } ENUM_LCD_OTP_ADDR;
  912       =3 
  913       =3 #define REG8(n)  (*((volatile UINT8  *)(n)))
  914       =3 #define REG16(n) (*((volatile UINT16 *)(n)))
  915       =3 #define REG32(n) (*((volatile UINT32 *)(n)))
  916       =3 
  917       =3 #define APP_DATA_MAX         0x11800
  918       =3 #define RST_VALUE_UPGRADE    0x6B  /* Flag of upgrade according to Romboot */
  919       =3 
  920       =3 #define PRAM_ADDR8(n)    (*((UINT8 far *)((UINT32)0xFEE800 + (n))))
  921       =3 #define PRAM2_ADDR8(n)   (*((UINT8 far *)((UINT32)0xFF4000 + (n))))
  922       =3 
  923       =3 #define PRAM_PTR8(n)     ((volatile UINT8 far *)((UINT32)0xFEE800 + (n)))
  924       =3 #define PRAM2_PTR8(n)    ((volatile UINT8 far *)((UINT32)0xFF4000 + (n)))
  925       =3 
  926       =3 #define PROM_ADDR8(n)     (*((UINT8 far *)(0xFD0000 + n)))
  927       =3 #define DRAM_ADDR8(n)     (*((UINT8 *)(0x0000 + n)))
  928       =3 
  929       =3 
  930       =3 #define PRAM_ADDR16(n)     (*((UINT16 far *)(0xFEE800 + n)))
  931       =3 
  932       =3 #define PROM_ADDR16(n)     (*((UINT16 far *)((UINT32)0xFD0000 + n)))
  933       =3 #define DRAM_ADDR16(n)     (*((UINT16 *)((UINT32)0x0000 + n)))
  934       =3 
  935       =3 #define HOLD            while (1)
  936       =3 /*******************************************************************************
  937       =3  * Global function prototypes
  938       =3  *******************************************************************************/
  939       =3 
  940       =3 #endif
   87       =2 #include "FT8836_Reg.h"
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: FT8836_Reg.h
    5       =3 *
    6       =3 *    Author: 
    7       =3 *
    8       =3 *   Created: 2016-07-11
    9       =3 *
   10       =3 *  Abstract: Define FT8836 Sram registers and their bits
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 
   16       =3 #ifndef _FT8836_REG_H_
   17       =3 #define _FT8836_REG_H_
   18       =3 
   19       =3 /* Conditional Compiler Options */
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * Included files
   23       =3 *******************************************************************************/
   24       =3 #include "FT8836.h"
    1       =4 /*******************************************************************************
    2       =4  * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =4  *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 20  

    4       =4  * File Name: FT8836.h
    5       =4  *
    6       =4  *    Author: 
    7       =4  *
    8       =4  *   Created: 2016-07-11
    9       =4  *
   10       =4  *  Abstract: 1. In this file, sfrs(special function registers) and their bits
   11       =4  *            are defined for chip ft8626 based on platform C251.
   12       =4  *
   13       =4  *            2. Please note that there are some differences in the way the
   14       =4  *            instructions address bits between the two architectures MCS251 and
   15       =4  *            MCS51. The MCS251 does not have bit addresses as MCS51 does. A bit
   16       =4  *            can be addressed by name or by its location within a certain
   17       =4  *            register, but not by a bit address.
   18       =4  *
   19       =4  *            Table: Addressing Modes for Bit Instructions
   20       =4  *            -------------------------------------------------------------------
   21       =4  *            Architecture Variants Bit Address Memory/SFR Address Comments
   22       =4  *            -------------------------------------------------------------------
   23       =4  *            MCS251       Memory -- NA ------- 20H.0-7FH.7        does not have
   24       =4  *            (bit)        SFR ----- NA ------- All defined SFRs   bit addresses
   25       =4  *            -------------------------------------------------------------------
   26       =4  *            MCS 51       Memory -- 00H-7FH -- 20H.0-7FH.7        not all SFRs
   27       =4  *            (bit51)      SFR ----- 80H-F8H -- XXH.0-XXH.7, where have bit
   28       =4  *                                              XX = 80,88,90,98,  addresses.
   29       =4  *                                              ..., F0, F8.
   30       =4  *            -------------------------------------------------------------------
   31       =4  *
   32       =4  *            3. This file is only used by library and driver of project ft5412.
   33       =4  *
   34       =4  * Reference: 1. Intel 8xc251sx User's Manual (8xc251sx_um.pdf)
   35       =4  *            2. Keil C251 help document
   36       =4  *
   37       =4  *******************************************************************************/
   38       =4 #ifndef __FT8836_H__
            =4 #define __FT8836_H__
            =4 
            =4 /* Conditional Compiler Options */
            =4 
            =4 /* Conditional Compiler Options */
            =4 /*******************************************************************************
            =4  * 1.Included files
            =4  *******************************************************************************/
            =4 
            =4 /*******************************************************************************
            =4  * 2.Global constant and macro definitions using #define
            =4  *******************************************************************************/
            =4 /******************************************************************************/
            =4 /* byte Registers */
            =4 
            =4 /*80-87*/
            =4 SFR P0BUF           = 0x80;   /*PoBuf*/
            =4 SFR SP              = 0x81; 
            =4 SFR DPL             = 0x82;
            =4 SFR DPH             = 0x83;
            =4 SFR DPXL            = 0x84;
            =4 SFR PCON            = 0x87;
            =4 
            =4 /*88-8F*/
            =4 SFR TCON            = 0x88;
            =4 SFR TMOD            = 0x89;
            =4 SFR TL0             = 0x8A;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL0[7:0]X4us,◊Ó¥Û÷µ≤ªƒ‹≥¨π˝1ms“≤æÕ «Àµ◊Ó¥
             -Û÷µŒ™8°ØhF9,¥Û”⁄¥À÷µ ±Ω´«ø÷∆Œ™8°ØhF9. */
            =4 SFR TL1             = 0x8B;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL1[7:0]X4us */
            =4 SFR TH0             = 0x8C;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH0[7:0]X1ms,TH0[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 21  

            =4 SFR TH1             = 0x8D;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH1[7:0]X1ms,TH1[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
            =4 
            =4 /*90-97*/
            =4 SFR I2CCON          = 0x90;
            =4 SFR I2CBUF          = 0x91;
            =4 SFR I2CADDR         = 0x92;
            =4 SFR I2CSTOP         = 0x93;
            =4 SFR P1BUF           = 0x94;   /*P1Buf*/
            =4 SFR I2CSEL          = 0x95;
            =4 SFR MMCON           = 0x97;
            =4 
            =4 /*98-9F*/
            =4 SFR SYSCON          = 0x98;
            =4 SFR WDTCON          = 0x99;
            =4 SFR WDTREL          = 0x9A;
            =4 SFR TDIV            = 0x9B;
            =4 SFR RTCIVL          = 0x9C; /*rtcº∆ ˝÷’÷πµÕ8Œª*/      
            =4 SFR RTCIVH          = 0x9D; /*rtcº∆ ˝÷’÷π∏ﬂ8Œª*/
            =4 SFR RTCCON          = 0x9E;
            =4 SFR RTCSLN          = 0x9F; /*rtc  ±º‰∆¨∏ˆ ˝*/
            =4 
            =4 /*A0-A7*/
            =4 SFR ANACON8         = 0xA0;
            =4 SFR SPI0CON         = 0xA2;
            =4 SFR SPI0CON2        = 0xA3;
            =4 SFR SPI0BUF         = 0xA4;
            =4 SFR SPI0CON3        = 0xA5;
            =4 SFR SPI0CON4        = 0xA6; 
            =4 SFR SPI0CON5        = 0xA7;
            =4 
            =4 /*A8-AF*/
            =4 SFR IEN0            = 0xA8;
            =4 SFR UARTCON         = 0xA9;
            =4 SFR UARTBUF         = 0xAA;
            =4 SFR UART_RELL       = 0xAB;
            =4 SFR P0DIR           = 0xAC;   /*P0ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
            =4 SFR P1DIR           = 0xAD;   /*P1ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
            =4 SFR UART_RELH       = 0xAE;
            =4 SFR UART_SDA        = 0xAF;
            =4 
            =4 /*B0-B7*/
            =4 SFR ANACON9         = 0xB0;
            =4 SFR SPI1CON3        = 0xB1;
            =4 SFR SPI1CON4        = 0xB2;
            =4 SFR SPI1CON         = 0xB3;
            =4 SFR SPI1CON2        = 0xB4;
            =4 SFR SPI1BUF         = 0xB5;
            =4 SFR RTCCON1         = 0xB6;
            =4 SFR IPH0            = 0xB7; 
            =4 
            =4 /*B8-BF*/
            =4 SFR IPL0            = 0xB8;
            =4 SFR CNTCON          = 0xB9;
            =4 SFR CNTIVL          = 0xBA;  /*CNTº∆ ˝÷’÷πµÕ8Œª*/
            =4 SFR CNTIVM          = 0xBB;  /*CNTº∆ ˝÷’÷π÷–º‰8Œª*/
            =4 SFR CNTIVH          = 0xBC;  /*CNTº∆ ˝÷’÷π∏ﬂ8Œª*/
            =4 SFR FT_EN_REG       = 0xBD;  /*lcd otp to tp soc*/
            =4 SFR SPH             = 0xBE;
            =4 SFR CGUCON8         = 0xBF;
            =4 
            =4 /*C0-C7*/
            =4 SFR AIF            = 0xC0;
            =4 SFR ANACON1        = 0xC1;
            =4 SFR ANACON2        = 0xC2;
            =4 SFR ANACON3        = 0xC3;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 22  

            =4 SFR ANACON4        = 0xC4;
            =4 SFR ANACON5        = 0xC5;
            =4 SFR ANACON6        = 0xC6;
            =4 SFR ANACON7        = 0xC7;
            =4 
            =4 /*C8-CF*/
            =4 SFR CGUCON1        = 0xC8;
            =4 SFR CGUCON0        = 0xC9;
            =4 SFR CGUCON2        = 0xCA;
            =4 SFR CGUCON3        = 0xCB;
            =4 SFR CGUCON4        = 0xCC;
            =4 SFR CGUCON5        = 0xCD;
            =4 SFR CGUCON6        = 0xCE;
            =4 SFR CGUCON7        = 0xCF;
            =4 
            =4 /* D1-D7 */
            =4 SFR MEMBIST_EN1         = 0xD2;
            =4 SFR MEMBIST_EN2         = 0xD3;
            =4 SFR MEMBIST_FINISH1     = 0xD4;
            =4 SFR MEMBIST_FINISH2     = 0xD5;
            =4 SFR MEMBIST_FAIL1       = 0xD6;
            =4 SFR MEMBIST_FAIL2       = 0xD7;
            =4 
            =4 /* D8-DF */
            =4 SFR MEMBIST_ERRMAP1     = 0xD8;
            =4 SFR MEMBIST_ERRMAP2     = 0xD9;
            =4 SFR DSV_CON             = 0xDA;
            =4 SFR MEMBIST_ROMCRC0     = 0xDB;
            =4 SFR MEMBIST_ROMCRC1     = 0xDC; 
            =4 SFR MEMBIST_ROMCRC2     = 0xDD;
            =4 SFR MEMBIST_ROMCRC3     = 0xDE;
            =4 SFR IEN1                = 0xDF;
            =4 
            =4 /*E0-E7*/
            =4 SFR TESTCON0            = 0xE1;
            =4 SFR TESTCON1            = 0xE2;
            =4 SFR TESTCON2            = 0xE3;
            =4 SFR TESTCON3            = 0xE4;
            =4 SFR IWKSTA              = 0xE5;
            =4 SFR POR_STA             = 0xE6; /*POR∏¥ŒªºÏ≤È*/
            =4 SFR RST_STA             = 0xE7; /*Pin reset∏¥ŒªºÏ≤È*/
            =4 
            =4 
            =4 /*E8-EF*/
            =4 SFR AIE                 = 0xE8;
            =4 SFR SFTRST              = 0xE9;
            =4 SFR ANACON              = 0xEA;
            =4 SFR P0MOD               = 0xEB; /*0:P0 use as gpio;1:po use as function define*/
            =4 SFR P0SEL               = 0xEC; /*0:P0 as OD port; 1:P0 as PUSH-PULL port*/
            =4 SFR P1MOD               = 0xED; /*0:P1 use as gpio;1:p1 use as function define*/
            =4 SFR P1SEL               = 0xEE; /*0:P1 as OD port; 1:P1 as PUSH-PULL port*/
            =4 SFR XDP_STA             = 0xEF;
            =4 
            =4 /*F0-F7*/
            =4 SFR CNT_MASK            = 0xF1; /* 3'b00:porrst_cnt;3'b01:wdtrst_cnt;3'h02:extrst_cnt;3'h03:lcdrst_cnt;3'
             -b04:esd_cnt;3'h05:lvd_cnt*/
            =4 SFR CNT_STA             = 0xF2; /* ∏˘æ›cnt_maskµƒ÷µ£¨∂¿¥¶≤ªÕ¨µƒcnt÷µ*/
            =4 SFR SSCG_CON0           = 0xF5;
            =4 SFR SSCG_CON1           = 0xF6; /* sscg_step:sscg increase/decrease period(500us/step). sscg trim code wi
             -ll increase in every(500ns*(step+1))*/
            =4 SFR AIPH                = 0xF7;
            =4 
            =4 /*F8-FF*/
            =4 SFR AIPL                = 0xF8;
            =4 SFR I2C_CMD0            = 0xF9; /* i2c hid command byte1 */
            =4 SFR I2C_CMD1            = 0xFA; /* i2c hid command byte2 */
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 23  

            =4 SFR I2C_CMD2            = 0xFB; /* i2c hid command byte3 */
            =4 SFR I2C_CMD3            = 0xFC; /* i2c hid command byte4 */
            =4 SFR I2C_STATE           = 0xFD; /* i2C hid ÷–∂œ±Í÷æºƒ¥Ê∆˜ */
            =4 SFR LED_EN              = 0xFE; /* 4∏ˆLEDµ∆ πƒ‹; bit3~bit0”––ß,√øbit∑÷±∂‘”¶“ª∏ˆLED πƒ‹ */
            =4 SFR LED_H_NUM           = 0xFF; /* led PWM≤®∏ﬂµÁ∆Ω≥÷–¯µƒ÷‹∆⁄ ˝£¨0~63ø…≈‰£¨0¥˙±Ì1∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨63¥˙±Ì64
             -∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨º¥“ª÷±Œ™∏ﬂ£ª*/
            =4 
            =4 
            =4 /******************************************************************************/
            =4 /* bit Registers */
            =4 
            =4 /*SSCG_CON0*/
            =4 /*bit5-4  sscg_amp */   /*sscg amplitude. Control the output sequence of DA_TRIM[2:0]. Clock stable time 
             -between each trim code is located in range 100ns-200ns*/
            =4 SBIT SSCG_SCAN_EN           = SSCG_CON0^1; /*0:stop sscg when scan 1:contiune sscg when scan(sync with sc
             -an)*/
            =4 SBIT SSCG_EN                = SSCG_CON0^0; /*0:disable sscg  1:enable sscg*/
            =4 
            =4 /*SPI0CON*/
            =4 SBIT SPI0RX_OVF_FLAG        = SPI0CON^6;  /*rx_reg_overflow±Í÷æŒª£¨spi0Ω” ’ÕÍ ˝æ›rx_regŒ™¬˙ ±£¨”≤º˛÷√1*/
            =4 SBIT SPI0TX_UNF_FLAG        = SPI0CON^5;  /*tx_reg_underflow±Í÷æŒª£¨spi0∑¢ÀÕ ˝æ› ±rx_regŒ™ø’ ±£¨”≤º˛÷√1*/
            =4 SBIT SPI0_START             = SPI0CON^4;  /*SPI0µƒslvelœ¬Ωµ—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
            =4 SBIT SPI0_STOP              = SPI0CON^3;  /*SPI0µƒslvel…œ…˝—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
            =4 SBIT DMA_END_FLAG           = SPI0CON^2;  /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û±Í÷æŒª£¨»Ìº˛«Â¡„*/
            =4 SBIT SPI0RI                 = SPI0CON^1;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
            =4 SBIT SPI0TI                 = SPI0CON^0;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
            =4 
            =4 /*SPI0CON2*/
            =4 SBIT SPI0TX_AUTO_CLR        = SPI0CON2^7; /* «∑Ò◊‘∂Ø«Â≥˝ti÷–∂œ±Í÷æŒª£ª0:–Ë“™»Ìº˛«Â£ª1:»Ìº˛‘⁄–¥tx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
            =4 SBIT SPI0RX_AUTO_CLR        = SPI0CON2^6; /* «∑Ò◊‘∂Ø«Â≥˝ri÷–∂œ±Í÷æŒª. 0:–Ë“™»Ìº˛«Â; 1:»Ìº˛‘⁄∂¡rx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
            =4 SBIT SPI0_EDGE_SEL          = SPI0CON2^5; /*0:sck…œ…˝—ÿ ‰≥ˆ;1:sckœ¬Ωµ—ÿ ‰≥ˆ*/
            =4 SBIT SPI0_BUSY              = SPI0CON2^4; /*0:µÕµÁ∆Ω◊¥Ã¨£¨÷ªƒ‹∂¡≤ªƒ‹–¥;1:SPI0’˝‘⁄º§ªÓ◊¥Ã¨*/
            =4 SBIT SPI0_STOP_EI           = SPI0CON2^3; /*spi_stop÷–∂œ«Î«Û–≈∫≈ πƒ‹*/
            =4 SBIT DMA_END_EI             = SPI0CON2^2; /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û πƒ‹*/
            =4 SBIT SPI0RI_EN              = SPI0CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
            =4 SBIT SPI0TI_EN              = SPI0CON2^0; /*0:Ω˚÷π≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈*/
            =4 
            =4 /*SPI0CON3*/
            =4 SBIT SPI0_WKEN              = SPI0CON3^7; /*spi wake upπ¶ƒ‹ πƒ‹Œª.0:disable;1:enable*/
            =4 SBIT SPI0_RI_PULSE_SEL      = SPI0CON3^4; /*0:rx_reg load at ti_ri_pulse falling edg;1:rx_reg load at ri_
             -pulse rising edge*/
            =4 //SBIT SPI0_CLR_NUM           = SPI0CON3^4; /*write 1 to clear byte num*/
            =4 /*spi0con3[3:0] dummy_byte_num csœ¬Ωµ—ÿø™ º≤Â»Îµƒdummy byte ˝*/
            =4 
            =4 /*SPI0CON4*/
            =4 /*SPI0CON4[7:6] byte_num_rd_sel  byte_num∂¡≥ˆ—°‘Ò.2'b00:byte_num_h; 2'b01:byte_num_m; 2'b10:byte_num_l */
            =4 /*SPI0CON4[5:0] byte_num_rd byte_num 6bit,”…byte_numæˆ∂®*/
            =4 
            =4 /*SPI0CON5*/
            =4 SBIT SPI0RX_OVF_CLR         = SPI0CON5^6;  /*–¥1«Â≥˝rx_reg_overflow±Í÷æŒª*/
            =4 SBIT SPI0TX_UNF_CLR         = SPI0CON5^5;  /*–¥1«Â≥˝tx_reg_underflow±Í÷æŒª*/
            =4 SBIT SPI0_START_CLR         = SPI0CON5^4;  /*–¥1«Â≥˝spi0 start*/
            =4 SBIT SPI0_STOP_CLR          = SPI0CON5^3;  /*–¥1«Â≥˝spi0 stop*/
            =4 SBIT DMA_END_CLR            = SPI0CON5^2;  /*–¥1«Â≥˝dma end flag*/
            =4 SBIT SPI0RI_CLR             = SPI0CON5^1;  /*–¥1«Â≥˝SPI0RT*/
            =4 SBIT SPI0TI_CLR             = SPI0CON5^0;  /*–¥1«Â≥˝SPI0TI*/
            =4 
            =4 
            =4 /*SPICLKDIV: 000:4∑÷∆µ;001:6∑÷∆µ;010:8∑÷∆µ;011:12∑÷∆µ;100:16∑÷∆µ;101:18∑÷∆µ;110:20∑÷∆µ;111:24∑÷∆µ*/
            =4 /*SPI1CON*/
            =4 SBIT SPI1TI                  = SPI1CON^7;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
            =4 SBIT SPI1RI                  = SPI1CON^6;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
            =4 SBIT SPI1CKM                 = SPI1CON^5;  /*SPI1CLKDIV÷–º‰Œª*/
            =4 SBIT SPI1CKL                 = SPI1CON^4;  /*SPI1CLKDIVµÕŒª*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 24  

            =4 SBIT SPI1PH                  = SPI1CON^3;  /*0:÷±Ω”∑¢ÀÕ ˝æ›,ª∫¥Ê∞Î∏ˆcycleΩ” ’ ˝æ›;1:÷±Ω”Ω” ’ ˝æ›,ª∫¥Ê∞Î∏ˆ
             -cycle∑¢ÀÕ ˝æ›*/
            =4 SBIT SPI1PO                  = SPI1CON^2;  /*0:low idle; 1:high idle*/
            =4 SBIT SPI1MAS                 = SPI1CON^1;  /*0:slave mode; 1:master mode*/ 
            =4 SBIT SPI1_SLVSLELEN          = SPI1CON^0;  /*0:masterƒ£ Ωœ¬µƒslvselo ‹ƒ⁄≤ø∆Ù∂Øøÿ÷∆;1:masterƒ£ Ωœ¬slvselo 
             -‹SPI1CON2[2]øÿ÷∆*/
            =4 
            =4 /*SPI1CON2*/
            =4 SBIT SPI1TX_AUTO_CLR         = SPI1CON2^7; /*0:»Ìº˛◊‘∂Ø«Âti÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡rx reg ±”≤º˛◊‘«Â*/
            =4 SBIT SPI1RX_AUTO_CLR         = SPI1CON2^6; /*0:»Ìº˛◊‘∂Ø«Âri÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡tx reg ±”≤º˛◊‘«Â*/
            =4 SBIT SPI1_BUSY               = SPI1CON2^5; /*0:µÕµÁ∆Ω◊¥Ã¨,÷ªƒ‹∂¡;1:SPI1’˝¥¶”⁄active*/ 
            =4 SBIT SPI1_STOP               = SPI1CON2^4; 
            =4 SBIT SPI1_START              = SPI1CON2^3;
            =4 SBIT SPI1SLVELO              = SPI1CON2^2; /*µ±SPI1CON[0]Œ™1 ±,master◊¥Ã¨œ¬∏√Œª÷±Ω” ‰≥ˆSPI1µƒslvsel£ªµ±SP
             -I1CON[0]Œ™0 ±£¨∏√ŒªŒﬁ–ß*/
            =4 SBIT SPI1RI_EN               = SPI1CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
            =4 SBIT SPI1TI_EN               = SPI1CON2^0; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
            =4 
            =4 /*SPI1CON3*/
            =4 SBIT SPI1MODE_SELH           = SPI1CON3^7; /*1:”√IO0-IO2¥´ ‰ ˝æ›;0:∏˘æ›SPI1CON3[6]◊¥Ã¨æˆ∂®*/
            =4 SBIT SPI1MODE_SELL           = SPI1CON3^6; /*»ÙSPI1MODE_SELHŒ™0,‘Ú0:”√IO0¥´ ‰;1:”√IO0,IO1¥´ ‰*/
            =4 SBIT SPI1_SW_IO_ENH          = SPI1CON3^5; /*IO0,IO1∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO0,IO1∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
            =4 SBIT SPI1_SW_IO_ENL          = SPI1CON3^4; /*IO2,IO3∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO2,IO3∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
            =4 SBIT SW_1BYTE_LATER          = SPI1CON3^2; /*dual/quad spi»Ìº˛«–ªª ±º‰.0:¡¢º¥«–ªª;1:‘⁄œ¬∏ˆbyte ˝æ›¥´ ‰Ω· 
             -¯“‘∫Ûµƒµ⁄“ª∏ˆshift_out_sck_edg÷Æ«∞ÕÍ≥…«–ªª*/
            =4 SBIT SPI1_SW_DIR             = SPI1CON3^1; /*dual/quad spi ±»Ìº˛«–ªªioµƒ∑ΩœÚ.0: ‰≥ˆ;1: ‰»Î*/
            =4 SBIT SPI1_SW_EN              = SPI1CON3^0; /*dual/quad spi »Ìº˛io∑ΩœÚ«–ªª πƒ‹£¨–¥1”––ß.”≤º˛‘⁄«–ªª÷Æ∫Û◊‘«Â
             -*/
            =4 
            =4 /*SPI1CON4*/
            =4 SBIT SPI1IOSW_CKDLY_EN      = SPI1CON4^4; /*¥´ ‰IO«–ªª∑ΩœÚ ± 0:«–ªª∑ΩœÚ≤ª—” ±;1:«–ªª∑ΩœÚ—”≥§2∏ˆclk cycle*
             -/
            =4 SBIT SPI1_CURR_MODE         = SPI1CON4^3; /*spi master/slave mode◊¥Ã¨Œª.1:ƒø«∞Œ™master mode.0:ƒø«∞Œ¥slave
             - mode */
            =4 SBIT SPI1CKH                = SPI1CON4^2; /*SPI1CLKDIV∏ﬂŒª*/
            =4 /*spi1con[1:0] sample_phase_sel*/ /*≤…—˘ ±÷”—”≥Ÿ—°‘Ò. 00:Œﬁ—”≥Ÿ;01:—”≥Ÿ1∏ˆclk cycle; 10:—”≥Ÿ2∏ˆclk cycle;
             - 11:—”≥Ÿ3∏ˆclk cycle*/
            =4 
            =4 
            =4 /*UARTCON*/
            =4 SBIT UART_MODE              = UARTCON^7; /*uartƒ£ Ω…Ë∂®. 0:9bitƒ£ Ω; 1:8bitƒ£ Ω*/
            =4 SBIT UART_SM21              = UARTCON^5; /*1:‘⁄9bit“ª∂‘∂‡Õ®–≈ƒ£ Ωœ¬;0:‘⁄9bitµ„∂‘µ„ƒ£ Ω*/  
            =4 SBIT UART_REN1              = UARTCON^4; /*Ω” ’ «ƒ‹øÿ÷∆Œª.1:‘ –ÌΩ” ’;0:Ω˚÷πΩ” ’*/
            =4 SBIT UART_TB81              = UARTCON^3; /*‘⁄9bitƒ£ Ωœ¬£¨the content of∑¢ÀÕµƒµ⁄9bit*/
            =4 SBIT UART_RB81              = UARTCON^2;   
            =4 SBIT UART_TI                = UARTCON^1;
            =4 SBIT UART_RI                = UARTCON^0;
            =4 
            =4 /* RTCCON */
            =4 SBIT RTC_START              = RTCCON^7;
            =4 SBIT RTC_INT_EN_ASM         = RTCCON^6;   /* ≤˙…˙÷–∂œ∏¯asm πƒ‹.1:¥Úø™;0:πÿ±’ */
            =4 SBIT RTC_START_STA          = RTCCON^5;   /* RTC∆Ù∂Ø◊¥Ã¨.1:rtc∆Ù∂Ø≥…π¶ªÚø’œ–;0:rtc’˝‘⁄∆Ù∂ØªÚ’˝‘⁄∏¥Œª*/
            =4 SBIT RTC_CLR                = RTCCON^4;
            =4 SBIT RTC_INT_EN_CPU         = RTCCON^2;   /* ≤˙…˙÷–∂œ∏¯cpu πƒ‹.1:¥Úø™;0:πÿ±’ */
            =4 SBIT RTC_AUTO_MODE          = RTCCON^1;   /* rtc≤ª–Ë“™◊ˆclr£¨◊‘∂Ø÷ÿ∏¥º∆ ˝*/
            =4 SBIT RTC_WP                 = RTCCON^0;
            =4 
            =4 /* RTCCON1 */
            =4 //[2:1] LCD_SRC_SEL lcd start sourc—°‘Ò. 2'b00:vstart;2'b01:vmdi;2'b10:vend;2'b11:vblank
            =4 SBIT LCD_SRC_SEL_H          = RTCCON1^2;
            =4 SBIT LCD_SRC_SEL_L          = RTCCON1^1;
            =4 SBIT LCD_START_EN           = RTCCON1^0;   /* lcd vstart/wmid.vend/vblank ∆Ù∂Ørtc πƒ‹–≈∫≈ */ 
            =4 
            =4 /*SYSCON*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 25  

            =4 SBIT REMAP                  = SYSCON^7;
            =4 SBIT ESD_RST_EN             = SYSCON^6;   /* esd∑¢…˙ ±–Ë≤ª–Ë“™rstœµÕ≥.1:±Ì æ–Ë“™rstœµÕ≥;0:±Ì æ≤ªrstœµÕ≥*/
            =4 SBIT BUS_SEL                = SYSCON^5;   /* RO. pad bus_sel */
            =4 SBIT WDT                    = SYSCON^4;   /* wdt πƒ‹ */
            =4 SBIT UART1                  = SYSCON^3;   /* uart1 */
            =4 SBIT UART0                  = SYSCON^2;   /* uart0: 2'b01: GPIO6; 2'b10: GPIO7; 2'b11: GPIO1.5; 2'b00: ∆‰
             -À˚;  */
            =4 SBIT LVD_INT_CLR            = SYSCON^1;   /* –¥1«Â≥˝lvdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
            =4 SBIT ESD_INT_CLR            = SYSCON^0;   /* –¥1«Â≥˝esdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
            =4 
            =4 
            =4 /*IWKSTA*/
            =4 SBIT GPIO_INT               = IWKSTA^7; /* p0.6 pinΩ≈÷–∂œªΩ–—±Í÷æ*/
            =4 SBIT LCD_ESD_WK_INT         = IWKSTA^6; /* lcd esd wakeup÷–∂œªΩ–—±Í÷æ */
            =4 SBIT LCD_LVD_WK_INT         = IWKSTA^5; /* lcd lvd wakeup÷–∂œªΩ–—±Í÷æ */
            =4 SBIT LCD_GPIO_WK_INT        = IWKSTA^4; /* lcd gpio wakeup status */
            =4 SBIT LCD_RELOAD_FLASH       = IWKSTA^3; /* LCD initial code reload */
            =4 SBIT ASM_MON_INT            = IWKSTA^2; /* asm monitor÷–∂œªΩ–—±Í÷æ */
            =4 SBIT I2C_MON_INT            = IWKSTA^1; /* i2c monitor÷–∂œªΩ–—±Í÷æ */
            =4 SBIT RTC_CNT_INT            = IWKSTA^0; /* RTC or CNT÷–∂œªΩ–—±Í÷æ */
            =4 
            =4 /*SFTRST*/
            =4 SBIT SOFT_RST               = SFTRST^7; /*∂¡:»Ì∏¥Œª±Í÷æ*/
            =4 SBIT WDT_RST                = SFTRST^6; /*∂¡:wdt∏¥Œª±Í÷æ*/
            =4 SBIT EXT_RST                = SFTRST^5; /*∂¡:Õ‚≤ø∏¥Œª±Í÷æ*/
            =4 SBIT POR_RST                = SFTRST^4; /*por∏¥Œª±Í÷æ*/
            =4 SBIT FLASH_HOLD_STA         = SFTRST^3; /*flash hold state*/
            =4 SBIT REMAP_RST              = SFTRST^1; /*∂¡:¥Úø™remap∏¥Œª πƒ‹*/
            =4 /*SFTRST[0] */              /*µ±»´–¥1 «≤˙…˙∏¥Œª;»´–¥0 «≤˙…˙remap∏¥Œª;µ±∂¡ ± ±»Ì∏¥Œª±Í÷æ*/
            =4 
            =4 /* ANACON */
            =4 SBIT ARAM_SEL               = ANACON^7;  /* 1: mcuøÿ÷∆aram; 0: afeøÿ÷∆aram */
            =4 SBIT LCD_DSTAB_IOLOW        = ANACON^6;  /* lcd dstab∑¢…˙ ±,øÿ÷∆TPµΩLCD DPµƒ–≈∫≈ «∑Ò ‰≥ˆŒ™µÕ£¨¥”∂¯ΩµµÕ¬©µ
             -Á 1:  ‰≥ˆŒ™µÕ£¨0: ≤ª ‰≥ˆŒ™µÕ */
            =4 SBIT I2C_WK_RST             = ANACON^5;  /* 0:Reset I2C monitor interrupt;1: release*/
            =4 SBIT I2C_SF_RST             = ANACON^4;  /* I2C module soft reset */
            =4 SBIT XSI_SEL                = ANACON^3;  /* xsi0/xsi1 accessing clock switch select. 0:MCU;1:AFE. */
            =4 SBIT AFE_RST                = ANACON^2;  /* afe sub-system soft reset including asm*/
            =4 SBIT FlASH_HOLD             = ANACON^1;  /* external SPI flash hold,1:hold state '0';0:hold state '1' */
            =4 SBIT GPIO_INT_SEL           = ANACON^0;  /* GPIO Interrupt source selecetion.1:GPIO interrupt is from p0.
             -7;0:GPIO interrupt is from p0.6 */
            =4 
            =4 /* XDP_STATUS*/
            =4 SBIT LVD_STA                = XDP_STA^6;  /* R0.lvdµƒstatus */
            =4 SBIT ESD_FLAG               = XDP_STA^5;  /* RW.esd∑¢…˙±Í÷æ.1:±Ì æ”–∑¢…˙esd ¬º˛;0:±Ì æ√ª”–∑¢…˙esd ¬º˛.»Ìº
             -˛ø…«Â≥˝*/
            =4 SBIT LVD_FLAG               = XDP_STA^4;  /* RW.lvd∑¢…˙±Í÷æ.1:”–lvd ¬º˛;0:√ª”–lvd ¬º˛.»Ìº˛ø…«Â≥˝ */
            =4 SBIT ESD_STA                = XDP_STA^3;  /* RO.xdp esd status */
            =4 SBIT LVD_VDDI_STA           = XDP_STA^2;  /* RO.lvd_vddi status */
            =4 SBIT LVD_AVDD_STA           = XDP_STA^1;  /* RO.lvd_avdd status */
            =4 SBIT LVD_AVEE_STA           = XDP_STA^0;  /* RO.lvd_avee status */
            =4 
            =4 /* TEST_CON0 */
            =4 SBIT TEST_OUT0_EN           = TESTCON0^7; 
            =4 /*TEST_CON0[6:0]*/          /*Test out0 control */
            =4 
            =4 /* TEST_CON1 */
            =4 SBIT TEST_OUT1_EN           = TESTCON1^7; 
            =4 /*TEST_CON1[6:0]*/          /*Test out1 control */
            =4 
            =4 /* TEST_CON2 */
            =4 SBIT TEST_OUT2_EN           = TESTCON2^7; 
            =4 /*TEST_CON2[6:0]*/          /*Test out2 control */
            =4 
            =4 /* TEST_CON0 */
            =4 SBIT TEST_OUT3_EN           = TESTCON3^7; 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 26  

            =4 /*TEST_CON3[6:0]*/          /*Test out3 control */
            =4 
            =4 /* DSV_CON */
            =4 SBIT UART_INH               = DSV_CON^6;       /* selection of uart rx port*/
            =4 SBIT UART_INL               = DSV_CON^5;       /* 2'b00/2'b11:disable uart rxd;2'b01:p0.6;2'b10:p0.7*/
            =4 SBIT SPI_REPLACE_STA        = DSV_CON^4;       /* spi1 «∑ÒÃÊ¥˙spi0◊˜Œ™slaveµƒ◊¥Ã¨Œª;1:spi1◊˜Œ™slave;0:spi
             -1≤ª◊˜Œ™slave*/
            =4 SBIT SPI_REPLACE_SEL        = DSV_CON^3;       /* spi1◊˜Œ™slaveµƒøÿ÷∆£¨‘⁄spi_replace_en=1 ±∆◊˜”√.1:spi1Ã
             -Êªªspi0◊˜Œ™slave;0:spi1≤ªÃÊªªspi0 */
            =4 SBIT SPI_REPLACE_EN         = DSV_CON^2;       /* spi1◊˜Œ™slaveµƒøÿ÷∆.1:spi1 «∑ÒŒ™slave ‹spi_replace_selø
             -ÿ÷∆;*/
            =4 SBIT DSV_EN6_STA            = DSV_CON^1;       /* lcd ‰≥ˆµƒdsv_en6µƒ◊¥Ã¨ */
            =4 SBIT DSV_EN                 = DSV_CON^0;       /* dsv en reg */
            =4 
            =4 /*FT_EN_REG*/
            =4 SBIT PDB                    = FT_EN_REG^6;     /* lcd to tp,µ±¥Úø™≈˙∆¿ºÏ≤‚ ±,ºÏ≤‚Ω·π˚.1:∆¡∆∆;0:∆¡√ª∆∆*/
            =4 SBIT PDB_EN                 = FT_EN_REG^5;     /* tp to lcd.1:ø™∆Ù∆∆∆¡ºÏ≤‚ */
            =4 SBIT DMA_REQ_INT_MASK       = FT_EN_REG^4;     /* dma_req∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_reqŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
            =4 SBIT DMA_ACK_INT_MASK       = FT_EN_REG^3;     /* dma_ack∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_ackŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
            =4 SBIT TEST_CLK_EN            = FT_EN_REG^2;     /*  ±÷”≤‚ ‘ ‰≥ˆ πƒ‹,GPIO6 ‰≥ˆ */
            =4 SBIT XSI_SEL_STA            = FT_EN_REG^1;     /* anacon[3] xsi clk swtich result.1:AFE can control xsi;0
             -:MCU can control xsi*/
            =4 SBIT FT_EN                  = FT_EN_REG^0;     /* lcd otp to tp soc */
            =4 
            =4 /* ANACON1 */
            =4 SBIT POWERGATING_CTRL       = ANACON1^7; /* Œﬁavdd∫Õavee ±,øÿ÷∆afeµƒsx switch∑≈µÁ.1:»°æˆ”⁄dsv_en,dsv_enŒ™
             -1 ±,≤ª∑≈µÁ.dsv_enŒ™0 ±,∑≈µÁ.0:≤ª∑≈µÁ */
            =4 /* [6:4] vreftp_sel. vREF_TP voltage selection bits.0:2v; 1:2.5v; 2:3v; 3:3.5v; 4:4v; 5:4.5v; 6:5v; 7:4.5
             -v*/
            =4 SBIT VREFTP_BUF_SEL_M       = ANACON1^3; /* vref_tp/vdd5 slew rate control bit,output to xtp.0: no sr con
             -trol,vref_tp rise quickly.1:with sr control,set 1 for t32clk and then set to 0*/
            =4 SBIT VREFTP_BUF_SH_M        = ANACON1^2; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xtp.vref_tp/vdd5 sample/hold sign
             -al.0:hold; 1:enable*/
            =4 SBIT VREFTP_BUF_EN_M        = ANACON1^1; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xtp.vref_tp buf enable signal.0:disa
             -ble;1:enable*/
            =4 SBIT VREFTP_SETOP_EN_M      = ANACON1^0; /* vref_tp setting opµƒenable, ‰≥ˆ∏¯xtp.vref_tp volatge setting 
             -op enable singal.0:disable;1:enable */
            =4 
            =4 /* ANACON2 */
            =4 SBIT REFBG_EN               = ANACON2^7; /* tpµƒbandgapµƒenbale.…®√Ë ±,“ª∂®“™¥Úø™.afe ref enable signal.0
             -:disable;1:enable */
            =4 SBIT VREFTP_BUF_SEL         = ANACON2^6; /* vref_tp/vdd5 slew rate control bit,output to xae_l,xafe_r.0:n
             -o sr control,vref_tp rise quickly;1:with sr control,set 1 for 16 t32clk and then set to 0*/
            =4 SBIT VREFTP_BUF_SH          = ANACON2^5; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp/vdd5 sample
             -/hold signal.0:hold; 1:enable*/
            =4 SBIT VREFTP_BUF_EN          = ANACON2^4; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp buf enable sig
             -nal.0:disable;1:enable*/
            =4 SBIT VREFTP_SETOP_EN        = ANACON2^3; /* vref tp setting opµƒenable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp volatg
             -e setting op enable singal.0:disable;1:enable */
            =4 SBIT VDD5_SETOP_EN          = ANACON2^2; /* vdd5 volatage setting op enable signal.0:disable;1:enable*/
            =4 SBIT VDD5_BUF_EN            = ANACON2^1; /* vdd5 buf enable signal.0:disable;1:enable*/
            =4 SBIT VDD5_SECTRL            = ANACON2^0; /* vdd5 slew rate control bit.0:no sr control,vref_tp rise quick
             -ly.1:with sr control,set 1 for 16 t32clk and the set to 0*/
            =4 
            =4 /* ANACON3 */
            =4 SBIT DSV_EN_ALLON           = ANACON3^7; /* dsv_en «∑Ò ±øÃ¥Úø™.1: ±øÃ¥Úø™;0:”……œµÁ ±–Úæˆ∂®*/
            =4 SBIT LR_SEL                 = ANACON3^6; /* select p1_af and p2_af from left or right afe controller.1:ri
             -ght;0:left*/
            =4 SBIT VCOM_OPT_SEL           = ANACON3^5; /* ”√”⁄øÿ÷∆vcom_optµƒ ‰≥ˆ.0:«ø÷∆ ‰≥ˆŒ™vcom.1:lcd term ±Œ™vcom,tp
             - term ±,Œ™afd*/
            =4 SBIT BGP_MASK               = ANACON3^4; /* ”√”⁄øÿ÷∆∫⁄∆¡ ±lcdµƒbandgapø™πÿ.¡¡∆¡ ±,¥Àø™πÿ”…lcdøÿ÷∆,∫⁄∆¡ ±,
             -”…tpøÿ÷∆.dsvƒ£ Ωœ¬,∂ØÃ¨«–ªª,”√”⁄Ω⁄ °π¶∫ƒ.1:ø™∆Ùlcdµƒbandgap,tp…®√Ë ±,–Ë“™ø™∆Ù¥Àø™πÿ.0:πÿ±’lcdµƒbandgap,tp≤ª…®√Ë ±,ø…“‘πÿ
             -±’¥Àø™πÿ*/
            =4 SBIT LVD_MASK               = ANACON3^3; /* ”√”⁄øÿ÷∆ «∑Òø™∆Ùavdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑.dsvƒ£ Ωœ¬,dsv_en πƒ‹ 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 27  

             -±,ø…ø™∆Ù,dsv_en≤ª πƒ‹,–Ë“™πÿ±’avdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑,“‘∑≈ŒÛ¥•∑¢lvd’Ï≤‚µÁ¬∑.1:ø™∆ÙµÙµÁ’Ï≤‚µÁ¬∑.0:πÿ±’*/
            =4 
            =4 /* ANACON7*/
            =4 SBIT VREFTP_LOADREGU        = ANACON7^7; /* vreftp output buffer driving ability control signal.1:enhance
             - the driving ability to about 55mA.0:use default value about 37mA driving ability at least*/
            =4 SBIT DSV_EN_MASK            = ANACON7^6; /* dsv_en–≈∫≈µƒ—°‘Ò–≈∫≈.0:asm…˙≥…µƒdsv_en–≈∫≈Œﬁ–ß,”…mcuæˆ∂® «∑Ò∆
             -Ù∂Ødsv_en;1:asm…˙≥Ωπ˝µƒdsv_en–≈∫≈”––ß*/
            =4 SBIT NVDD2_MASK             = ANACON7^5; /* NVDD2‘⁄∫⁄∆¡ ±µƒ πƒ‹–≈∫≈.nvdd2¡¡∆¡ ± ‹lcdøÿ÷∆,∫⁄∆¡ ±, ‹tpøÿ÷∆.
             -0:πÿ±’nvdd2;1:ø™∆Ùnvdd2*/
            =4 SBIT VRGEN_EN               = ANACON7^4; /* 32k ±÷”µÁ‘¥«–ªªπ¶ƒ‹.0:—°‘Ò¿¥◊‘∆´÷√.1:—°‘Òlcd¿¥µƒbandgap∆´÷√.∫
             -⁄∆¡ ±,¥ÀbitŒª“ª∂®–Ë“™≈‰÷√Œ™0,¡¡∆¡ø…≈‰÷√0£¨“≤ø…≈‰÷√≥…1*/
            =4 /* [3:0] VRFE_VDD_TPS. VDDD 1.2V setting. 0:  1.3v; 
            =4                                           1:  1v;
            =4                                           2:  1.025v;
            =4                                           3:  1.05v;
            =4                                           4:  1.075v;
            =4                                           5:  1.1v;
            =4                                           6:  1.125v;
            =4                                           7:  1.150v;
            =4                                           8:  1.175v;
            =4                                           9:  1.2v
            =4                                           10: 1.225v
            =4                                           11: 1.25v
            =4                                           12: 1.275v
            =4                                           13: 1.325v
            =4                                           14: 1.35v
            =4                                           15: 1.375v*/
            =4 
            =4 /* ANACON8 */
            =4 SBIT VDD_TP_N2_MASK         = ANACON8^7; /* reg_en_vdd_tp_n2–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VDD_TP_N1_MASK         = ANACON8^6; /* reg_en_vdd_tp_n1–≈∫≈¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_SETOP_EN_M_MASK = ANACON8^5; /* vreftp_setop_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_BUF_EN_M_MASK   = ANACON8^4; /* vreftp_buf_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_SH_MASK         = ANACON8^3; /* vreftp_sh–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_SRCTRL_M_MASK   = ANACON8^2; /* vreftp_srctrl_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT BGP_MASK_MASK          = ANACON8^1; /* bgp_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT NVDD2_MASK_MASK        = ANACON8^0; /* nvdd2_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 
            =4 /* ANACON9 */
            =4 SBIT VDD_TP_N3_MASK         = ANACON9^7; /* reg_en_vdd_tp_n3–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT REGBG_EN_MASK          = ANACON9^6; /* reg_en1–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_SETOP_EN_MASK   = ANACON9^5; /* vreftp_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_BUF_EN_MASK     = ANACON9^4; /* vreftp_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VREFTP_SRCTRL_MASK     = ANACON9^3; /* vreftp_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VDD5_SETOP_EN_MASK     = ANACON9^2; /* vdd5_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VDD5_BUF_EN_MASK       = ANACON9^1; /* vdd5_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 SBIT VDD5_SRCTRL_MASK       = ANACON9^0; /* vdd5_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =4 
            =4 /* PCON */
            =4 SBIT SMOD1                  = PCON^7;
            =4 SBIT SMOD0                  = PCON^6;
            =4 SBIT POF                    = PCON^4;
            =4 SBIT GF1                    = PCON^3;
            =4 SBIT GF0                    = PCON^2;
            =4 SBIT CORE_STOP              = PCON^1;         /* Stop ƒ£ Ωøÿ÷∆Œª .∏√Œª–¥1£¨Ω´Ω¯»Îstopƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂¡
             -≥ˆ¿¥µƒ÷µŒ™0*/
            =4 SBIT CORE_IDLE              = PCON^0;         /* Idle ƒ£ Ωøÿ÷∆Œª °£∏√Œ™–¥1£¨«øΩ¯»ÎIDLEƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂
             -¡≥ˆ¿¥µƒ÷µŒ™0*/
            =4 
            =4 /* CGUCON0 */
            =4 SBIT ASM_32K_EN             = CGUCON0^7;  /* asm 32k clock enable.1:enable;0:disable*/
            =4 SBIT STANDBY                = CGUCON0^6;  /* ”√”⁄‘⁄’˝≥£ƒ£ Ωœ¬£¨mcu¥¶”⁄power down ±£¨∂‘osc ±÷”“‘º∞digitalµ
             -ƒ÷˜ ±÷”µƒdisable.0:disable clock tree, osc48m;1:≤ªπÿ ±÷” */
            =4 SBIT EN_32K                 = CGUCON0^5;  /* 1:¥Úø™32k osc*/
            =4 SBIT SPI0_32K_EN            = CGUCON0^4;  /* SPI0 DMAƒ£øÈ÷–µƒcounter ±÷”gating*/
            =4 SBIT SPI0CKEN               = CGUCON0^3;  /* SPI0π§◊˜ ±÷”µƒenable gating */
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 28  

            =4 SBIT PROBE32K_DIG_EN        = CGUCON0^2;  /* clk_32k dig probe enable signal.1:enable;0:disable */
            =4 SBIT LVD_SLEEP_EN           = CGUCON0^1;  /* LVD ¬º˛∑¢…˙ ±£¨ «∑Òπÿ±’OSC.0:≤ªπÿ±’,defaultŒ™0.1:πÿ±’ */
            =4 SBIT PROBE32K_FROM1M_EN     = CGUCON0^0;  /* clk_32k_from_1m probe enable signal.1:enable;0:disable */
            =4 
            =4 
            =4 /* CGUCON1 */
            =4 SBIT SYSCKEN                = CGUCON1^7;     /* clock gating module:sysctrl,p0,p1*/
            =4 SBIT I2CCKEN                = CGUCON1^6;     /* i2c clk enable */
            =4 SBIT XSICKEN                = CGUCON1^5;     /* xsi source from core clock ,gating enable */
            =4 SBIT TIMER_500K_EN          = CGUCON1^4;     /* timer working clock enable signal.1:enable;0:disable*/
            =4 SBIT TIMERCKEN              = CGUCON1^3;     /* timer clk enable*/
            =4 SBIT UARTCKEN               = CGUCON1^2;     /* uart clk enable*/
            =4 SBIT DEBUGCKEN              = CGUCON1^1;     /* debug(including i2c debug) clk enable */
            =4 SBIT SPI1CKEN               = CGUCON1^0;     /* spi1 clk enable*/
            =4 
            =4 /* CGUCON2 */
            =4 SBIT CLKEN_500K             = CGUCON2^7;     /* 500k clock gating enable*/
            =4 SBIT CNTCKEN                = CGUCON2^6;     /* cnt clk enable */
            =4 SBIT LED_32K_EN             = CGUCON2^5;     /* Led controller working clock*/
            =4 SBIT PROMCKEN               = CGUCON2^4;     /* prom clk enable */
            =4 SBIT PRAMCKEN               = CGUCON2^3;     /* pram clk enable */
            =4 SBIT AFEACKEN               = CGUCON2^2;     /* asm clock gating enbale */
            =4 SBIT LEDCKEN                = CGUCON2^1;     /* led clk enable */
            =4 SBIT RTC_32K_EN             = CGUCON2^0;     /* RTC Working clock*/
            =4 
            =4 /* CGUCON3 */
            =4 SBIT DMACKEN                = CGUCON3^7;     /* CAL‘À–– ±£¨cpu «∑ÒΩ¯»Îidle◊¥Ã¨°£0:≤ªΩ¯»Îidle◊¥Ã¨;1:Ω¯»Îid
             -le◊¥Ã¨*/
            =4 SBIT CALCKEN                = CGUCON3^6;     /* cal clock enable*/
            =4 SBIT AFECKEN                = CGUCON3^5;     /* Clock dynamic gating AFE controller */
            =4 SBIT CLOSE_500K_EN          = CGUCON3^4;     /* mcu standby close 500k enable signal.1:close*/
            =4 SBIT XBUSCKEN               = CGUCON3^3;     /* Xsi0 clk enable */
            =4 SBIT AFESCKEN               = CGUCON3^2;     /* asm configure clock */
            =4 SBIT CLOSE_TIMER_EN         = CGUCON3^1;     /* mcu standby close timer clock enable sigal.1:close*/
            =4 SBIT RTCCKEN                = CGUCON3^0;
            =4 
            =4 /* CGUCON4 */
            =4 SBIT SSCG_CKEN              = CGUCON4^7;   /* sscg clk enable */
            =4 SBIT WDT_500K_EN            = CGUCON4^6;   /* CLK_500Kµƒgating enable for wdt*/
            =4 SBIT PROBE32K_CKEN          = CGUCON4^4;   /* probe 32K clk enable */
            =4 SBIT PROBE48M_CKEN          = CGUCON4^3;   /* probe 48M clk enable */
            =4 /*CGUCON4[1:0] clk_div  use for select frequence for div clock source 0:1div;1:2div;2:4 div;3:8div*/
            =4 
            =4 
            =4 /* CGUCON5 for INT0 wake up */
            =4 SBIT GPIO_WKEN              = CGUCON5^7;  /* int0 wake up enable */
            =4 SBIT LCD_ESD_WKEN           = CGUCON5^6;  /* lcd esd wake up enble */
            =4 SBIT LCD_LVD_WKEN           = CGUCON5^5;  /* lcd lvd wake up enble */
            =4 SBIT LCD_TIM_WKEN           = CGUCON5^4;  /* lcd timing wake up enble */
            =4 SBIT LCD_RELOAD_FLASH_WKEN  = CGUCON5^3;  /* LCD reload flash wake up enable */
            =4 SBIT ASM_MON_WKEN           = CGUCON5^2;  /* scan monitor wake up enable */
            =4 SBIT I2C_MON_WKEN           = CGUCON5^1;  /* i2c monitor wake up enable */
            =4 SBIT RTC_CNT_WKEN           = CGUCON5^0;  /* RTC or CNT wake up enable */
            =4 
            =4 /* CGUCON6 */
            =4 SBIT CLK_WP                 = CGUCON6^0; /* Only CGU0 need */
            =4 
            =4 /* CGUCON7 */
            =4 /*CGUCON7[7:6] OSC_TEST_SEL            ‘⁄gpioø⁄≤‚¡øosc32k∫Õosc48m ±÷” ±µƒ—°‘Ò–≈∫≈.3:32k_from_1m;2:32k_dig
             -;1:32K , 0:48M */
            =4 /*CGUCON7[5:0] OSC_TEST_DIV            ¡ø≤‚OSC48MªÚ’ﬂ32k OSC ±÷” ±£¨∑÷∆µœ¥ ˛≈‰÷√*/
            =4 
            =4 SBIT SEL_32K_SRC            = CGUCON8^7; /* 32k ±÷”‘¥—°‘Ò.1:32k—°‘Ò≤˙…˙”⁄ƒ£ƒ‚osc,1:32k¿¥‘¥”⁄1m∑÷∆µ*/
            =4 /* [6:0] fre_noadj_set.  ˝◊÷32k ±÷” «∑Òµ˜’˚µƒ»›÷µ. 1m ±÷”,48m¿¥≤‚,»Áπ˚’˝∫√ «32k,∏ˆ ˝Œ™1536.µ´ «1m∑÷∆µø…ƒ‹
             -µ˜’˚≤ªµΩ’˝∫√32k.
            =4 “Ú¥Àª·¿¥ªÿ’µ¥.Œ™¡ÀΩ‚æˆ∏√Œ Ã‚,–Ë…Ë÷√∏√÷µ.»Ù…Ë÷√÷µŒ™15,∑÷∆µ≥ˆ¿¥µƒ ±÷”,±ªºÏ≤‚‘⁄[1536-15,1536+15]÷Æº‰,≤ªª·µ˜
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 29  

             -’˚ */
            =4 
            =4 /*I2CCON*/
            =4 SBIT I2C_WKEN               = I2CCON^5;      /* 0:disable i2c wakeup;1:enable i2c wakeup */
            =4 SBIT I2C_DEGLITCH_EN        = I2CCON^4;      /* analog deglitch enable.0:disable;1:enable */
            =4 SBIT I2C_BUSY               = I2CCON^3;      /* i2c «∑Ò¥¶”⁄∑¢ÀÕ/Ω” ’◊¥Ã¨.0:idle;1:busy */
            =4 SBIT I2CTI                  = I2CCON^1;      /* hw set, sw clear */
            =4 SBIT I2CRI                  = I2CCON^0;      /* hw set, sw clear */
            =4 
            =4 /*I2CSTOP*/
            =4 SBIT I2C_WAIT               = I2CSTOP^7;     /* 0: Õ∑≈i2c scl;1:¿≠µÕi2c scl,¿©’πscl÷‹∆⁄;µ±slave√¶ ±≤ªƒ‹º∞
             - ±œÏ”¶ */
            =4 SBIT COMP_BPSS              = I2CSTOP^6;     /* 0: πƒ‹i2cµÿ÷∑∆•≈‰;1:»°œ˚µÿ÷∑∆•≈‰øÿ÷∆ */
            =4 SBIT ADDR_NACK              = I2CSTOP^5;     /* 0:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ack;1:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ÀÕnack */
            =4 SBIT DATA_NACK              = I2CSTOP^4;     /* 0:∂‘i2c ˝æ›Ω◊∂Œ∑¢ack;1:∂‘i2c ˝æ›Ω◊∂Œ∑¢nack */
            =4 SBIT I2C_WK_STOP            = I2CSTOP^2;     /* wakeupƒ£øÈΩ” ’µΩ’˝»∑µƒstop£¨write 0 to clear */
            =4 SBIT STOPID                 = I2CSTOP^1;     /* stop◊¥Ã¨◊¥Ã¨Œª,±Ì æµ±«∞ «wr stopªπ «rd stop.0: host write
             - stop 1: host read stop */
            =4 SBIT I2CSTP                 = I2CSTOP^0;     /* hw set when received right i2c stop statue,sw clear */
            =4 
            =4 /*I2CSEL*/
            =4 SBIT I2C_MON_CFG            = I2CSEL^4;   /* 0: i2cπ§◊˜£¨i2c monitor≤ªπ§◊˜; 1:i2c≤ªπ§◊˜,i2c_monitorπ§◊˜ *
             -/
            =4 
            =4 /* I2CStart*/
            =4 SBIT I2C_WK_BYTE4_FLAG      = I2C_STATE^3;
            =4 SBIT I2C_WK_BYTE3_FLAG      = I2C_STATE^2;
            =4 SBIT I2C_WK_BYTE2_FLAG      = I2C_STATE^1;
            =4 SBIT I2C_WK_BYTE1_FLAG      = I2C_STATE^0;
            =4 
            =4 /*IEN1*/
            =4 SBIT SWDT                   = IEN1^6;     /*Active watchdog timer.1:active;0:idle*/
            =4 
            =4 /* WDTCON */
            =4 SBIT WDTACT                 = WDTCON^2;   /* wdt work state.1:wdt in running mode; 0:wdt in stop mode */
            =4 SBIT WDTSTARTEN             = WDTCON^1;   /* when write 1,wdt start running,it is auto clear to 0 */
            =4 SBIT WDTSTOPEN              = WDTCON^0;   /* when write 1,wdt stop running,it is auto clear to 0 */
            =4 
            =4 /*WDTREL*/
            =4 SBIT WDT_PRESCALE           = WDTREL^7;  /*Reload value for high-byte watchdog.1:√ø384∏ˆcycleº∆ ˝“ª¥Œ;0:√
             -ø24∏ˆcycleº∆ ˝“ª¥Œ*/
            =4 /*WDTREL[6:0]                   reload value for the high_seven_byte of the watchdog timer when a refresh
             - is triggered.*/
            =4 
            =4 /* TCON */
            =4 SBIT TF1 = TCON^7;               /* timer1 overflow flag£∫
            =4                                    µ±timer1 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
            =4 SBIT TR1 = TCON^6;               /* timer1µƒøÿ÷∆Œª°£
            =4                                    °∞1°±£∫∆∂Øtimer1,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer1÷Æ«∞±ÿ–Î“™∞—timer1…Ë
             -∂®∫√£© */
            =4 SBIT TF0 = TCON^5;               /* timer0 overflow flag£∫
            =4                                     µ±timer0 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
            =4 SBIT TR0 = TCON^4;               /* timer0µƒøÿ÷∆Œª°£
            =4                                    °∞1°±£∫∆∂Øtimer0,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer0÷Æ«∞±ÿ–Î“™∞—timer0…Ë
             -∂®∫√£© */
            =4 SBIT IF1 = TCON^3;               /* external interrupt 1 edge flag,hardware controlled
            =4                                     set when external interrupt 1 is detected
            =4                                     cleared when interrupt is processed */
            =4 SBIT IT1 = TCON^2;               /* external interrupt 1 signal type control bit
            =4                                     set to specify external interrupt 1 as falling edge triggered
            =4                                     cleared to specify external interrupt 1 as low level triggered */
            =4 SBIT IF0 = TCON^1;               /* external interrupt 0 edge flag , hardware controlled
            =4                                     set when external interrupt 0 is detected
            =4                                     cleared when interrupt is processed */
            =4 SBIT IT0 = TCON^0;               /* external interrupt 0 signal type control bit.
            =4                                     Set to specify External interrupt 0 as falling edge triggered.
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 30  

            =4                                     Cleared to specify External interrupt 0 as low level triggered. */
            =4 /*TMOD*/
            =4 SBIT GATE1              = TMOD^7;  /*timer 1 gate*/
            =4 SBIT GATE0              = TMOD^3;  /*timer0 gate*/
            =4 /*TMOD[5:4]             time1 mode select. 00:timer stop; 01:16 bit counter single mode; 10:16 bit counte
             -r repeat mode; 11:half timer1‘›Õ£π§◊˜,»Áπ˚∏¥‘≠µΩ÷Æ«∞µƒƒ£ Ω,timer1Ω´ºÃ–¯π§◊˜*/
            =4 /*TMOD[1:0]             time0 mode select.π¶ƒ‹Õ¨…œ*/
            =4 
            =4 /*TDIV*/
            =4 SBIT INTSEL1            = TDIV^7;   /*timer1÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr1«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
            =4 SBIT INTSEL0            = TDIV^6;   /*timer0÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr0«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
            =4 SBIT INTCLR1            = TDIV^5;   /*»Ìº˛«Â≥˝ ±,INTCLR1–¥1 ±«Â≥˝timer1÷–∂œ*/
            =4 SBIT INTCLR0            = TDIV^4;   /*»Ìº˛«Â≥˝ ±,INTCLR0–¥1 ±«Â≥˝timer1÷–∂œ*/
            =4 
            =4 /* CNTCON */
            =4 SBIT CNT_START          = CNTCON^7;   /* 1: ∆Ù∂ØCNT; 0: º∆ ˝÷’÷π(ø…“‘∂¡»°º∆ ˝÷µ) */
            =4 SBIT CNT_CLEAR          = CNTCON^4;   /* «Â≥˝CNTº∆ ˝∆˜÷µµΩ0 */
            =4 SBIT CNT_WKEN           = CNTCON^3;   /* CNTªΩ–— πƒ‹: 1:¥Úø™ πƒ‹ 0:πÿ±’ªΩ–— πƒ‹ */
            =4 
            =4 /*LED_EN*/
            =4 SBIT LED_5_EN           = LED_EN^5;
            =4 SBIT LED_4_EN           = LED_EN^4;
            =4 SBIT LED_3_EN           = LED_EN^3;
            =4 SBIT LED_2_EN           = LED_EN^2;
            =4 SBIT LED_1_EN           = LED_EN^1;
            =4 SBIT LED_0_EN           = LED_EN^0;
            =4 
            =4 /*MEMBIST_EN1*/
            =4 SBIT DRAM2_BIST_EN      = MEMBIST_EN1^7;
            =4 SBIT DRAM1_BIST_EN      = MEMBIST_EN1^6;
            =4 SBIT DRAM0_BIST_EN      = MEMBIST_EN1^5;
            =4 SBIT PRAM4_BIST_EN      = MEMBIST_EN1^4;
            =4 SBIT PRAM3_BIST_EN      = MEMBIST_EN1^3;
            =4 SBIT PRAM2_BIST_EN      = MEMBIST_EN1^2;
            =4 SBIT PRAM1_BIST_EN      = MEMBIST_EN1^1;
            =4 SBIT PRAM0_BIST_EN      = MEMBIST_EN1^0;
            =4 
            =4 /*MEMBIST_EN2*/
            =4 SBIT AFERAM_R_BIST_EN   = MEMBIST_EN2^3;
            =4 SBIT AFERAM_L_BIST_EN   = MEMBIST_EN2^2;
            =4 SBIT ARAM_BIST_EN       = MEMBIST_EN2^1;
            =4 SBIT PROM_BIST_EN       = MEMBIST_EN2^0;
            =4 
            =4 /*MEMBIST_FINISH1*/
            =4 SBIT DRAM2_FINISH       = MEMBIST_FINISH1^7;
            =4 SBIT DRAM1_FINISH       = MEMBIST_FINISH1^6;
            =4 SBIT DRAM0_FINISH       = MEMBIST_FINISH1^5;
            =4 SBIT PRAM4_FINISH       = MEMBIST_FINISH1^4;
            =4 SBIT PRAM3_FINISH       = MEMBIST_FINISH1^3;
            =4 SBIT PRAM2_FINISH       = MEMBIST_FINISH1^2;
            =4 SBIT PRAM1_FINISH       = MEMBIST_FINISH1^1;
            =4 SBIT PRAM0_FINISH       = MEMBIST_FINISH1^0;
            =4 
            =4 /*MEMBIST_FINISH2*/
            =4 SBIT RPTRAM_R_FINISH    = MEMBIST_FINISH2^7;
            =4 SBIT RPTRAM_L_FINISH    = MEMBIST_FINISH2^6;
            =4 SBIT ACCRAM_R_FINISH    = MEMBIST_FINISH2^5;
            =4 SBIT ACCRAM_L_FINISH    = MEMBIST_FINISH2^4;
            =4 SBIT TABRAM_R_FINISH    = MEMBIST_FINISH2^3;
            =4 SBIT TABRAM_L_FINISH    = MEMBIST_FINISH2^2;
            =4 SBIT ARAM_FINISH        = MEMBIST_FINISH2^1;
            =4 SBIT PROM_FINISH        = MEMBIST_FINISH2^0;
            =4 
            =4 /*MEMBIST_FAIL1*/
            =4 SBIT DRAM2_FAIL         = MEMBIST_FAIL1^7;
            =4 SBIT DRAM1_FAIL         = MEMBIST_FAIL1^6;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 31  

            =4 SBIT DRAM0_FAIL         = MEMBIST_FAIL1^5;
            =4 SBIT PRAM4_FAIL         = MEMBIST_FAIL1^4;
            =4 SBIT PRAM3_FAIL         = MEMBIST_FAIL1^3;
            =4 SBIT PRAM2_FAIL         = MEMBIST_FAIL1^2;
            =4 SBIT PRAM1_FAIL         = MEMBIST_FAIL1^1;
            =4 SBIT PRAM0_FAIL         = MEMBIST_FAIL1^0;
            =4 
            =4 /*MEMBIST_FAIL2*/
            =4 SBIT RPTRAM_R_FAIL      = MEMBIST_FAIL2^7;
            =4 SBIT RPTRAM_L_FAIL      = MEMBIST_FAIL2^6;
            =4 SBIT ACCRAM_R_FAIL      = MEMBIST_FAIL2^5;
            =4 SBIT ACCRAM_L_FAIL      = MEMBIST_FAIL2^4;
            =4 SBIT TABRAM_R_FAIL      = MEMBIST_FAIL2^3;
            =4 SBIT TABRAM_L_FAIL      = MEMBIST_FAIL2^2;
            =4 SBIT ARAM_FAIL          = MEMBIST_FAIL2^1;
            =4 SBIT PROM_FAIL          = MEMBIST_FAIL2^0;
            =4 
            =4 /*MEMBIST_ERRMAP1*/
            =4 SBIT DRAM2_ERRMAP       = MEMBIST_ERRMAP1^7;
            =4 SBIT DRAM1_ERRMAP       = MEMBIST_ERRMAP1^6;
            =4 SBIT DRAM0_ERRMAP       = MEMBIST_ERRMAP1^5;
            =4 SBIT PRAM4_ERRMAP       = MEMBIST_ERRMAP1^4;
            =4 SBIT PRAM3_ERRMAP       = MEMBIST_ERRMAP1^3;
            =4 SBIT PRAM2_ERRMAP       = MEMBIST_ERRMAP1^2;
            =4 SBIT PRAM1_ERRMAP       = MEMBIST_ERRMAP1^1;
            =4 SBIT PRAM0_ERRMAP       = MEMBIST_ERRMAP1^0;
            =4 
            =4 /*MEMBIST_ERRMAP2*/
            =4 SBIT RPTRAM_R_ERRMAP    = MEMBIST_ERRMAP2^7;
            =4 SBIT RPTRAM_L_ERRMAP    = MEMBIST_ERRMAP2^6;
            =4 SBIT ACCRAM_R_ERRMAP    = MEMBIST_ERRMAP2^5;
            =4 SBIT ACCRAM_L_ERRMAP    = MEMBIST_ERRMAP2^4;
            =4 SBIT TABRAM_R_ERRMAP    = MEMBIST_ERRMAP2^3;
            =4 SBIT TABRAM_L_ERRMAP    = MEMBIST_ERRMAP2^2;
            =4 SBIT ARAM_ERRMAP        = MEMBIST_ERRMAP2^1;
            =4 SBIT PROM_ERRMAP        = MEMBIST_ERRMAP2^0;
            =4 
            =4 /* AIF */
            =4 SBIT WDT_INT_IF         = AIF^4;      /* wdt int«Î«Û–≈∫≈ */
            =4 SBIT SPI0_INT_IF        = AIF^3;      /* spi0 int«Î«Û–≈∫≈ */
            =4 SBIT SPI1_INT_IF        = AIF^2;      /* spi1 int«Î«Û–≈∫≈ */
            =4 SBIT ASM_INT_IF         = AIF^1;      /* asm int«Î«Û–≈∫≈ */
            =4 SBIT I2C_STOP_IF        = AIF^0;      /* i2c stop int«Î«Û–≈∫≈ */
            =4 
            =4 /* AIE */
            =4 SBIT WDT_INT_EI         = AIE^4;    /* wdt int enable */
            =4 SBIT SPI0_EI            = AIE^3;    /* spi0 int enable*/
            =4 SBIT SPI1_EI            = AIE^2;    /* spi1 int enable */
            =4 SBIT ASM_EI             = AIE^1;    /* Asm int enable */
            =4 SBIT I2C_STOP_EI        = AIE^0;    /* i2c stop int enable */  
            =4 
            =4 
            =4 /* IEN0 */
            =4 SBIT EA                 = IEN0^7;  /* Global Interrupt Enable */
            =4 SBIT EC                 = IEN0^6;  /* uart */
            =4 SBIT ET2                = IEN0^5;  /* I2C */
            =4 SBIT ES                 = IEN0^4;  /* LCD TIMING int */
            =4 SBIT ET1                = IEN0^3;  /* timer1 */
            =4 SBIT EX1                = IEN0^2;  /* RTC or CNT */
            =4 SBIT ET0                = IEN0^1;  /* timer0 */
            =4 SBIT EX0                = IEN0^0;  /* int0 wake up */
            =4 
            =4 /* interruption priority */
            =4 SBIT IPHX0              = IPH0^0;   /* Int0 */
            =4 SBIT IPLX0              = IPL0^0;
            =4 SBIT IPHT0              = IPH0^1;   /* Time0 */
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 32  

            =4 SBIT IPLT0              = IPL0^1;
            =4 SBIT IPHX1              = IPH0^2;   /* Int1 */
            =4 SBIT IPLX1              = IPL0^2;
            =4 SBIT IPHT1              = IPH0^3;   /* Time1 */
            =4 SBIT IPLT1              = IPL0^3;
            =4 SBIT LCD_IPH            = IPH0^4;   /* LCD int run */
            =4 SBIT LCD_IPL            = IPL0^4;
            =4 SBIT I2C_IPH            = IPH0^5;   /* I2C */
            =4 SBIT I2C_IPL            = IPL0^5;
            =4 SBIT Uart_IPH           = IPH0^6;   /* Uart */
            =4 SBIT Uart_IPL           = IPL0^6;
            =4 SBIT I2C_STOP_IPH       = AIPH^0;   /* I2C Stop */
            =4 SBIT I2C_STOP_IPL       = AIPL^0;
            =4 SBIT ASM_IPH            = AIPH^1;   /* ASM */
            =4 SBIT ASM_IPL            = AIPL^1;   
            =4 SBIT SPI1_IPH           = AIPH^2;   /* SPI1 */
            =4 SBIT SPI1_IPL           = AIPL^2;
            =4 SBIT SPI0_IPH           = AIPH^3;   /* SPI0 */
            =4 SBIT SPI0_IPL           = AIPL^3;
            =4 SBIT WDT_IPH            = AIPH^4;   /* wdt */
            =4 SBIT WDT_IPL            = AIPL^4;
            =4 
            =4 /* P0 */
            =4 SBIT P0_7               = P0BUF^7;
            =4 SBIT P0_6               = P0BUF^6;
            =4 SBIT P0_5               = P0BUF^5;
            =4 SBIT P0_4               = P0BUF^4;
            =4 SBIT P0_3               = P0BUF^3;
            =4 SBIT P0_2               = P0BUF^2;
            =4 SBIT P0_1               = P0BUF^1;
            =4 SBIT P0_0               = P0BUF^0;
            =4 
            =4 /*p1*/
            =4 SBIT P1_7               = P1BUF^7;
            =4 SBIT P1_6               = P1BUF^6;
            =4 SBIT P1_5               = P1BUF^5;
            =4 SBIT P1_4               = P1BUF^4;
            =4 SBIT P1_3               = P1BUF^3;
            =4 SBIT P1_2               = P1BUF^2;
            =4 SBIT P1_1               = P1BUF^1;
            =4 SBIT P1_0               = P1BUF^0;
            =4 
            =4 
            =4 /* GPIO pin definition */
            =4 SBIT Flash_WP           = P1BUF^7;
            =4 SBIT Flash_HOLD         = P1BUF^4;
            =4 
            =4 SBIT Flash_pad          = P1BUF^6;
            =4 SBIT Flash_DIR          = P1DIR^6;
            =4 SBIT Flash_GPIO         = P1MOD^6;
            =4 SBIT Flash_DM           = P1SEL^6;
            =4 
            =4 SBIT INTOUT             = P0BUF^6;
            =4 SBIT INTOUT_DIR         = P0DIR^6;
            =4 SBIT GPIO_INTOUT        = P0MOD^6;
            =4 SBIT INTOUT_DM          = P0SEL^6;
            =4 
            =4 SBIT GPIO3              = P0BUF^7;
            =4 SBIT GPIO3_DIR          = P0DIR^7;
            =4 SBIT GPIO3_INTOUT       = P0MOD^7;
            =4 SBIT GPIO3_DM           = P0SEL^7;
            =4 
            =4 SBIT GPIO4              = P1BUF^5;
            =4 SBIT GPIO4_DIR          = P1DIR^5;
            =4 SBIT GPIO4_INTOUT       = P1MOD^5;
            =4 SBIT GPIO4_DM           = P1SEL^5;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 33  

            =4 
            =4 /* mcu clk config */
            =4 #define MAIN_CLK  0 //0:48M; 1:24M   
            =4 /*******************************************************************************
            =4  * 3.Global structures, unions and enumerations using typedef
            =4  *******************************************************************************/
            =4 
            =4 /*******************************************************************************
            =4  * 4.Global variable extern declarations
            =4  *******************************************************************************/
            =4 
            =4 
            =4 /******************************************************************************
            =4 *
            =4 * App Info data section
            =4 ******************************************************************************/
            =4 // app ¥Ê‘⁄flashµƒŒÔ¿Ìµÿ÷∑
            =4 #define CODE_START_ADDR       0x1000
            =4 #define CODE_VERIF_ADDR       (CODE_START_ADDR+APP_VERIF_ADDR)
            =4 
            =4 // app ¥Ê‘⁄pramµƒŒÔ¿Ìµÿ÷∑
            =4 #define APP_ADDR_START        0x0000  // app start addr
            =4 #define APP_START_OPCODE      0x02
            =4 
            =4 #define APP_VERIF_ADDR        0x100   // Verification Info
            =4 #define APP_VERIF_LEN         0x20
            =4 #define APP_VERIF_CODE_LEN    0x04    //app÷–code≥§∂»–≈œ¢
            =4 
            =4 typedef enum
            =4 {
            =4     APP_LEN      = 0x00,
            =4     APP_NE_LEN   = 0x02,
            =4     P1_ECC_H     = 0x04,
            =4     P1_ECC_L     = 0x05,
            =4     P1_ECC_NE_H  = 0x06,
            =4     P1_ECC_NE_L  = 0x07,
            =4     P2_ECC_H     = 0x08,
            =4     P2_ECC_L     = 0x09,
            =4     P2_ECC_NE_H  = 0x0A,
            =4     P2_ECC_NE_L  = 0x0B,
            =4     APP_LEN_H    = 0x12,
            =4     APP_LEN_H_NE = 0x14,
            =4 } ENUM_APP_INFO;
            =4 
            =4 // App—È÷§–≈œ¢
            =4 #define ADDR_APP_LEN          (APP_VERIF_ADDR+APP_LEN)
            =4 #define ADDR_APP_NE_LEN       (APP_VERIF_ADDR+APP_NE_LEN)
            =4 #define ADDR_PART1_ECC        (APP_VERIF_ADDR+P1_ECC_H)
            =4 #define ADDR_PART1_ECC_NE     (APP_VERIF_ADDR+P1_ECC_NE_H)
            =4 #define ADDR_PART2_ECC        (APP_VERIF_ADDR+P2_ECC_H)
            =4 #define ADDR_PART2_ECC_NE     (APP_VERIF_ADDR+P2_ECC_NE_H)
            =4 #define ADDR_APP_LEN_H        (APP_VERIF_ADDR+APP_LEN_H)
            =4 #define ADDR_APP_LEN_H_NE     (APP_VERIF_ADDR+APP_LEN_H_NE)
            =4 
            =4 #define APP_ADDR_PART1_START  0x0000
            =4 #define APP_ADDR_PART1_LEN    ((APP_VERIF_ADDR)-(APP_ADDR_PART1_START))
            =4 #define APP_ADDR_PART2_START  ((APP_VERIF_ADDR)+(APP_VERIF_LEN)+(FW_CFG_TOTAL_SIZE))
            =4 
            =4 #define FLASH_APP_INFO        (APP_VERIF_ADDR + CODE_START_ADDR)
            =4 /******************************************************************************
            =4 *
            =4 * FW config data section
            =4 *******************************************************************************
            =4 /
            =4 /* FW≈‰÷√«¯”Ú≥§∂» */
            =4 #define FW_CFG_TOTAL_SIZE          0x80
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 34  

            =4 #define FW_CFG_INFO_SIZE           0x0E
            =4 
            =4 /* FW≈‰÷√«¯”Ú∆´“∆¡ø */
            =4 typedef enum
            =4 {
            =4     FW_CFG_I2C_OFFSET              = 0x00,     // master I2C  addr
            =4     FW_CFG_I2C_NE_OFFSET           = 0x01,     // ~master I2C addr
            =4     FW_CFG_IOVOLTAGE_OFFSET        = 0x02,     // Io Voltage 
            =4     FW_CFG_IOVOLTAGE_NE_OFFSET     = 0x03,     // ~Io Voltage
            =4     FW_CFG_VENDOR_OFFSET           = 0x04,     // Vendor 
            =4     FW_CFG_VENDOR_NE_OFFSET        = 0x05,     // ~Vendor
            =4     FW_CFG_SPI_CLK_OFFSET          = 0x06,     // SPI Clk
            =4     FW_CFG_SPI_CLK_NE_OFFSET       = 0x07,     // ~SPI Clk
            =4     FW_CFG_SYS_CLK_OFFSET          = 0x08,     // Sys Clk
            =4     FW_CFG_SYS_CLK_NE_OFFSET       = 0x09,     // ~Sys Clk 
            =4     FW_CFG_XBUS_CLK_OFFSET         = 0x0A,     // LCD xbus clk
            =4     FW_CFG_XBUS_CLK_NE_OFFSET      = 0x0B,     // ~LCD xbus clk
            =4     FW_CFG_SPI_IOMODE_OFFSET       = 0x0C,     // spi iomode
            =4     FW_CFG_SPI_IOMODE_NE_OFFSET    = 0x0D,     // ~spi iomode
            =4 } ENUM_FW_CFG_OFFSET;
            =4 
            =4 /* FW≈‰÷√«¯”ÚFlashŒª÷√ */
            =4 typedef enum
            =4 {
            =4     FW_CFG_START_FLASH_ADDR        = 0x0F80,
            =4     FW_CFG_I2C_FLASH_ADDR          = (FW_CFG_START_FLASH_ADDR+
            =4 FW_CFG_I2C_OFFSET),
            =4 } ENUM_FW_CFG_FLASH_ADDR;
            =4 
            =4 /* FW≈‰÷√±∏∑›«¯”ÚFlashŒª÷√ */
            =4 typedef enum
            =4 {
            =4     FW_CFG_BKUP_START_FLASH_ADDR   = 0x1120,
            =4     FW_CFG_BKUP_I2C_FLASH_ADDR     = (FW_CFG_BKUP_START_FLASH_ADDR+FW_CFG_I2C_OFFSET),
            =4 } ENUM_FW_CFG_BKUP_FLASH_ADDR;
            =4 
            =4 /* LCD OTP≈‰÷√«¯”ÚŒª÷√ */
            =4 typedef enum
            =4 {
            =4     LCD_OTP_REG_ADDR               = 0x9866,
            =4     LCD_OTP_MASTER_I2C_ADDR        = (LCD_OTP_REG_ADDR+FW_CFG_I2C_OFFSET),
            =4     LCD_OTP_MASTER_I2C_NE_ADDR,
            =4     LCD_OTP_SPI_CLK_ADDR           = (LCD_OTP_REG_ADDR+FW_CFG_SPI_CLK_OFFSET),
            =4     LCD_OTP_SPI_CLK_NE_ADDR,
            =4     LCD_OTP_SYS_CLK_ADDR,
            =4     LCD_OTP_SYS_CLK_NE_ADDR,
            =4     LCD_OTP_XBUS_CLK_ADDR,
            =4     LCD_OTP_XBUS_CLK_NE_ADDR,
            =4     LCD_OTP_SPI_IOMODE_ADDR,
            =4     LCD_OTP_SPI_IOMODE_NE_ADDR,
            =4 } ENUM_LCD_OTP_ADDR;
            =4 
            =4 #define REG8(n)  (*((volatile UINT8  *)(n)))
            =4 #define REG16(n) (*((volatile UINT16 *)(n)))
            =4 #define REG32(n) (*((volatile UINT32 *)(n)))
            =4 
            =4 #define APP_DATA_MAX         0x11800
            =4 #define RST_VALUE_UPGRADE    0x6B  /* Flag of upgrade according to Romboot */
            =4 
            =4 #define PRAM_ADDR8(n)    (*((UINT8 far *)((UINT32)0xFEE800 + (n))))
            =4 #define PRAM2_ADDR8(n)   (*((UINT8 far *)((UINT32)0xFF4000 + (n))))
            =4 
            =4 #define PRAM_PTR8(n)     ((volatile UINT8 far *)((UINT32)0xFEE800 + (n)))
            =4 #define PRAM2_PTR8(n)    ((volatile UINT8 far *)((UINT32)0xFF4000 + (n)))
            =4 
            =4 #define PROM_ADDR8(n)     (*((UINT8 far *)(0xFD0000 + n)))
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 35  

            =4 #define DRAM_ADDR8(n)     (*((UINT8 *)(0x0000 + n)))
            =4 
            =4 
            =4 #define PRAM_ADDR16(n)     (*((UINT16 far *)(0xFEE800 + n)))
            =4 
            =4 #define PROM_ADDR16(n)     (*((UINT16 far *)((UINT32)0xFD0000 + n)))
            =4 #define DRAM_ADDR16(n)     (*((UINT16 *)((UINT32)0x0000 + n)))
            =4 
            =4 #define HOLD            while (1)
            =4 /*******************************************************************************
            =4  * Global function prototypes
            =4  *******************************************************************************/
            =4 
            =4 #endif
   25       =3 
   26       =3 /*******************************************************************************
   27       =3 * Global constant and macro definitions using #define
   28       =3 *******************************************************************************/
   29       =3 #define ARAM_DATA_BASE_ADDR              0xA000
   30       =3 #define SPI1_REG_BASE_ADDR               0xB220
   31       =3 /* SPI0 reg Start Addr */
   32       =3 #define SPI0_REG_BASE_ADDR               0xB200
   33       =3 
   34       =3 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
   35       =3 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
   36       =3 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
   37       =3 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
   38       =3 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
   39       =3 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
   40       =3 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
   41       =3 /* XSI reg øÿ÷∆«¯ */
   42       =3 
   43       =3 /* XSI0 reg start addr */
   44       =3 #define XSI0_REG_BASE_ADDR     0xB400
   45       =3 
   46       =3 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
   47       =3 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
   48       =3 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
   49       =3 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
   50       =3 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
   51       =3 
   52       =3 /* XSI1 reg start addr */
   53       =3 #define XSI1_REG_BASE_ADDR     0xB800
   54       =3 
   55       =3 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
   56       =3 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
   57       =3 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
   58       =3 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
   59       =3 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
   60       =3 
   61       =3 /* XBUS reg start addr */
   62       =3 #define XBUS_REG_BASE_ADDR     0xBC00
   63       =3 
   64       =3 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
   65       =3 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
   66       =3 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
   67       =3 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
   68       =3 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
   69       =3 
   70       =3 /* reload dma base addr */
   71       =3 //#define RELOAD_DMA_START_ADDR  0x9D00
   72       =3 /******************************************************************************/
   73       =3 /******************************************************************************/
   74       =3 /* CAL reg Start Addr */
   75       =3 #define CAL_REG_BASE_ADDR       0xB000
   76       =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 36  

   77       =3 /* ASM reg Start Addr */
   78       =3 #define ASM_REG_BASE_ADDR       0xB100
   79       =3 
   80       =3 
   81       =3 /*******************************************************************************
   82       =3 * Global structures, unions and enumerations using typedef
   83       =3 *******************************************************************************/
   84       =3 /*************************************************************/
   85       =3 /* XSI reg */
   86       =3 typedef struct
   87       =3 {
   88       =3     UINT16 Wdata;        // (0x00<<1)
   89       =3     UINT16 Rdata;        // (0x01<<1)
   90       =3     UINT16 Clksel;       // (0x02<<1)
   91       =3     UINT16 Stop;         // (0x03<<1)
   92       =3     UINT16 Tx_int;       // (0x04<<1)
   93       =3 } ST_XSIRegisters;
   94       =3 
   95       =3 typedef union
   96       =3 {
   97       =3     ST_XSIRegisters reg;
   98       =3     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
   99       =3 } Union_XSIReg;
  100       =3 
  101       =3 /*************************************************************/
  102       =3 // cal
  103       =3 typedef struct
  104       =3 {
  105       =3     UINT16 rCmd;           // (0x00<<1)
  106       =3     UINT16 rDmaLen;        // (0x01<<1)
  107       =3     UINT16 rS1Addr;        // (0x02<<1)
  108       =3     UINT16 rS2Addr;        // (0x03<<1)
  109       =3     UINT16 rOutAddr;       // (0x04<<1)
  110       =3     UINT16 rPar;           // (0x05<<1)
  111       =3     UINT16 rSize;          // (0x06<<1)
  112       =3     UINT16 rPThd;          // (0x07<<1)
  113       =3     UINT16 rNThd;          // (0x08<<1)
  114       =3     UINT16 rAThd;          // (0x09<<1)
  115       =3     UINT16 rDmask;         // (0x0A<<1)
  116       =3     UINT16 rPaCnt;         // (0x0B<<1)
  117       =3     UINT16 rNaCnt;         // (0x0C<<1)
  118       =3     UINT16 rPsCnt;         // (0x0D<<1)
  119       =3     UINT16 rNsCnt;         // (0x0E<<1)
  120       =3     UINT16 rMaxV;          // (0x0F<<1)
  121       =3     UINT16 rMaxPos;        // (0x10<<1)
  122       =3     UINT16 rMinV;          // (0x11<<1)
  123       =3     UINT16 rMinPos;        // (0x12<<1)
  124       =3     UINT16 rID0;           // (0x13<<1)
  125       =3     UINT16 rID1;           // (0x14<<1)
  126       =3     UINT16 rID2;           // (0x15<<1)
  127       =3     UINT16 rCrc;           // (0x16<<1)
  128       =3     UINT16 rChk;           // (0x17<<1)
  129       =3     UINT16 rNaThd;         // (0x18<<1)
  130       =3     UINT16 rTxRxNum;       // (0x19<<1)
  131       =3     UINT16 rDivShift;      // (0x1a<<1)
  132       =3     UINT16 rSubabsMax;     // (0x1b<<1)
  133       =3     UINT16 rInt;           // (0x1c<<1)
  134       =3     UINT16 rCntNum;        // (0x1d<<1)
  135       =3     UINT16 rDmaskA;        // (0x1e<<1)
  136       =3     UINT16 rTxRxNumAm;     // (0x1f<<1)
  137       =3     UINT16 rTxRxNumAs;     // (0x20<<1)
  138       =3     UINT16 rSizeAm;        // (0x21<<1)
  139       =3     UINT16 rSizeAs;        // (0x22<<1)
  140       =3     UINT16 rS1AddrA;       // (0x23<<1)
  141       =3     UINT16 rS2AddrA;       // (0x24<<1)
  142       =3     UINT16 rOutAddrA;      // (0x25<<1)
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 37  

  143       =3     UINT16 rSel;           // (0x26<<1)
  144       =3 } ST_CalRegisters;
  145       =3 
  146       =3 typedef union
  147       =3 {
  148       =3     ST_CalRegisters reg;
  149       =3     UINT16 offset[sizeof(ST_CalRegisters)>>1];
  150       =3 } Union_CalReg;
  151       =3 
  152       =3 /*************************************************************/
  153       =3 /*XBUS reg*/
  154       =3 typedef struct
  155       =3 {  
  156       =3     UINT16 rdata_lo_byte;
  157       =3     UINT16 rdata_ho_byte;
  158       =3     UINT16 lcd_regfile_ctrl;
  159       =3     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
  160       =3     UINT16 xbus_rld_data;//reload_data
  161       =3 }ST_LcdWrapRegisters;
  162       =3 
  163       =3 typedef union
  164       =3 {
  165       =3     ST_LcdWrapRegisters reg;
  166       =3     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
  167       =3 }Union_LcdReg;
  168       =3 
  169       =3 /*************************************************************/
  170       =3 /*SPI0_DMA reg*/
  171       =3 typedef struct
  172       =3 {
  173       =3     UINT16 dma_ctrl;
  174       =3     UINT16 timeout_ctrl;
  175       =3     UINT16 addr_h;
  176       =3     UINT16 start_addr_l;
  177       =3     UINT16 end_addr_l;
  178       =3     UINT16 dma_crc;
  179       =3     UINT16 dma_srcr;
  180       =3     
  181       =3 }ST_Spi0DmaRegisters;
  182       =3 
  183       =3 /*SPI1_DMA reg*/
  184       =3 typedef struct
  185       =3 {
  186       =3     UINT16 dma_ctrl;
  187       =3     UINT16 timeout_ctrl;
  188       =3     UINT16 addr_h;
  189       =3     UINT16 start_addr_l;
  190       =3     UINT16 end_addr_l;
  191       =3     UINT16 dma_crc;
  192       =3     UINT16 dma_srcr;
  193       =3     
  194       =3 }ST_Spi1DmaRegisters;
  195       =3 
  196       =3 typedef union
  197       =3 {
  198       =3     ST_Spi0DmaRegisters reg;
  199       =3     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
  200       =3 }Union_Spi0Reg;
  201       =3 
  202       =3 /*************************************************************/
  203       =3 /* ASM reg */
  204       =3 typedef struct
  205       =3 {
  206       =3     UINT16 usAsmIntFlag0;         // 00  RO
  207       =3     UINT16 usAsmIntFlag1;         // 01  RO
  208       =3     UINT16 usAsmIntClr0;          // 02  WO
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 38  

  209       =3     UINT16 usAsmIntClr1;          // 03  WO
  210       =3     UINT16 usAsmIntEn0;           // 04
  211       =3     UINT16 usAsmIntEn1;           // 05
  212       =3     UINT16 usAsmIntWakeEn0;       // 06
  213       =3     UINT16 usAsmIntWakeEn1;       // 07
  214       =3     UINT16 usAsmIntSta;           // 08  RO
  215       =3     UINT16 usAsmScanSta0;         // 09  RO
  216       =3     UINT16 usAsmScanSta1;         // 10  RO
  217       =3     UINT16 usAsmScanSta2;         // 11  RO
  218       =3     UINT16 usAsmScanSta3;         // 12  RO
  219       =3     UINT16 usAsmScanCtrl;         // 13  WO
  220       =3     UINT16 usAsmScanCfg0;         // 14
  221       =3     UINT16 usAsmScanCfg1;         // 15
  222       =3     UINT16 usAsmTpFrameCfg0;      // 16
  223       =3     UINT16 usAsmTpFrameCfg1;      // 17
  224       =3     UINT16 usAsmTpFrameCfg2;      // 18
  225       =3     UINT16 usAsmTpFrameCfg3;      // 19
  226       =3     UINT16 usAsmScanDly;          // 20
  227       =3     UINT16 usAsmStbMaseL;         // 21
  228       =3     UINT16 usAsmStbMaseH;         // 22  
  229       =3     UINT16 usAsmAramBaseL;        // 23
  230       =3     UINT16 usAsmAramBaseR;        // 24
  231       =3     UINT16 usAsmAramBaseKey;      // 25    
  232       =3     UINT16 usAsmAramCBL;          // 26
  233       =3     UINT16 usAsmAramCBR;          // 27
  234       =3     UINT16 usAsmAramCBKey;        // 28
  235       =3     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
  236       =3     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
  237       =3     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
  238       =3     UINT16 usAsmHwMonCrtl0;       // 32
  239       =3     UINT16 usAsmHwMonCtrl1;       // 33
  240       =3     UINT16 usAsmHwMonCfg0;        // 34
  241       =3     UINT16 usAsmHwMonCfg1;        // 35
  242       =3     UINT16 usAsmHwMonCfg2;        // 36
  243       =3     UINT16 usAsmHwMonCfg3;        // 37
  244       =3     UINT16 usAsmHwMonCfg4;        // 38
  245       =3     UINT16 usAsmHwMonTimer;       // 39
  246       =3     UINT16 usAsmVreshCfgLcdon;    // 40
  247       =3 } ST_AsmRegisters;
  248       =3 
  249       =3 typedef union
  250       =3 {
  251       =3     ST_AsmRegisters reg;
  252       =3     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
  253       =3 } Union_AsmReg;
  254       =3 
  255       =3 
  256       =3 /*******************************************************************************/
  257       =3 /* AFE reg */
  258       =3 #if 0
            =3 typedef struct
            =3 {
            =3     UINT16 usAfeAsmCfg;              // 0x00
            =3     UINT16 usAfePanelCfg0;           // 0x01
            =3     UINT16 usAfePanelCfg1;           // 0x02
            =3     UINT16 usAfePanelCfg2;           // 0x03
            =3     UINT16 usAfeSysCfg0;             // 0x04
            =3     UINT16 usAfeSysCfg1;             // 0x05
            =3     UINT16 usAfeScanCfg0;            // 0x06
            =3     UINT16 usAfeScanCfg1;            // 0x07
            =3     UINT16 usAfeDummyScanCfg;        // 0x08
            =3     UINT16 usAfeBaseTrackCfg;        // 0x09
            =3     UINT16 usAfeAcc_Offset;          // 0x0A
            =3     UINT16 usAfeTpMonTh;             // 0x0B
            =3     UINT16 usAfeKeyMonTh;            // 0x0C
            =3     UINT16 usAfeAnaGenCfg0;          // 0x0D
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 39  

            =3     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =3     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =3     UINT16 usAfeAnaCaCfg1;           // 0x10
            =3     UINT16 usAfeAnaCaCfg2;           // 0x11
            =3     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =3     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =3     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =3     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =3     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =3     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =3     UINT16 usAfeP1P2DlyCfg0;         // 0x18
            =3     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =3     UINT16 usAfeAnaShcfg0;           // 0x1A
            =3     UINT16 usAfeAnaShcfg1;           // 0x1B
            =3     UINT16 usAfeAnaShcfg2;           // 0x1C
            =3     UINT16 usAfeAnaShcfg3;           // 0x1D
            =3     UINT16 usAfeAnaShcfg4;           // 0x1E
            =3     UINT16 usAfeAnaShcfg5;           // 0x1F
            =3     UINT16 usAfeAnaShcfg6;           // 0x20
            =3     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =3     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =3     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =3     UINT16 usAfeAnaAdcCfg3;          // 0x24
            =3     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =3     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =3     UINT16 usAfeSdVcomCfg;           // 0x27
            =3     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =3     UINT16 usAllGateOnLCfg;          // 0x29
            =3     UINT16 usAllGateOffLCfg;         // 0x2A
            =3     UINT16 usAllGateStopLCfg;        // 0x2B
            =3     UINT16 usAllGateHCfg;            // 0x2C
            =3     UINT16 usRptRawdataNum;          // 0x2D
            =3     UINT16 usCbAdjustTh;             // 0x2E
            =3     UINT16 usTestModeCfg;            // 0x2F
            =3     UINT16 usPrescanTime;            // 0x30
            =3     UINT16 usDischargeTime;          // 0x31
            =3     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =3     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =3     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =3     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =3     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =3     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =3     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =3     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =3     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =3     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =3     UINT16 usReserveZone1;           // 0x3C
            =3     UINT16 usReserveZone2;           // 0x3D
            =3     UINT16 usReserveZone3;           // 0x3E
            =3     UINT16 usReserveZone4;           // 0x3F    
            =3     UINT16 usMcapScanCfg;            // 0x40
            =3     UINT16 usMcapScanSr;             // 0x41
            =3     UINT16 usMcapKeyInterVal6;       // 0x42
            =3     UINT16 usMcapDummyScanNum;       // 0x43
            =3     UINT16 usMcapRawShiftCof;        // 0x44
            =3     UINT16 usMcapRawOffSetL;         // 0x45
            =3     UINT16 usMcapAdcCfg;             // 0x46
            =3     UINT16 usMcapAdcDat0;            // 0x47
            =3     UINT16 usMcapInitSamplCfg;       // 0x48
            =3     UINT16 usMcapOverFlowThr;        // 0x49
            =3     UINT16 usMcapUnderFlowThr;       // 0x4A
            =3     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =3     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =3     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =3     UINT16 usMcapNormalSignalDwThr;  // 0x4E
            =3     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 40  

            =3     UINT16 usMcapLpfirCfg;           // 0x50
            =3     UINT16 usMcapLpFirCfg0;          // 0x51
            =3     UINT16 usMcapLpFirCfg1;          // 0x52
            =3     UINT16 usMcapLpFirCfg2;          // 0x53
            =3     UINT16 usMcapLpFirCfg3;          // 0x54
            =3     UINT16 usMcapLpFirCfg4;          // 0x55  
            =3     UINT16 usMcapLpFirCfg5;          // 0x56
            =3     UINT16 usMcapLpFirCfg6;          // 0x57
            =3     UINT16 usMcapLpFirCfg7;          // 0x58
            =3    
            =3 } ST_AfeRegList;
            =3 #endif
  353       =3 
  354       =3 typedef enum
  355       =3 {
  356       =3     Addr_PANEL_MODE_CFG0 =1, 
  357       =3     Addr_PANEL_MODE_CFG1 =2,
  358       =3     Addr_PANEL_MODE_CFG2 =3, 
  359       =3     Addr_AFE_SYS_CFG0 =4, 
  360       =3     Addr_AFE_SYS_CFG1 =5, 
  361       =3     Addr_AFE_SCAN_CFG0 =6, 
  362       =3     Addr_AFE_SCAN_CFG1 =7, 
  363       =3     Addr_AFE_DUMMY_SCAN_CFG =8, 
  364       =3     Addr_AFE_BASE_TRACK_CFG =9, 
  365       =3     Addr_ACC_OFFSET =10, 
  366       =3     Addr_TP_MONITOR_THRESHOLD =11,
  367       =3     Addr_KEY_MONITOR_THRESHOLD =12, 
  368       =3     Addr_AFE_ANA_K1_CFG0 =13,
  369       =3     Addr_AFE_ANA_K2_CFG1 =14,
  370       =3     Addr_AFE_ANA_CA_CFG0 =15, 
  371       =3     Addr_AFE_ANA_CA_CFG1 =16, 
  372       =3     Addr_AFE_ANA_CA_CFG2 =17,
  373       =3     Addr_AFE_ANA_P1_P2_CFG0 =18, 
  374       =3     Addr_AFE_ANA_P1_P2_CFG1 =19,
  375       =3     Addr_AFE_ANA_P1_P2_CFG2 =20, 
  376       =3     Addr_AFE_ANA_P1_P2_CFG3 =21,
  377       =3     Addr_AFE_ANA_P1_P2_CFG4 =22, 
  378       =3     Addr_AFE_ANA_P1_P2_CFG5 =23, 
  379       =3     Addr_AFE_P1_P2_DLY_CFG0 =24, 
  380       =3     Addr_AFE_P1_P2_DLY_CFG1 =25, 
  381       =3     Addr_AFE_ANA_SH_CFG0 =26,
  382       =3     Addr_AFE_ANA_SH_CFG1 =27, 
  383       =3     Addr_AFE_ANA_SH_CFG2 =28, 
  384       =3     Addr_AFE_ANA_SH_CFG3 =29, 
  385       =3     Addr_AFE_ANA_SH_CFG4 =30, 
  386       =3     Addr_AFE_ANA_SH_CFG5 =31,
  387       =3     Addr_AFE_ANA_SH_CFG6 =32, 
  388       =3     Addr_AFE_ANA_ADC_CFG0 =33, 
  389       =3     Addr_AFE_ANA_ADC_CFG1 =34, 
  390       =3     Addr_AFE_ANA_ADC_CFG2 =35, 
  391       =3     Addr_AFE_ANA_ADC_CFG3 =36, 
  392       =3     Addr_AFE_GIPH_P1_P2_CFG =37, 
  393       =3     Addr_AFE_GIPL_P1_P2_CFG =38, 
  394       =3     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
  395       =3     Addr_AFE_SX_P1_P2_CFG =40, 
  396       =3     Addr_AFE_MOUT_GIPH_CFG = 41,
  397       =3     Addr_AFE_MOUT_GIPL_CFG = 42,
  398       =3     Addr_AFE_GOUT_GIPH_CFG = 43,
  399       =3     Addr_AFE_GOUT_GIPL_CFG = 44,
  400       =3    
  401       =3     Addr_ALL_GATE_ON_L_CFG =45, 
  402       =3     Addr_ALL_GATE_OFF_L_CFG =46,
  403       =3     Addr_ALL_GATE_STOP_L_CFG =47, 
  404       =3     Addr_ALL_GATE_H_CFG =48,                              
  405       =3     Addr_RPT_RAWDATA_NUM =49,                             
  406       =3     Addr_CB_ADJUST_THLD =50,                                
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 41  

  407       =3     Addr_TEST_MODE_FLAG =51,                              
  408       =3     Addr_PRESCAN_TIME =52,                                 
  409       =3     Addr_DISCHARGE_TIME =53,                               
  410       =3     Addr_ANA_STATIC_CFG0 =54,                              
  411       =3     Addr_ANA_STATIC_CFG1 =55,                               
  412       =3     Addr_ANA_STATIC_CFG2 =56,                              
  413       =3     Addr_ANA_STATIC_CFG3 =57,                            
  414       =3     Addr_TEST_P0_CFG0 =58,                               
  415       =3     Addr_TEST_P0_CFG1 =59,                               
  416       =3     Addr_TEST_P0_CFG2 =60,                                 
  417       =3     Addr_TEST_P1_CFG0 =61,                               
  418       =3     Addr_TEST_P1_CFG1 =62,                                
  419       =3     Addr_TEST_P1_CFG2 =63,                                 
  420       =3                                                                                                          
             -                                                          
  421       =3     Addr_MCAP_SCAN_CFG =64,                                
  422       =3     Addr_MCAP_SCANSR =65,                                  
  423       =3     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
  424       =3     Addr_RAWSHIFTCAF =67,                                
  425       =3     Addr_RAWDATA_OFFSET_L =68,                           
  426       =3     Addr_ADC_CFG =69,                                      
  427       =3     Addr_ADC_DATA0 =70,                                   
  428       =3     Addr_MCAP_INIT_SAMPL_CFG =71,                         
  429       =3     Addr_OVERFLOW_THR =72,                                 
  430       =3     Addr_UNDERFLOW_THR =73,                                
  431       =3     Addr_OVERFLOW_UPBOUND =74,                            
  432       =3     Addr_OVER_POINT_FRAME =75,                             
  433       =3     Addr_NORMAL_SIGNAL_UPTHR =76,                          
  434       =3     Addr_NORMAL_SIGNAL_DWTHR =77,                        
  435       =3     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
  436       =3     Addr_MCAP_LPFIR_CFG =79,                               
  437       =3     Addr_MCAP_LPFIR_COF0 =80,                              
  438       =3     Addr_MCAP_LPFIR_COF1 =81,                              
  439       =3     Addr_MCAP_LPFIR_COF2 =82,                             
  440       =3     Addr_MCAP_LPFIR_COF3 =83,                              
  441       =3     Addr_MCAP_LPFIR_COF4 =84,                              
  442       =3     Addr_MCAP_LPFIR_COF5 =85,                            
  443       =3     Addr_MCAP_LPFIR_COF6 =86,                             
  444       =3     Addr_MCAP_LPFIR_COF7 =87,   
  445       =3 }ENUM_AFE_ADDR;
  446       =3 
  447       =3 
  448       =3 /*******************************************************************************/
  449       =3 /* Afe table reg */
  450       =3 
  451       =3 /*******************************************************************************/
  452       =3 
  453       =3 
  454       =3 /*******************************************************************************
  455       =3 * Global variable extern declarations
  456       =3 *******************************************************************************/
  457       =3 
  458       =3 /*******************************************************************************
  459       =3 * Global function prototypes
  460       =3 *******************************************************************************/
  461       =3 
  462       =3 #endif //_FT8836_REG_H_
   88       =2 #include "Drv_mcu.h"
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Drv_mcu.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-24
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 42  

    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference: Transplant from FT5412 by linjianjun
   13       =3 *
   14       =3 *   Version: 0.2
   15       =3 *******************************************************************************/
   16       =3 #ifndef __DRV_MCU_H__
   17       =3 #define __DRV_MCU_H__
   18       =3 
   19       =3 
   20       =3 /*******************************************************************************
   21       =3 * 1.Included files
   22       =3 *******************************************************************************/
   23       =3 #include "CfgGlobal.h"
            =2 #include "Drv_XSI.h"
            =2 #include "Drv_XBUS.h"
            =2 #include "uart.h"
            =2 
            =2 #include "Test_GPIO.h"
            =2 #include "Test_WDT.h"
            =2 #include "Test_RTC.h"
            =2 #include "Test_timer.h"
            =2 #include "Test_Counter.h"
            =2 #include "Test_Prom.h"
            =2 #include "Test_Dram.h"
            =2 #include "Test_Aram.h"
            =2 #include "Test_SFR.h"
            =2 #include "Test_Reg.h"
            =2 #include "Test_I2C.h"
            =2 #include "Test_i2c_wakeup.h"
            =2 #include "Test_gpio_wakeup.h"
            =2 #include "Test_int_nest.h"
            =2 #include "Test_SPI.h"
            =2 #include "Test_CAL.h"
            =2 #include "Test_romboot.h"
            =2 #include "Test_Afe.h"
            =2 #include "Test_LED.h"
            =2 #include "Test_Xbus.h"
            =2 #include "Test_RomEcc.h"
            =2 #include "Test_Uart.h"
            =2 #include "Test_SOFT_RST.h"
            =2 #include "Test_spi0.h"
            =2 #include "Test_spi0_wakeup.h"
            =2 #include "Test_SPI0_dma.h"
            =2 #include "checksum.h"
            =2 #include "Test_DebugOut.h"
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 
            =2 #endif //GLOBAL_CONFIG_H
   23       =3 /*******************************************************************************
   23       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   23       =3 *
   23       =3 * File Name: Drv_mcu.h
   23       =3 *
   23       =3 *    Author: xinkunpeng
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 43  

   23       =3 *
   23       =3 *   Created: 2014-04-24
   23       =3 *
   23       =3 *  Abstract:
   23       =3 *
   23       =3 * Reference: Transplant from FT5412 by linjianjun
   23       =3 *
   23       =3 *   Version: 0.2
   23       =3 *******************************************************************************/
   23       =3 #ifndef __DRV_MCU_H__
   23       =3 #define __DRV_MCU_H__
   23       =3 
   23       =3 
   23       =3 /*******************************************************************************
   23       =3 * 1.Included files
   23       =3 *******************************************************************************/
   23       =3 #include "CfgGlobal.h"
   24       =3 
   25       =3 /*******************************************************************************
   26       =3 * 2.Global constant and macro definitions using #define
   27       =3 *******************************************************************************/
   28       =3 #define I2C_SLAVE_ADDR 0x70
   29       =3 
   30       =3 
   31       =3 #define DATABUFF     I2CBUF
   32       =3 #define RIFLAG       I2CRI
   33       =3 #define TIFLAG       I2CTI
   34       =3 
   35       =3 
   36       =3 #define DrvSysPowerIdle()               DrvSysPowerMode(0)          //enter the idle mode 
   37       =3 #define DrvSysPowerStop()               DrvSysPowerMode(1)          //enter the stop mode 
   38       =3 #define DrvSysPowerStandby()            DrvSysPowerMode(2)          //enter the standby mode 
   39       =3 #define DrvSysPowerHibernate()          DrvSysPowerMode(1)          //enter the hibernate mode 
   40       =3 
   41       =3 /*******************************************************************************
   42       =3 * 3.Global structures, unions and enumerations using typedef
   43       =3 *******************************************************************************/
   44       =3 
   45       =3 /*******************************************************************************
   46       =3 * 4.Global variable extern declarations
   47       =3 *******************************************************************************/
   48       =3 extern UINT8 XRAM g_ucbuf[16];
   49       =3 
   50       =3 /*******************************************************************************
   51       =3 * 5.Global function prototypes
   52       =3 *******************************************************************************/
   53       =3 
   54       =3 void DrvSysPowerMode(UINT8 pmode);
   55       =3 void DrvSysClkInit(UINT8 ucDiv);
   56       =3 void DrvIOInit(void);
   57       =3 void DelayUs(UINT8 ucDlyCnt);
   58       =3 void DelayMs(UINT16 ucDlyCnt);
   59       =3 #endif
   60       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Drv_XSI.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-05-14
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 44  

   13       =3 *
   14       =3 *   Version:
   15       =3 *******************************************************************************/
   16       =3 #ifndef __DRV_XSI_H__
   17       =3 #define __DRV_XSI_H__
   18       =3 
   19       =3 /*******************************************************************************
   20       =3 * 1.Included files
   21       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   22       =3 /*******************************************************************************
   22       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =3 *
   22       =3 * File Name: Drv_XSI.h
   22       =3 *
   22       =3 *    Author: xinkunpeng
   22       =3 *
   22       =3 *   Created: 2014-05-14
   22       =3 *
   22       =3 *  Abstract:
   22       =3 *
   22       =3 * Reference:
   22       =3 *
   22       =3 *   Version:
   22       =3 *******************************************************************************/
   22       =3 #ifndef __DRV_XSI_H__
   22       =3 #define __DRV_XSI_H__
   22       =3 
   22       =3 /*******************************************************************************
   22       =3 * 1.Included files
   22       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   23       =3 #include "FT8836_Reg.h"
    1       =4 /*******************************************************************************
    2       =4 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =4 *
    4       =4 * File Name: FT8836_Reg.h
    5       =4 *
    6       =4 *    Author: 
    7       =4 *
    8       =4 *   Created: 2016-07-11
    9       =4 *
   10       =4 *  Abstract: Define FT8836 Sram registers and their bits
   11       =4 *
   12       =4 * Reference:
   13       =4 *
   14       =4 *******************************************************************************/
   15       =4 
   16       =4 #ifndef _FT8836_REG_H_
            =4 #define _FT8836_REG_H_
            =4 
            =4 /* Conditional Compiler Options */
            =4 
            =4 /*******************************************************************************
            =4 * Included files
            =4 *******************************************************************************/
            =4 #include "FT8836.h"
            =4 
            =4 /*******************************************************************************
            =4 * Global constant and macro definitions using #define
            =4 *******************************************************************************/
            =4 #define ARAM_DATA_BASE_ADDR              0xA000
            =4 #define SPI1_REG_BASE_ADDR               0xB220
            =4 /* SPI0 reg Start Addr */
            =4 #define SPI0_REG_BASE_ADDR               0xB200
            =4 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 45  

            =4 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
            =4 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
            =4 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
            =4 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
            =4 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
            =4 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
            =4 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
            =4 /* XSI reg øÿ÷∆«¯ */
            =4 
            =4 /* XSI0 reg start addr */
            =4 #define XSI0_REG_BASE_ADDR     0xB400
            =4 
            =4 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
            =4 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
            =4 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
            =4 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
            =4 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
            =4 
            =4 /* XSI1 reg start addr */
            =4 #define XSI1_REG_BASE_ADDR     0xB800
            =4 
            =4 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
            =4 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
            =4 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
            =4 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
            =4 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
            =4 
            =4 /* XBUS reg start addr */
            =4 #define XBUS_REG_BASE_ADDR     0xBC00
            =4 
            =4 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
            =4 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
            =4 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
            =4 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
            =4 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
            =4 
            =4 /* reload dma base addr */
            =4 //#define RELOAD_DMA_START_ADDR  0x9D00
            =4 /******************************************************************************/
            =4 /******************************************************************************/
            =4 /* CAL reg Start Addr */
            =4 #define CAL_REG_BASE_ADDR       0xB000
            =4 
            =4 /* ASM reg Start Addr */
            =4 #define ASM_REG_BASE_ADDR       0xB100
            =4 
            =4 
            =4 /*******************************************************************************
            =4 * Global structures, unions and enumerations using typedef
            =4 *******************************************************************************/
            =4 /*************************************************************/
            =4 /* XSI reg */
            =4 typedef struct
            =4 {
            =4     UINT16 Wdata;        // (0x00<<1)
            =4     UINT16 Rdata;        // (0x01<<1)
            =4     UINT16 Clksel;       // (0x02<<1)
            =4     UINT16 Stop;         // (0x03<<1)
            =4     UINT16 Tx_int;       // (0x04<<1)
            =4 } ST_XSIRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_XSIRegisters reg;
            =4     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
            =4 } Union_XSIReg;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 46  

            =4 
            =4 /*************************************************************/
            =4 // cal
            =4 typedef struct
            =4 {
            =4     UINT16 rCmd;           // (0x00<<1)
            =4     UINT16 rDmaLen;        // (0x01<<1)
            =4     UINT16 rS1Addr;        // (0x02<<1)
            =4     UINT16 rS2Addr;        // (0x03<<1)
            =4     UINT16 rOutAddr;       // (0x04<<1)
            =4     UINT16 rPar;           // (0x05<<1)
            =4     UINT16 rSize;          // (0x06<<1)
            =4     UINT16 rPThd;          // (0x07<<1)
            =4     UINT16 rNThd;          // (0x08<<1)
            =4     UINT16 rAThd;          // (0x09<<1)
            =4     UINT16 rDmask;         // (0x0A<<1)
            =4     UINT16 rPaCnt;         // (0x0B<<1)
            =4     UINT16 rNaCnt;         // (0x0C<<1)
            =4     UINT16 rPsCnt;         // (0x0D<<1)
            =4     UINT16 rNsCnt;         // (0x0E<<1)
            =4     UINT16 rMaxV;          // (0x0F<<1)
            =4     UINT16 rMaxPos;        // (0x10<<1)
            =4     UINT16 rMinV;          // (0x11<<1)
            =4     UINT16 rMinPos;        // (0x12<<1)
            =4     UINT16 rID0;           // (0x13<<1)
            =4     UINT16 rID1;           // (0x14<<1)
            =4     UINT16 rID2;           // (0x15<<1)
            =4     UINT16 rCrc;           // (0x16<<1)
            =4     UINT16 rChk;           // (0x17<<1)
            =4     UINT16 rNaThd;         // (0x18<<1)
            =4     UINT16 rTxRxNum;       // (0x19<<1)
            =4     UINT16 rDivShift;      // (0x1a<<1)
            =4     UINT16 rSubabsMax;     // (0x1b<<1)
            =4     UINT16 rInt;           // (0x1c<<1)
            =4     UINT16 rCntNum;        // (0x1d<<1)
            =4     UINT16 rDmaskA;        // (0x1e<<1)
            =4     UINT16 rTxRxNumAm;     // (0x1f<<1)
            =4     UINT16 rTxRxNumAs;     // (0x20<<1)
            =4     UINT16 rSizeAm;        // (0x21<<1)
            =4     UINT16 rSizeAs;        // (0x22<<1)
            =4     UINT16 rS1AddrA;       // (0x23<<1)
            =4     UINT16 rS2AddrA;       // (0x24<<1)
            =4     UINT16 rOutAddrA;      // (0x25<<1)
            =4     UINT16 rSel;           // (0x26<<1)
            =4 } ST_CalRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_CalRegisters reg;
            =4     UINT16 offset[sizeof(ST_CalRegisters)>>1];
            =4 } Union_CalReg;
            =4 
            =4 /*************************************************************/
            =4 /*XBUS reg*/
            =4 typedef struct
            =4 {  
            =4     UINT16 rdata_lo_byte;
            =4     UINT16 rdata_ho_byte;
            =4     UINT16 lcd_regfile_ctrl;
            =4     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
            =4     UINT16 xbus_rld_data;//reload_data
            =4 }ST_LcdWrapRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_LcdWrapRegisters reg;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 47  

            =4     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
            =4 }Union_LcdReg;
            =4 
            =4 /*************************************************************/
            =4 /*SPI0_DMA reg*/
            =4 typedef struct
            =4 {
            =4     UINT16 dma_ctrl;
            =4     UINT16 timeout_ctrl;
            =4     UINT16 addr_h;
            =4     UINT16 start_addr_l;
            =4     UINT16 end_addr_l;
            =4     UINT16 dma_crc;
            =4     UINT16 dma_srcr;
            =4     
            =4 }ST_Spi0DmaRegisters;
            =4 
            =4 /*SPI1_DMA reg*/
            =4 typedef struct
            =4 {
            =4     UINT16 dma_ctrl;
            =4     UINT16 timeout_ctrl;
            =4     UINT16 addr_h;
            =4     UINT16 start_addr_l;
            =4     UINT16 end_addr_l;
            =4     UINT16 dma_crc;
            =4     UINT16 dma_srcr;
            =4     
            =4 }ST_Spi1DmaRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_Spi0DmaRegisters reg;
            =4     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
            =4 }Union_Spi0Reg;
            =4 
            =4 /*************************************************************/
            =4 /* ASM reg */
            =4 typedef struct
            =4 {
            =4     UINT16 usAsmIntFlag0;         // 00  RO
            =4     UINT16 usAsmIntFlag1;         // 01  RO
            =4     UINT16 usAsmIntClr0;          // 02  WO
            =4     UINT16 usAsmIntClr1;          // 03  WO
            =4     UINT16 usAsmIntEn0;           // 04
            =4     UINT16 usAsmIntEn1;           // 05
            =4     UINT16 usAsmIntWakeEn0;       // 06
            =4     UINT16 usAsmIntWakeEn1;       // 07
            =4     UINT16 usAsmIntSta;           // 08  RO
            =4     UINT16 usAsmScanSta0;         // 09  RO
            =4     UINT16 usAsmScanSta1;         // 10  RO
            =4     UINT16 usAsmScanSta2;         // 11  RO
            =4     UINT16 usAsmScanSta3;         // 12  RO
            =4     UINT16 usAsmScanCtrl;         // 13  WO
            =4     UINT16 usAsmScanCfg0;         // 14
            =4     UINT16 usAsmScanCfg1;         // 15
            =4     UINT16 usAsmTpFrameCfg0;      // 16
            =4     UINT16 usAsmTpFrameCfg1;      // 17
            =4     UINT16 usAsmTpFrameCfg2;      // 18
            =4     UINT16 usAsmTpFrameCfg3;      // 19
            =4     UINT16 usAsmScanDly;          // 20
            =4     UINT16 usAsmStbMaseL;         // 21
            =4     UINT16 usAsmStbMaseH;         // 22  
            =4     UINT16 usAsmAramBaseL;        // 23
            =4     UINT16 usAsmAramBaseR;        // 24
            =4     UINT16 usAsmAramBaseKey;      // 25    
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 48  

            =4     UINT16 usAsmAramCBL;          // 26
            =4     UINT16 usAsmAramCBR;          // 27
            =4     UINT16 usAsmAramCBKey;        // 28
            =4     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
            =4     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
            =4     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
            =4     UINT16 usAsmHwMonCrtl0;       // 32
            =4     UINT16 usAsmHwMonCtrl1;       // 33
            =4     UINT16 usAsmHwMonCfg0;        // 34
            =4     UINT16 usAsmHwMonCfg1;        // 35
            =4     UINT16 usAsmHwMonCfg2;        // 36
            =4     UINT16 usAsmHwMonCfg3;        // 37
            =4     UINT16 usAsmHwMonCfg4;        // 38
            =4     UINT16 usAsmHwMonTimer;       // 39
            =4     UINT16 usAsmVreshCfgLcdon;    // 40
            =4 } ST_AsmRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_AsmRegisters reg;
            =4     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
            =4 } Union_AsmReg;
            =4 
            =4 
            =4 /*******************************************************************************/
            =4 /* AFE reg */
            =4 #if 0
            =4 typedef struct
            =4 {
            =4     UINT16 usAfeAsmCfg;              // 0x00
            =4     UINT16 usAfePanelCfg0;           // 0x01
            =4     UINT16 usAfePanelCfg1;           // 0x02
            =4     UINT16 usAfePanelCfg2;           // 0x03
            =4     UINT16 usAfeSysCfg0;             // 0x04
            =4     UINT16 usAfeSysCfg1;             // 0x05
            =4     UINT16 usAfeScanCfg0;            // 0x06
            =4     UINT16 usAfeScanCfg1;            // 0x07
            =4     UINT16 usAfeDummyScanCfg;        // 0x08
            =4     UINT16 usAfeBaseTrackCfg;        // 0x09
            =4     UINT16 usAfeAcc_Offset;          // 0x0A
            =4     UINT16 usAfeTpMonTh;             // 0x0B
            =4     UINT16 usAfeKeyMonTh;            // 0x0C
            =4     UINT16 usAfeAnaGenCfg0;          // 0x0D
            =4     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =4     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =4     UINT16 usAfeAnaCaCfg1;           // 0x10
            =4     UINT16 usAfeAnaCaCfg2;           // 0x11
            =4     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =4     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =4     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =4     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =4     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =4     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =4     UINT16 usAfeP1P2DlyCfg0;         // 0x18
            =4     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =4     UINT16 usAfeAnaShcfg0;           // 0x1A
            =4     UINT16 usAfeAnaShcfg1;           // 0x1B
            =4     UINT16 usAfeAnaShcfg2;           // 0x1C
            =4     UINT16 usAfeAnaShcfg3;           // 0x1D
            =4     UINT16 usAfeAnaShcfg4;           // 0x1E
            =4     UINT16 usAfeAnaShcfg5;           // 0x1F
            =4     UINT16 usAfeAnaShcfg6;           // 0x20
            =4     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =4     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =4     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =4     UINT16 usAfeAnaAdcCfg3;          // 0x24
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 49  

            =4     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =4     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =4     UINT16 usAfeSdVcomCfg;           // 0x27
            =4     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =4     UINT16 usAllGateOnLCfg;          // 0x29
            =4     UINT16 usAllGateOffLCfg;         // 0x2A
            =4     UINT16 usAllGateStopLCfg;        // 0x2B
            =4     UINT16 usAllGateHCfg;            // 0x2C
            =4     UINT16 usRptRawdataNum;          // 0x2D
            =4     UINT16 usCbAdjustTh;             // 0x2E
            =4     UINT16 usTestModeCfg;            // 0x2F
            =4     UINT16 usPrescanTime;            // 0x30
            =4     UINT16 usDischargeTime;          // 0x31
            =4     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =4     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =4     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =4     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =4     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =4     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =4     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =4     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =4     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =4     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =4     UINT16 usReserveZone1;           // 0x3C
            =4     UINT16 usReserveZone2;           // 0x3D
            =4     UINT16 usReserveZone3;           // 0x3E
            =4     UINT16 usReserveZone4;           // 0x3F    
            =4     UINT16 usMcapScanCfg;            // 0x40
            =4     UINT16 usMcapScanSr;             // 0x41
            =4     UINT16 usMcapKeyInterVal6;       // 0x42
            =4     UINT16 usMcapDummyScanNum;       // 0x43
            =4     UINT16 usMcapRawShiftCof;        // 0x44
            =4     UINT16 usMcapRawOffSetL;         // 0x45
            =4     UINT16 usMcapAdcCfg;             // 0x46
            =4     UINT16 usMcapAdcDat0;            // 0x47
            =4     UINT16 usMcapInitSamplCfg;       // 0x48
            =4     UINT16 usMcapOverFlowThr;        // 0x49
            =4     UINT16 usMcapUnderFlowThr;       // 0x4A
            =4     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =4     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =4     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =4     UINT16 usMcapNormalSignalDwThr;  // 0x4E
            =4     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
            =4     UINT16 usMcapLpfirCfg;           // 0x50
            =4     UINT16 usMcapLpFirCfg0;          // 0x51
            =4     UINT16 usMcapLpFirCfg1;          // 0x52
            =4     UINT16 usMcapLpFirCfg2;          // 0x53
            =4     UINT16 usMcapLpFirCfg3;          // 0x54
            =4     UINT16 usMcapLpFirCfg4;          // 0x55  
            =4     UINT16 usMcapLpFirCfg5;          // 0x56
            =4     UINT16 usMcapLpFirCfg6;          // 0x57
            =4     UINT16 usMcapLpFirCfg7;          // 0x58
            =4    
            =4 } ST_AfeRegList;
            =4 #endif
            =4 
            =4 typedef enum
            =4 {
            =4     Addr_PANEL_MODE_CFG0 =1, 
            =4     Addr_PANEL_MODE_CFG1 =2,
            =4     Addr_PANEL_MODE_CFG2 =3, 
            =4     Addr_AFE_SYS_CFG0 =4, 
            =4     Addr_AFE_SYS_CFG1 =5, 
            =4     Addr_AFE_SCAN_CFG0 =6, 
            =4     Addr_AFE_SCAN_CFG1 =7, 
            =4     Addr_AFE_DUMMY_SCAN_CFG =8, 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 50  

            =4     Addr_AFE_BASE_TRACK_CFG =9, 
            =4     Addr_ACC_OFFSET =10, 
            =4     Addr_TP_MONITOR_THRESHOLD =11,
            =4     Addr_KEY_MONITOR_THRESHOLD =12, 
            =4     Addr_AFE_ANA_K1_CFG0 =13,
            =4     Addr_AFE_ANA_K2_CFG1 =14,
            =4     Addr_AFE_ANA_CA_CFG0 =15, 
            =4     Addr_AFE_ANA_CA_CFG1 =16, 
            =4     Addr_AFE_ANA_CA_CFG2 =17,
            =4     Addr_AFE_ANA_P1_P2_CFG0 =18, 
            =4     Addr_AFE_ANA_P1_P2_CFG1 =19,
            =4     Addr_AFE_ANA_P1_P2_CFG2 =20, 
            =4     Addr_AFE_ANA_P1_P2_CFG3 =21,
            =4     Addr_AFE_ANA_P1_P2_CFG4 =22, 
            =4     Addr_AFE_ANA_P1_P2_CFG5 =23, 
            =4     Addr_AFE_P1_P2_DLY_CFG0 =24, 
            =4     Addr_AFE_P1_P2_DLY_CFG1 =25, 
            =4     Addr_AFE_ANA_SH_CFG0 =26,
            =4     Addr_AFE_ANA_SH_CFG1 =27, 
            =4     Addr_AFE_ANA_SH_CFG2 =28, 
            =4     Addr_AFE_ANA_SH_CFG3 =29, 
            =4     Addr_AFE_ANA_SH_CFG4 =30, 
            =4     Addr_AFE_ANA_SH_CFG5 =31,
            =4     Addr_AFE_ANA_SH_CFG6 =32, 
            =4     Addr_AFE_ANA_ADC_CFG0 =33, 
            =4     Addr_AFE_ANA_ADC_CFG1 =34, 
            =4     Addr_AFE_ANA_ADC_CFG2 =35, 
            =4     Addr_AFE_ANA_ADC_CFG3 =36, 
            =4     Addr_AFE_GIPH_P1_P2_CFG =37, 
            =4     Addr_AFE_GIPL_P1_P2_CFG =38, 
            =4     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
            =4     Addr_AFE_SX_P1_P2_CFG =40, 
            =4     Addr_AFE_MOUT_GIPH_CFG = 41,
            =4     Addr_AFE_MOUT_GIPL_CFG = 42,
            =4     Addr_AFE_GOUT_GIPH_CFG = 43,
            =4     Addr_AFE_GOUT_GIPL_CFG = 44,
            =4    
            =4     Addr_ALL_GATE_ON_L_CFG =45, 
            =4     Addr_ALL_GATE_OFF_L_CFG =46,
            =4     Addr_ALL_GATE_STOP_L_CFG =47, 
            =4     Addr_ALL_GATE_H_CFG =48,                              
            =4     Addr_RPT_RAWDATA_NUM =49,                             
            =4     Addr_CB_ADJUST_THLD =50,                                
            =4     Addr_TEST_MODE_FLAG =51,                              
            =4     Addr_PRESCAN_TIME =52,                                 
            =4     Addr_DISCHARGE_TIME =53,                               
            =4     Addr_ANA_STATIC_CFG0 =54,                              
            =4     Addr_ANA_STATIC_CFG1 =55,                               
            =4     Addr_ANA_STATIC_CFG2 =56,                              
            =4     Addr_ANA_STATIC_CFG3 =57,                            
            =4     Addr_TEST_P0_CFG0 =58,                               
            =4     Addr_TEST_P0_CFG1 =59,                               
            =4     Addr_TEST_P0_CFG2 =60,                                 
            =4     Addr_TEST_P1_CFG0 =61,                               
            =4     Addr_TEST_P1_CFG1 =62,                                
            =4     Addr_TEST_P1_CFG2 =63,                                 
            =4                                                                                                          
             -                                                          
            =4     Addr_MCAP_SCAN_CFG =64,                                
            =4     Addr_MCAP_SCANSR =65,                                  
            =4     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
            =4     Addr_RAWSHIFTCAF =67,                                
            =4     Addr_RAWDATA_OFFSET_L =68,                           
            =4     Addr_ADC_CFG =69,                                      
            =4     Addr_ADC_DATA0 =70,                                   
            =4     Addr_MCAP_INIT_SAMPL_CFG =71,                         
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 51  

            =4     Addr_OVERFLOW_THR =72,                                 
            =4     Addr_UNDERFLOW_THR =73,                                
            =4     Addr_OVERFLOW_UPBOUND =74,                            
            =4     Addr_OVER_POINT_FRAME =75,                             
            =4     Addr_NORMAL_SIGNAL_UPTHR =76,                          
            =4     Addr_NORMAL_SIGNAL_DWTHR =77,                        
            =4     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
            =4     Addr_MCAP_LPFIR_CFG =79,                               
            =4     Addr_MCAP_LPFIR_COF0 =80,                              
            =4     Addr_MCAP_LPFIR_COF1 =81,                              
            =4     Addr_MCAP_LPFIR_COF2 =82,                             
            =4     Addr_MCAP_LPFIR_COF3 =83,                              
            =4     Addr_MCAP_LPFIR_COF4 =84,                              
            =4     Addr_MCAP_LPFIR_COF5 =85,                            
            =4     Addr_MCAP_LPFIR_COF6 =86,                             
            =4     Addr_MCAP_LPFIR_COF7 =87,   
            =4 }ENUM_AFE_ADDR;
            =4 
            =4 
            =4 /*******************************************************************************/
            =4 /* Afe table reg */
            =4 
            =4 /*******************************************************************************/
            =4 
            =4 
            =4 /*******************************************************************************
            =4 * Global variable extern declarations
            =4 *******************************************************************************/
            =4 
            =4 /*******************************************************************************
            =4 * Global function prototypes
            =4 *******************************************************************************/
            =4 
            =4 #endif //_FT8836_REG_H_
   24       =3 
   25       =3 /*******************************************************************************
   26       =3 * 2.Global constant and macro definitions using #define
   27       =3 *******************************************************************************/
   28       =3 #define AFE_REG          0
   29       =3 #define XSI_S_REG        1
   30       =3 #define XSI_WDATA_DUMMY  0
   31       =3 
   32       =3 /* Bit defined of Afe_en reg */
   33       =3 #define XSI_WDATA_ADDR    0
   34       =3 #define XSI_WDATA_SEL    11
   35       =3 #define XSI_WDATA_WR     15
   36       =3 
   37       =3 #define LCD_PAGE_SEL     8
   38       =3 #define XSI_LCD_ECC      0
   39       =3 #define XSI_LCD_PAGE0    1
   40       =3 #define XSI_LCD_PAGE1    2
   41       =3 /*******************************************************************************
   42       =3 * 3.Global structures, unions and enumerations using typedef
   43       =3 *******************************************************************************/
   44       =3 
   45       =3 /*******************************************************************************
   46       =3 * 4.Global variable extern declarations
   47       =3 *******************************************************************************/
   48       =3 extern ST_XSIRegisters * XRAM pXSI0Regs;
   49       =3 extern ST_XSIRegisters * XRAM pXSI1Regs;
   50       =3 
   51       =3 /*******************************************************************************
   52       =3 * 5.Global function prototypes
   53       =3 *******************************************************************************/
   54       =3 void Drv_XsiInit();
   55       =3 UINT16 Drv_XsiReadReg(ST_XSIRegisters *pXSIRegs, UINT16 addr, UINT8 flag);
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 52  

   56       =3 void Drv_XsiWriteReg(ST_XSIRegisters *pXSIRegs, UINT16 usAddr, UINT16 usData,UINT8 flag);
   57       =3 void Drv_XsiRead(ST_XSIRegisters *pXSIRegs, UINT16 usAddr, UINT16 *pBuf, UINT16 len, UINT8 flag);
   58       =3 void Drv_XsiWrite(ST_XSIRegisters *pXSIRegs, UINT16 usAddr, UINT16 *pBuf, UINT16 len, UINT8 flag);
   59       =3 
   60       =3 #if _TEST_XSI_EN
            =3 void Test_Xsi();
            =3 #else
   63       =3 #define  Test_Xsi   /##/
   64       =3 #endif
   65       =3 
   66       =3 #endif
   67       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Drv_Xbus.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2016-06-14
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *   Version:
   15       =3 *******************************************************************************/
   16       =3 #ifndef __DRV_XBUS_H__
   17       =3 #define __DRV_XBUS_H__
   18       =3 
   19       =3 /*******************************************************************************
   20       =3 * 1.Included files
   21       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   22       =3 /*******************************************************************************
   22       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =3 *
   22       =3 * File Name: Drv_Xbus.h
   22       =3 *
   22       =3 *    Author: xinkunpeng
   22       =3 *
   22       =3 *   Created: 2016-06-14
   22       =3 *
   22       =3 *  Abstract:
   22       =3 *
   22       =3 * Reference:
   22       =3 *
   22       =3 *   Version:
   22       =3 *******************************************************************************/
   22       =3 #ifndef __DRV_XBUS_H__
   22       =3 #define __DRV_XBUS_H__
   22       =3 
   22       =3 /*******************************************************************************
   22       =3 * 1.Included files
   22       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   23       =3 #include "FT8836_Reg.h"
    1       =4 /*******************************************************************************
    2       =4 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =4 *
    4       =4 * File Name: FT8836_Reg.h
    5       =4 *
    6       =4 *    Author: 
    7       =4 *
    8       =4 *   Created: 2016-07-11
    9       =4 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 53  

   10       =4 *  Abstract: Define FT8836 Sram registers and their bits
   11       =4 *
   12       =4 * Reference:
   13       =4 *
   14       =4 *******************************************************************************/
   15       =4 
   16       =4 #ifndef _FT8836_REG_H_
            =4 #define _FT8836_REG_H_
            =4 
            =4 /* Conditional Compiler Options */
            =4 
            =4 /*******************************************************************************
            =4 * Included files
            =4 *******************************************************************************/
            =4 #include "FT8836.h"
            =4 
            =4 /*******************************************************************************
            =4 * Global constant and macro definitions using #define
            =4 *******************************************************************************/
            =4 #define ARAM_DATA_BASE_ADDR              0xA000
            =4 #define SPI1_REG_BASE_ADDR               0xB220
            =4 /* SPI0 reg Start Addr */
            =4 #define SPI0_REG_BASE_ADDR               0xB200
            =4 
            =4 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
            =4 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
            =4 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
            =4 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
            =4 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
            =4 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
            =4 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
            =4 /* XSI reg øÿ÷∆«¯ */
            =4 
            =4 /* XSI0 reg start addr */
            =4 #define XSI0_REG_BASE_ADDR     0xB400
            =4 
            =4 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
            =4 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
            =4 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
            =4 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
            =4 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
            =4 
            =4 /* XSI1 reg start addr */
            =4 #define XSI1_REG_BASE_ADDR     0xB800
            =4 
            =4 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
            =4 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
            =4 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
            =4 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
            =4 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
            =4 
            =4 /* XBUS reg start addr */
            =4 #define XBUS_REG_BASE_ADDR     0xBC00
            =4 
            =4 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
            =4 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
            =4 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
            =4 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
            =4 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
            =4 
            =4 /* reload dma base addr */
            =4 //#define RELOAD_DMA_START_ADDR  0x9D00
            =4 /******************************************************************************/
            =4 /******************************************************************************/
            =4 /* CAL reg Start Addr */
            =4 #define CAL_REG_BASE_ADDR       0xB000
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 54  

            =4 
            =4 /* ASM reg Start Addr */
            =4 #define ASM_REG_BASE_ADDR       0xB100
            =4 
            =4 
            =4 /*******************************************************************************
            =4 * Global structures, unions and enumerations using typedef
            =4 *******************************************************************************/
            =4 /*************************************************************/
            =4 /* XSI reg */
            =4 typedef struct
            =4 {
            =4     UINT16 Wdata;        // (0x00<<1)
            =4     UINT16 Rdata;        // (0x01<<1)
            =4     UINT16 Clksel;       // (0x02<<1)
            =4     UINT16 Stop;         // (0x03<<1)
            =4     UINT16 Tx_int;       // (0x04<<1)
            =4 } ST_XSIRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_XSIRegisters reg;
            =4     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
            =4 } Union_XSIReg;
            =4 
            =4 /*************************************************************/
            =4 // cal
            =4 typedef struct
            =4 {
            =4     UINT16 rCmd;           // (0x00<<1)
            =4     UINT16 rDmaLen;        // (0x01<<1)
            =4     UINT16 rS1Addr;        // (0x02<<1)
            =4     UINT16 rS2Addr;        // (0x03<<1)
            =4     UINT16 rOutAddr;       // (0x04<<1)
            =4     UINT16 rPar;           // (0x05<<1)
            =4     UINT16 rSize;          // (0x06<<1)
            =4     UINT16 rPThd;          // (0x07<<1)
            =4     UINT16 rNThd;          // (0x08<<1)
            =4     UINT16 rAThd;          // (0x09<<1)
            =4     UINT16 rDmask;         // (0x0A<<1)
            =4     UINT16 rPaCnt;         // (0x0B<<1)
            =4     UINT16 rNaCnt;         // (0x0C<<1)
            =4     UINT16 rPsCnt;         // (0x0D<<1)
            =4     UINT16 rNsCnt;         // (0x0E<<1)
            =4     UINT16 rMaxV;          // (0x0F<<1)
            =4     UINT16 rMaxPos;        // (0x10<<1)
            =4     UINT16 rMinV;          // (0x11<<1)
            =4     UINT16 rMinPos;        // (0x12<<1)
            =4     UINT16 rID0;           // (0x13<<1)
            =4     UINT16 rID1;           // (0x14<<1)
            =4     UINT16 rID2;           // (0x15<<1)
            =4     UINT16 rCrc;           // (0x16<<1)
            =4     UINT16 rChk;           // (0x17<<1)
            =4     UINT16 rNaThd;         // (0x18<<1)
            =4     UINT16 rTxRxNum;       // (0x19<<1)
            =4     UINT16 rDivShift;      // (0x1a<<1)
            =4     UINT16 rSubabsMax;     // (0x1b<<1)
            =4     UINT16 rInt;           // (0x1c<<1)
            =4     UINT16 rCntNum;        // (0x1d<<1)
            =4     UINT16 rDmaskA;        // (0x1e<<1)
            =4     UINT16 rTxRxNumAm;     // (0x1f<<1)
            =4     UINT16 rTxRxNumAs;     // (0x20<<1)
            =4     UINT16 rSizeAm;        // (0x21<<1)
            =4     UINT16 rSizeAs;        // (0x22<<1)
            =4     UINT16 rS1AddrA;       // (0x23<<1)
            =4     UINT16 rS2AddrA;       // (0x24<<1)
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 55  

            =4     UINT16 rOutAddrA;      // (0x25<<1)
            =4     UINT16 rSel;           // (0x26<<1)
            =4 } ST_CalRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_CalRegisters reg;
            =4     UINT16 offset[sizeof(ST_CalRegisters)>>1];
            =4 } Union_CalReg;
            =4 
            =4 /*************************************************************/
            =4 /*XBUS reg*/
            =4 typedef struct
            =4 {  
            =4     UINT16 rdata_lo_byte;
            =4     UINT16 rdata_ho_byte;
            =4     UINT16 lcd_regfile_ctrl;
            =4     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
            =4     UINT16 xbus_rld_data;//reload_data
            =4 }ST_LcdWrapRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_LcdWrapRegisters reg;
            =4     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
            =4 }Union_LcdReg;
            =4 
            =4 /*************************************************************/
            =4 /*SPI0_DMA reg*/
            =4 typedef struct
            =4 {
            =4     UINT16 dma_ctrl;
            =4     UINT16 timeout_ctrl;
            =4     UINT16 addr_h;
            =4     UINT16 start_addr_l;
            =4     UINT16 end_addr_l;
            =4     UINT16 dma_crc;
            =4     UINT16 dma_srcr;
            =4     
            =4 }ST_Spi0DmaRegisters;
            =4 
            =4 /*SPI1_DMA reg*/
            =4 typedef struct
            =4 {
            =4     UINT16 dma_ctrl;
            =4     UINT16 timeout_ctrl;
            =4     UINT16 addr_h;
            =4     UINT16 start_addr_l;
            =4     UINT16 end_addr_l;
            =4     UINT16 dma_crc;
            =4     UINT16 dma_srcr;
            =4     
            =4 }ST_Spi1DmaRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_Spi0DmaRegisters reg;
            =4     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
            =4 }Union_Spi0Reg;
            =4 
            =4 /*************************************************************/
            =4 /* ASM reg */
            =4 typedef struct
            =4 {
            =4     UINT16 usAsmIntFlag0;         // 00  RO
            =4     UINT16 usAsmIntFlag1;         // 01  RO
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 56  

            =4     UINT16 usAsmIntClr0;          // 02  WO
            =4     UINT16 usAsmIntClr1;          // 03  WO
            =4     UINT16 usAsmIntEn0;           // 04
            =4     UINT16 usAsmIntEn1;           // 05
            =4     UINT16 usAsmIntWakeEn0;       // 06
            =4     UINT16 usAsmIntWakeEn1;       // 07
            =4     UINT16 usAsmIntSta;           // 08  RO
            =4     UINT16 usAsmScanSta0;         // 09  RO
            =4     UINT16 usAsmScanSta1;         // 10  RO
            =4     UINT16 usAsmScanSta2;         // 11  RO
            =4     UINT16 usAsmScanSta3;         // 12  RO
            =4     UINT16 usAsmScanCtrl;         // 13  WO
            =4     UINT16 usAsmScanCfg0;         // 14
            =4     UINT16 usAsmScanCfg1;         // 15
            =4     UINT16 usAsmTpFrameCfg0;      // 16
            =4     UINT16 usAsmTpFrameCfg1;      // 17
            =4     UINT16 usAsmTpFrameCfg2;      // 18
            =4     UINT16 usAsmTpFrameCfg3;      // 19
            =4     UINT16 usAsmScanDly;          // 20
            =4     UINT16 usAsmStbMaseL;         // 21
            =4     UINT16 usAsmStbMaseH;         // 22  
            =4     UINT16 usAsmAramBaseL;        // 23
            =4     UINT16 usAsmAramBaseR;        // 24
            =4     UINT16 usAsmAramBaseKey;      // 25    
            =4     UINT16 usAsmAramCBL;          // 26
            =4     UINT16 usAsmAramCBR;          // 27
            =4     UINT16 usAsmAramCBKey;        // 28
            =4     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
            =4     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
            =4     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
            =4     UINT16 usAsmHwMonCrtl0;       // 32
            =4     UINT16 usAsmHwMonCtrl1;       // 33
            =4     UINT16 usAsmHwMonCfg0;        // 34
            =4     UINT16 usAsmHwMonCfg1;        // 35
            =4     UINT16 usAsmHwMonCfg2;        // 36
            =4     UINT16 usAsmHwMonCfg3;        // 37
            =4     UINT16 usAsmHwMonCfg4;        // 38
            =4     UINT16 usAsmHwMonTimer;       // 39
            =4     UINT16 usAsmVreshCfgLcdon;    // 40
            =4 } ST_AsmRegisters;
            =4 
            =4 typedef union
            =4 {
            =4     ST_AsmRegisters reg;
            =4     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
            =4 } Union_AsmReg;
            =4 
            =4 
            =4 /*******************************************************************************/
            =4 /* AFE reg */
            =4 #if 0
            =4 typedef struct
            =4 {
            =4     UINT16 usAfeAsmCfg;              // 0x00
            =4     UINT16 usAfePanelCfg0;           // 0x01
            =4     UINT16 usAfePanelCfg1;           // 0x02
            =4     UINT16 usAfePanelCfg2;           // 0x03
            =4     UINT16 usAfeSysCfg0;             // 0x04
            =4     UINT16 usAfeSysCfg1;             // 0x05
            =4     UINT16 usAfeScanCfg0;            // 0x06
            =4     UINT16 usAfeScanCfg1;            // 0x07
            =4     UINT16 usAfeDummyScanCfg;        // 0x08
            =4     UINT16 usAfeBaseTrackCfg;        // 0x09
            =4     UINT16 usAfeAcc_Offset;          // 0x0A
            =4     UINT16 usAfeTpMonTh;             // 0x0B
            =4     UINT16 usAfeKeyMonTh;            // 0x0C
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 57  

            =4     UINT16 usAfeAnaGenCfg0;          // 0x0D
            =4     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =4     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =4     UINT16 usAfeAnaCaCfg1;           // 0x10
            =4     UINT16 usAfeAnaCaCfg2;           // 0x11
            =4     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =4     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =4     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =4     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =4     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =4     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =4     UINT16 usAfeP1P2DlyCfg0;         // 0x18
            =4     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =4     UINT16 usAfeAnaShcfg0;           // 0x1A
            =4     UINT16 usAfeAnaShcfg1;           // 0x1B
            =4     UINT16 usAfeAnaShcfg2;           // 0x1C
            =4     UINT16 usAfeAnaShcfg3;           // 0x1D
            =4     UINT16 usAfeAnaShcfg4;           // 0x1E
            =4     UINT16 usAfeAnaShcfg5;           // 0x1F
            =4     UINT16 usAfeAnaShcfg6;           // 0x20
            =4     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =4     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =4     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =4     UINT16 usAfeAnaAdcCfg3;          // 0x24
            =4     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =4     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =4     UINT16 usAfeSdVcomCfg;           // 0x27
            =4     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =4     UINT16 usAllGateOnLCfg;          // 0x29
            =4     UINT16 usAllGateOffLCfg;         // 0x2A
            =4     UINT16 usAllGateStopLCfg;        // 0x2B
            =4     UINT16 usAllGateHCfg;            // 0x2C
            =4     UINT16 usRptRawdataNum;          // 0x2D
            =4     UINT16 usCbAdjustTh;             // 0x2E
            =4     UINT16 usTestModeCfg;            // 0x2F
            =4     UINT16 usPrescanTime;            // 0x30
            =4     UINT16 usDischargeTime;          // 0x31
            =4     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =4     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =4     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =4     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =4     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =4     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =4     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =4     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =4     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =4     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =4     UINT16 usReserveZone1;           // 0x3C
            =4     UINT16 usReserveZone2;           // 0x3D
            =4     UINT16 usReserveZone3;           // 0x3E
            =4     UINT16 usReserveZone4;           // 0x3F    
            =4     UINT16 usMcapScanCfg;            // 0x40
            =4     UINT16 usMcapScanSr;             // 0x41
            =4     UINT16 usMcapKeyInterVal6;       // 0x42
            =4     UINT16 usMcapDummyScanNum;       // 0x43
            =4     UINT16 usMcapRawShiftCof;        // 0x44
            =4     UINT16 usMcapRawOffSetL;         // 0x45
            =4     UINT16 usMcapAdcCfg;             // 0x46
            =4     UINT16 usMcapAdcDat0;            // 0x47
            =4     UINT16 usMcapInitSamplCfg;       // 0x48
            =4     UINT16 usMcapOverFlowThr;        // 0x49
            =4     UINT16 usMcapUnderFlowThr;       // 0x4A
            =4     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =4     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =4     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =4     UINT16 usMcapNormalSignalDwThr;  // 0x4E
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 58  

            =4     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
            =4     UINT16 usMcapLpfirCfg;           // 0x50
            =4     UINT16 usMcapLpFirCfg0;          // 0x51
            =4     UINT16 usMcapLpFirCfg1;          // 0x52
            =4     UINT16 usMcapLpFirCfg2;          // 0x53
            =4     UINT16 usMcapLpFirCfg3;          // 0x54
            =4     UINT16 usMcapLpFirCfg4;          // 0x55  
            =4     UINT16 usMcapLpFirCfg5;          // 0x56
            =4     UINT16 usMcapLpFirCfg6;          // 0x57
            =4     UINT16 usMcapLpFirCfg7;          // 0x58
            =4    
            =4 } ST_AfeRegList;
            =4 #endif
            =4 
            =4 typedef enum
            =4 {
            =4     Addr_PANEL_MODE_CFG0 =1, 
            =4     Addr_PANEL_MODE_CFG1 =2,
            =4     Addr_PANEL_MODE_CFG2 =3, 
            =4     Addr_AFE_SYS_CFG0 =4, 
            =4     Addr_AFE_SYS_CFG1 =5, 
            =4     Addr_AFE_SCAN_CFG0 =6, 
            =4     Addr_AFE_SCAN_CFG1 =7, 
            =4     Addr_AFE_DUMMY_SCAN_CFG =8, 
            =4     Addr_AFE_BASE_TRACK_CFG =9, 
            =4     Addr_ACC_OFFSET =10, 
            =4     Addr_TP_MONITOR_THRESHOLD =11,
            =4     Addr_KEY_MONITOR_THRESHOLD =12, 
            =4     Addr_AFE_ANA_K1_CFG0 =13,
            =4     Addr_AFE_ANA_K2_CFG1 =14,
            =4     Addr_AFE_ANA_CA_CFG0 =15, 
            =4     Addr_AFE_ANA_CA_CFG1 =16, 
            =4     Addr_AFE_ANA_CA_CFG2 =17,
            =4     Addr_AFE_ANA_P1_P2_CFG0 =18, 
            =4     Addr_AFE_ANA_P1_P2_CFG1 =19,
            =4     Addr_AFE_ANA_P1_P2_CFG2 =20, 
            =4     Addr_AFE_ANA_P1_P2_CFG3 =21,
            =4     Addr_AFE_ANA_P1_P2_CFG4 =22, 
            =4     Addr_AFE_ANA_P1_P2_CFG5 =23, 
            =4     Addr_AFE_P1_P2_DLY_CFG0 =24, 
            =4     Addr_AFE_P1_P2_DLY_CFG1 =25, 
            =4     Addr_AFE_ANA_SH_CFG0 =26,
            =4     Addr_AFE_ANA_SH_CFG1 =27, 
            =4     Addr_AFE_ANA_SH_CFG2 =28, 
            =4     Addr_AFE_ANA_SH_CFG3 =29, 
            =4     Addr_AFE_ANA_SH_CFG4 =30, 
            =4     Addr_AFE_ANA_SH_CFG5 =31,
            =4     Addr_AFE_ANA_SH_CFG6 =32, 
            =4     Addr_AFE_ANA_ADC_CFG0 =33, 
            =4     Addr_AFE_ANA_ADC_CFG1 =34, 
            =4     Addr_AFE_ANA_ADC_CFG2 =35, 
            =4     Addr_AFE_ANA_ADC_CFG3 =36, 
            =4     Addr_AFE_GIPH_P1_P2_CFG =37, 
            =4     Addr_AFE_GIPL_P1_P2_CFG =38, 
            =4     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
            =4     Addr_AFE_SX_P1_P2_CFG =40, 
            =4     Addr_AFE_MOUT_GIPH_CFG = 41,
            =4     Addr_AFE_MOUT_GIPL_CFG = 42,
            =4     Addr_AFE_GOUT_GIPH_CFG = 43,
            =4     Addr_AFE_GOUT_GIPL_CFG = 44,
            =4    
            =4     Addr_ALL_GATE_ON_L_CFG =45, 
            =4     Addr_ALL_GATE_OFF_L_CFG =46,
            =4     Addr_ALL_GATE_STOP_L_CFG =47, 
            =4     Addr_ALL_GATE_H_CFG =48,                              
            =4     Addr_RPT_RAWDATA_NUM =49,                             
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 59  

            =4     Addr_CB_ADJUST_THLD =50,                                
            =4     Addr_TEST_MODE_FLAG =51,                              
            =4     Addr_PRESCAN_TIME =52,                                 
            =4     Addr_DISCHARGE_TIME =53,                               
            =4     Addr_ANA_STATIC_CFG0 =54,                              
            =4     Addr_ANA_STATIC_CFG1 =55,                               
            =4     Addr_ANA_STATIC_CFG2 =56,                              
            =4     Addr_ANA_STATIC_CFG3 =57,                            
            =4     Addr_TEST_P0_CFG0 =58,                               
            =4     Addr_TEST_P0_CFG1 =59,                               
            =4     Addr_TEST_P0_CFG2 =60,                                 
            =4     Addr_TEST_P1_CFG0 =61,                               
            =4     Addr_TEST_P1_CFG1 =62,                                
            =4     Addr_TEST_P1_CFG2 =63,                                 
            =4                                                                                                          
             -                                                          
            =4     Addr_MCAP_SCAN_CFG =64,                                
            =4     Addr_MCAP_SCANSR =65,                                  
            =4     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
            =4     Addr_RAWSHIFTCAF =67,                                
            =4     Addr_RAWDATA_OFFSET_L =68,                           
            =4     Addr_ADC_CFG =69,                                      
            =4     Addr_ADC_DATA0 =70,                                   
            =4     Addr_MCAP_INIT_SAMPL_CFG =71,                         
            =4     Addr_OVERFLOW_THR =72,                                 
            =4     Addr_UNDERFLOW_THR =73,                                
            =4     Addr_OVERFLOW_UPBOUND =74,                            
            =4     Addr_OVER_POINT_FRAME =75,                             
            =4     Addr_NORMAL_SIGNAL_UPTHR =76,                          
            =4     Addr_NORMAL_SIGNAL_DWTHR =77,                        
            =4     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
            =4     Addr_MCAP_LPFIR_CFG =79,                               
            =4     Addr_MCAP_LPFIR_COF0 =80,                              
            =4     Addr_MCAP_LPFIR_COF1 =81,                              
            =4     Addr_MCAP_LPFIR_COF2 =82,                             
            =4     Addr_MCAP_LPFIR_COF3 =83,                              
            =4     Addr_MCAP_LPFIR_COF4 =84,                              
            =4     Addr_MCAP_LPFIR_COF5 =85,                            
            =4     Addr_MCAP_LPFIR_COF6 =86,                             
            =4     Addr_MCAP_LPFIR_COF7 =87,   
            =4 }ENUM_AFE_ADDR;
            =4 
            =4 
            =4 /*******************************************************************************/
            =4 /* Afe table reg */
            =4 
            =4 /*******************************************************************************/
            =4 
            =4 
            =4 /*******************************************************************************
            =4 * Global variable extern declarations
            =4 *******************************************************************************/
            =4 
            =4 /*******************************************************************************
            =4 * Global function prototypes
            =4 *******************************************************************************/
            =4 
            =4 #endif //_FT8836_REG_H_
   24       =3 
   25       =3 /*******************************************************************************
   26       =3 * 2.Global constant and macro definitions using #define
   27       =3 *******************************************************************************/
   28       =3 
   29       =3 /*******************************************************************************
   30       =3 * 3.Global structures, unions and enumerations using typedef
   31       =3 *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 60  

   32       =3 
   33       =3 /*******************************************************************************
   34       =3 * 4.Global variable extern declarations
   35       =3 *******************************************************************************/
   36       =3 //extern ST_RlDmaRegisters * XRAM pRlDmaRegs;
   37       =3 extern ST_LcdWrapRegisters *XRAM pLcdWrapRegs;
   38       =3 
   39       =3 /*******************************************************************************
   40       =3 * 5.Global function prototypes
   41       =3 *******************************************************************************/
   42       =3 void Drv_XbusInit();
   43       =3 UINT16 DrvXbus_ReadLcd16(UINT16 usaddr);
   44       =3 void DrvXbus_WriteLcd8(UINT16 usaddr,UINT8 usdata);
   45       =3 
   46       =3 #if _TEST_XBUS_EN
            =3 void Test_Xbus(void);
            =3 #else
   49       =3 //#define Test_Xbus  /##/
   50       =3 #endif
   51       =3 
   52       =3 #endif
   53       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: uart.h
    5       =3 *
    6       =3 *    Author: linjianjun
    7       =3 *
    8       =3 *   Created: 2013-06-05
    9       =3 *
   10       =3 *  Abstract: DBG_ ‰≥ˆ≤ªƒ‹ªª––≤Ÿ◊˜
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef  __UART1_H__
   16       =3 #define  __UART1_H__
   17       =3 
   18       =3 /* Conditional Compiler Options */
   19       =3 #define _BLK_DBG_EN      1
   20       =3 
   21       =3 #if _BLK_DBG_EN
   22       =3 /*******************************************************************************
   23       =3 * Included files
   24       =3 *******************************************************************************/
   25       =3 #include <STDIO.H>
    1       =4 /*--------------------------------------------------------------------------
    2       =4 STDIO.H
    3       =4 
    4       =4 Prototypes for standard I/O functions for C251 Version 3.
    5       =4 Copyright (c) 1995-2001 Keil Elektronik GmbH and Keil Software, Inc.
    6       =4 All rights reserved.
    7       =4 --------------------------------------------------------------------------*/
    8       =4 
    9       =4 #pragma SAVE
   10       =4 #pragma PARM251
   11       =4 
   12       =4 #ifndef EOF
   13       =4  #define EOF -1
   14       =4 #endif
   15       =4 
   16       =4 #ifndef NULL
   17       =4  #define NULL ((void *) 0)
   18       =4 #endif
   19       =4 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 61  

   20       =4 #ifndef _SIZE_T
   21       =4  #define _SIZE_T
   22       =4  typedef unsigned int size_t;
   23       =4 #endif
   24       =4 
   25       =4 #if (__C251__ >= 200) 
   26       =4 #pragma SAVE
   27       =4 #pragma FUNCTIONS(STATIC)
   28       =4 /* only static functions available */
   29       =4 extern char _getkey  (void);
   30       =4 extern char getchar  (void);
   31       =4 extern char ungetchar(char);
   32       =4 extern char putchar  (char);
   33       =4 extern int  printf   (const char *, ...); 
   34       =4 extern char *gets    (char *, int n);
   35       =4 extern int  scanf    (const char *, ...);
   36       =4 extern int  vprintf  (const char *, char *);
   37       =4 extern int  puts     (const char *);
   38       =4 #pragma RESTORE
   39       =4 /* available as reentrant & non-reentrant version */
   40       =4 extern int  sprintf  (char *, const char *, ...);
   41       =4 extern int  vsprintf (char *, const char *, char *);
   42       =4 extern int  sscanf   (char *, const char *, ...);
   43       =4 #else
            =4 extern char _getkey (void);
            =4 extern char getchar (void);
            =4 extern char ungetchar (char);
            =4 extern char putchar (char);
            =4 extern int printf   (const char *, ...);
            =4 extern int sprintf  (char *, const char *, ...);
            =4 extern int vprintf  (const char *, char *);
            =4 extern int vsprintf (char *, const char *, char *);
            =4 extern char *gets (char *, int n);
            =4 extern int scanf (const char *, ...);
            =4 extern int sscanf (char *, const char *, ...);
            =4 extern int puts (const char *);
            =4 #endif
   57       =4 
   58       =4 #pragma RESTORE
   26       =3 #include <REG251S.H>
    1       =4 /*--------------------------------------------------------------------------
    2       =4 REG251S.H
    3       =4 
    4       =4 Header file for 8xC251SA/SB/SQ/SP
    5       =4 Copyright (c) 1988-2002 Keil Elektronik GmbH and Keil Software, Inc.
    6       =4 All rights reserved.
    7       =4 --------------------------------------------------------------------------*/
    8       =4 
    9       =4 #ifndef __REG251S_H__
   10       =4 #define __REG251S_H__
   11       =4 
   12       =4 /*  BYTE Registers  */
   13       =4 sfr P0   = 0x80;
   14       =4 sfr P1   = 0x90;
   15       =4 sfr P2   = 0xA0;
   16       =4 sfr P3   = 0xB0;
   17       =4 sfr PSW  = 0xD0;
   18       =4 sfr PSW1 = 0xD1;
   19       =4 sfr ACC  = 0xE0;
   20       =4 sfr B    = 0xF0;
   21       =4 sfr SP   = 0x81;
   22       =4 sfr SPH  = 0xBE;
   23       =4 sfr DPL  = 0x82;
   24       =4 sfr DPH  = 0x83;
   25       =4 sfr DPXL = 0x84;
   26       =4 sfr PCON = 0x87;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 62  

   27       =4 sfr TCON = 0x88;
   28       =4 sfr TMOD = 0x89;
   29       =4 sfr TL0  = 0x8A;
   30       =4 sfr TL1  = 0x8B;
   31       =4 sfr TH0  = 0x8C;
   32       =4 sfr TH1  = 0x8D;
   33       =4 sfr IE0  = 0xA8;
   34       =4 sfr IPL0 = 0xB8;
   35       =4 sfr IPH0 = 0xB7;
   36       =4 sfr SCON = 0x98;
   37       =4 sfr SBUF = 0x99;
   38       =4 sfr SADDR  = 0xA9;
   39       =4 sfr SADEN  = 0xB9;
   40       =4 sfr T2CON  = 0xC8;
   41       =4 sfr T2MOD  = 0xC9;
   42       =4 sfr RCAP2L = 0xCA;
   43       =4 sfr RCAP2H = 0xCB;
   44       =4 sfr TL2    = 0xCC;
   45       =4 sfr TH2    = 0xCD;
   46       =4 sfr CCON   = 0xD8;
   47       =4 sfr CMOD   = 0xD9;
   48       =4 sfr CCAPM0 = 0xDA;
   49       =4 sfr CCAPM1 = 0xDB;
   50       =4 sfr CCAPM2 = 0xDC;
   51       =4 sfr CCAPM3 = 0xDD;
   52       =4 sfr CCAPM4 = 0xDE;
   53       =4 sfr CL     = 0xE9;
   54       =4 sfr CCAP0L = 0xEA;
   55       =4 sfr CCAP1L = 0xEB;
   56       =4 sfr CCAP2L = 0xEC;
   57       =4 sfr CCAP3L = 0xED;
   58       =4 sfr CCAP4L = 0xEE;
   59       =4 sfr CH     = 0xF9;
   60       =4 sfr CCAP0H = 0xFA;
   61       =4 sfr CCAP1H = 0xFB;
   62       =4 sfr CCAP2H = 0xFC;
   63       =4 sfr CCAP3H = 0xFD;
   64       =4 sfr CCAP4H = 0xFE;
   65       =4 sfr WDTRST = 0xA6;
   66       =4 sfr WCON   = 0xA7;
   67       =4 
   68       =4 
   69       =4 /*  BIT Registers  */
   70       =4 /*  PSW   */
   71       =4 sbit CY   = 0xD7;
   72       =4 sbit AC   = 0xD6;
   73       =4 sbit F0   = 0xD5;
   74       =4 sbit RS1  = 0xD4;
   75       =4 sbit RS0  = 0xD3;
   76       =4 sbit OV   = 0xD2;
   77       =4 sbit UD   = 0xD1;
   78       =4 sbit P    = 0xD0;
   79       =4 
   80       =4 /*  TCON  */
   81       =4 sbit TF1  = 0x8F;
   82       =4 sbit TR1  = 0x8E;
   83       =4 sbit TF0  = 0x8D;
   84       =4 sbit TR0  = 0x8C;
   85       =4 sbit IE1_ = 0x8B;
   86       =4 sbit IT1  = 0x8A;
   87       =4 sbit IE0_ = 0x89;
   88       =4 sbit IT0  = 0x88;
   89       =4 
   90       =4 /*  IE0   */
   91       =4 sbit EA   = 0xAF;
   92       =4 sbit EC   = 0xAE;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 63  

   93       =4 sbit ET2  = 0xAD;
   94       =4 sbit ES   = 0xAC;
   95       =4 sbit ET1  = 0xAB;
   96       =4 sbit EX1  = 0xAA;
   97       =4 sbit ET0  = 0xA9;
   98       =4 sbit EX0  = 0xA8;
   99       =4 
  100       =4 /*  IPL0  */ 
  101       =4 sbit PPC  = 0xBE;
  102       =4 sbit PT2  = 0xBD;
  103       =4 sbit PS   = 0xBC;
  104       =4 sbit PT1  = 0xBB;
  105       =4 sbit PX1  = 0xBA;
  106       =4 sbit PT0  = 0xB9;
  107       =4 sbit PX0  = 0xB8;
  108       =4 
  109       =4 /*  P3  */
  110       =4 sbit RD   = 0xB7;
  111       =4 sbit WR   = 0xB6;
  112       =4 sbit T1   = 0xB5;
  113       =4 sbit T0   = 0xB4;
  114       =4 sbit INT1 = 0xB3;
  115       =4 sbit INT0 = 0xB2;
  116       =4 sbit TXD  = 0xB1;
  117       =4 sbit RXD  = 0xB0;
  118       =4 
  119       =4 /*  SCON  */
  120       =4 sbit FE   = 0x9F;
  121       =4 sbit SM0  = 0x9F;
  122       =4 sbit SM1  = 0x9E;
  123       =4 sbit SM2  = 0x9D;
  124       =4 sbit REN  = 0x9C;
  125       =4 sbit TB8  = 0x9B;
  126       =4 sbit RB8  = 0x9A;
  127       =4 sbit TI   = 0x99;
  128       =4 sbit RI   = 0x98;
  129       =4 
  130       =4 /*  P1  */
  131       =4 sbit CEX4 = 0x97;
  132       =4 sbit CEX3 = 0x96;
  133       =4 sbit CEX2 = 0x95;
  134       =4 sbit CEX1 = 0x94;
  135       =4 sbit CEX0 = 0x93;
  136       =4 sbit ECI  = 0x92;
  137       =4 sbit T2EX = 0x91;
  138       =4 sbit T2   = 0x90;
  139       =4 
  140       =4 /*  T2CON  */
  141       =4 sbit TF2   = 0xCF;
  142       =4 sbit EXF2  = 0xCE;
  143       =4 sbit RCLK  = 0xCD;
  144       =4 sbit TCLK  = 0xCC;
  145       =4 sbit EXEN2 = 0xCB;
  146       =4 sbit TR2   = 0xCA;
  147       =4 sbit C_T2  = 0xC9;
  148       =4 sbit CP_RL2= 0xC8;
  149       =4 
  150       =4 /*  CCON  */
  151       =4 sbit CF    = 0xDF;
  152       =4 sbit CR    = 0xDE;
  153       =4 sbit CCF4  = 0xDC;
  154       =4 sbit CCF3  = 0xDB;
  155       =4 sbit CCF2  = 0xDA;
  156       =4 sbit CCF1  = 0xD9;
  157       =4 sbit CCF0  = 0xD8;
  158       =4 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 64  

  159       =4 #endif
   27       =3 #include "CfgGlobal.h"
   27       =3 /*******************************************************************************
   27       =3 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
   27       =3 *
   27       =3 * File Name: uart.h
   27       =3 *
   27       =3 *    Author: linjianjun
   27       =3 *
   27       =3 *   Created: 2013-06-05
   27       =3 *
   27       =3 *  Abstract: DBG_ ‰≥ˆ≤ªƒ‹ªª––≤Ÿ◊˜
   27       =3 *
   27       =3 * Reference:
   27       =3 *
   27       =3 *******************************************************************************/
   27       =3 #ifndef  __UART1_H__
   27       =3 #define  __UART1_H__
   27       =3 
   27       =3 /* Conditional Compiler Options */
   27       =3 #define _BLK_DBG_EN      1
   27       =3 
   27       =3 #if _BLK_DBG_EN
   27       =3 /*******************************************************************************
   27       =3 * Included files
   27       =3 *******************************************************************************/
   27       =3 #include <STDIO.H>
   27       =3 #include <REG251S.H>
   27       =3 #include "CfgGlobal.h"
   28       =3 
   29       =3 /*******************************************************************************
   30       =3 * Global constant and macro definitions using #define
   31       =3 *******************************************************************************/
   32       =3 #define BAUD_RATE 115200
   33       =3 //#define BAUD_RATE 57600
   34       =3 //#define BAUD_RATE 38400
   35       =3 //#define BAUD_RATE 19200
   36       =3 #define _UART_RECEIVE_EN   0  // Ω” ’ πƒ‹∫Í
   37       =3 
   38       =3 
   39       =3 #define _UART_OUT_GPIO2    0
   40       =3 #define _UART_OUT_GPIO3    1  //default
   41       =3 #define _UART_OUT_GPIO4    0
   42       =3 
   43       =3 #define _FOR_RD            0
   44       =3 
   45       =3 /************** ƒ£øÈ ‰≥ˆ∫Í ***************/
   46       =3 /* module */
   47       =3 #if _FOR_RD
            =3 #define DBG_FLOW        /##/
            =3 #define DBG_SFR         /##/
            =3 #define DBG_DRAM        /##/
            =3 #define DBG_PROM        /##/
            =3 #define DBG_ARAM        /##/
            =3 #define DBG_SPI0_REG    /##/
            =3 #define DBG_XSI_REG     /##/
            =3 #define DBG_XBUS_REG    /##/
            =3 #define DBG_ASM_REG     /##/
            =3 #define DBG_CAL_REG     /##/
            =3 #define DBG_LCD_REG     /##/
            =3 #define DBG_AFE_REG     /##/
            =3 #define DBG_AFE_RAM     /##/
            =3 #define DBG_SPI         /##/
            =3 #define DBG_LED         /##/
            =3 #define DBG_I2C         /##/
            =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 65  

            =3 #define DBG_WDT         /##/
            =3 #define DBG_RTC         /##/
            =3 #define DBG_CNT         /##/
            =3 #define DBG_GPIO        /##/
            =3 #define DBG_TIMER       /##/
            =3 #define DBG_INT         /##/
            =3 #define DBG_GPIOWK      /##/
            =3 #define DBG_I2CWK       /##/
            =3 #define DBG_XSI         /##/
            =3 #define DBG_CAL         /##/
            =3 #define DBG_CAL_DATA    /##/
            =3 #define DBG_AFE         /##/
            =3 #define DBG_MODE        /##/
            =3 #define DBG_ERROR       /##/
            =3 #define DBG_UART        /##/
            =3 #define DBG_SPI0WK      /##/
            =3 #define DBG_DEBUGOUT    /##/
            =3 
            =3 #else
   84       =3 #define DBG_TEST        printf
   85       =3 #define DBG_FLOW        printf       //printf in main.c
   86       =3 #define DBG_SFR         printf
   87       =3 #define DBG_DRAM        printf
   88       =3 #define DBG_PROM        printf
   89       =3 #define DBG_ARAM        printf
   90       =3 #define DBG_SPI0_REG    printf
   91       =3 #define DBG_XSI_REG     printf
   92       =3 #define DBG_XBUS_REG    printf
   93       =3 #define DBG_ASM_REG     printf
   94       =3 #define DBG_CAL_REG     printf
   95       =3 #define DBG_LCD_REG     printf
   96       =3 #define DBG_AFE_REG     printf
   97       =3 #define DBG_AFE_RAM     printf
   98       =3 #define DBG_SPI         printf
   99       =3 #define DBG_LED         printf
  100       =3 #define DBG_I2C         printf
  101       =3 
  102       =3 #define DBG_WDT         printf
  103       =3 #define DBG_RTC         printf
  104       =3 #define DBG_CNT         printf
  105       =3 #define DBG_GPIO        printf
  106       =3 #define DBG_TIMER       printf
  107       =3 #define DBG_INT         /##/printf
  108       =3 #define DBG_GPIOWK      printf
  109       =3 #define DBG_I2CWK       printf
  110       =3 #define DBG_XSI         printf
  111       =3 #define DBG_CAL         printf
  112       =3 #define DBG_CAL_DATA    printf
  113       =3 #define DBG_AFE         printf
  114       =3 #define DBG_MODE        printf
  115       =3 #define DBG_ERROR       printf
  116       =3 #define DBG_XBUS        printf
  117       =3 #define DBG_ECC         printf
  118       =3 #define DBG_UART        printf
  119       =3 #define DBG_SPI0WK      printf
  120       =3 #define DBG_DEBUGOUT    printf
  121       =3 #endif
  122       =3 
  123       =3 void  DrvUartInit(void);
  124       =3 SINT8 putchar(SINT8 c);
  125       =3 UINT8 CLK_DIV(UINT8 div);
  126       =3 
  127       =3 extern volatile UINT16 XRAM s_ucUartTxLen;
  128       =3 #else
            =3 #define DrvUartInit()   /##/
            =3 #define CLK_DIV()       /##/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 66  

            =3  
            =3 /************** ƒ£øÈ ‰≥ˆ∫Í ***************/
            =3 /* module */
            =3 #define DBG_FLOW        /##/
            =3 #define DBG_SFR         /##/
            =3 #define DBG_DRAM        /##/
            =3 #define DBG_PROM        /##/
            =3 #define DBG_ARAM        /##/
            =3 #define DBG_SPI0_REG    /##/
            =3 #define DBG_XSI_REG     /##/
            =3 #define DBG_XBUS_REG    /##/
            =3 #define DBG_ASM_REG     /##/
            =3 #define DBG_CAL_REG     /##/
            =3 #define DBG_LCD_REG     /##/
            =3 #define DBG_AFE_REG     /##/
            =3 #define DBG_AFE_RAM     /##/
            =3 #define DBG_SPI         /##/
            =3 #define DBG_LED         /##/
            =3 #define DBG_I2C         /##/
            =3 #define DBG_TEST        /##/printf
            =3 
            =3 #define DBG_WDT         /##/
            =3 #define DBG_RTC         /##/
            =3 #define DBG_CNT         /##/
            =3 #define DBG_GPIO        /##/
            =3 #define DBG_TIMER       /##/
            =3 #define DBG_INT         /##/
            =3 #define DBG_GPIOWK      /##/
            =3 #define DBG_I2CWK       /##/
            =3 #define DBG_XSI         /##/
            =3 #define DBG_CAL         /##/
            =3 #define DBG_CAL_DATA    /##/
            =3 #define DBG_AFE         /##/
            =3 #define DBG_MODE        /##/
            =3 #define DBG_ERROR       /##/
            =3 #define DBG_UART        /##/
            =3 #define DBG_SPI0WK      /##/
            =3 #define DBG_DEBUGOUT    /##/
            =3 
            =3 #endif
  171       =3 /*******************************************************************************
  172       =3 * Global variable extern declarations
  173       =3 *******************************************************************************/
  174       =3 
  175       =3 /*******************************************************************************
  176       =3 * Global function prototypes
  177       =3 *******************************************************************************/
  178       =3 
  179       =3 #endif
  180       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_GPIO.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-18
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 67  

   17       =3 *******************************************************************************/
   18       =3 #ifndef _TEST_GPIO_H_
   19       =3 #define _TEST_GPIO_H_
   20       =3 
   21       =3 
   22       =3 /*******************************************************************************
   23       =3 * 1.Included files
   24       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   25       =3 /*******************************************************************************
   25       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   25       =3 *
   25       =3 * File Name: Test_GPIO.h
   25       =3 *
   25       =3 *    Author: xinkunpeng
   25       =3 *
   25       =3 *   Created: 2014-04-18
   25       =3 *
   25       =3 *  Abstract:
   25       =3 *
   25       =3 * Reference:
   25       =3 *
   25       =3 * Version:
   25       =3 * 0.1:
   25       =3 *
   25       =3 *******************************************************************************/
   25       =3 #ifndef _TEST_GPIO_H_
   25       =3 #define _TEST_GPIO_H_
   25       =3 
   25       =3 
   25       =3 /*******************************************************************************
   25       =3 * 1.Included files
   25       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   26       =3 
   27       =3 #if _TEST_GPIO_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_GPIO(void);
            =3 #else
   45       =3 #define Test_GPIO /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif // _DRV_MC_DATA_COLLECT_H_
   49       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_WDT.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2013-04-21
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 68  

    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef __TEST_WTD_H__
   16       =3 #define __TEST_WTD_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * 1.Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_WDT.h
   21       =3 *
   21       =3 *    Author: xinkunpeng
   21       =3 *
   21       =3 *   Created: 2013-04-21
   21       =3 *
   21       =3 *  Abstract:
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef __TEST_WTD_H__
   21       =3 #define __TEST_WTD_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * 1.Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 #if _TEST_WDT_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_WDT(void);
            =3 #else
   42       =3 
   43       =3 #define Test_WDT() /##/
   44       =3 #endif
   45       =3 
   46       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_RTC.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 69  

    8       =3 *   Created: 2014-04-18
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_RTC__
   19       =3 #define __TEST_RTC__
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_RTC.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
   24       =3 *   Created: 2014-04-18
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
   24       =3 *
   24       =3 * Version:
   24       =3 * 0.1:
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_RTC__
   24       =3 #define __TEST_RTC__
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_RTC_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_RTC(void);
            =3 #else
   45       =3 #define Test_RTC  /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif
    1       =3 /*******************************************************************************
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 70  

    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_timer.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-24
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_TIMER_H__
   19       =3 #define __TEST_TIMER_H__
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_timer.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
   24       =3 *   Created: 2014-04-24
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
   24       =3 *
   24       =3 * Version:
   24       =3 * 0.1:
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_TIMER_H__
   24       =3 #define __TEST_TIMER_H__
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_TIMER_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Timer(void);
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 71  

            =3 #else
   45       =3 #define Test_Timer /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif
   49       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_WDT.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2013-04-21
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef __TEST_CNT_H__
   16       =3 #define __TEST_CNT_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * 1.Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_WDT.h
   21       =3 *
   21       =3 *    Author: xinkunpeng
   21       =3 *
   21       =3 *   Created: 2013-04-21
   21       =3 *
   21       =3 *  Abstract:
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef __TEST_CNT_H__
   21       =3 #define __TEST_CNT_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * 1.Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 #if _TEST_CNT_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Counter(void);
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 72  

            =3 #else
   41       =3 
   42       =3 #define Test_Counter() /##/
   43       =3 #endif
   44       =3 
   45       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_Prom.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-24
    9       =3 *
   10       =3 *  Abstract: Please describe the interface in detail for this module
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_PROM_H__
   16       =3 #define _TEST_PROM_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_Prom.h
   21       =3 *
   21       =3 *    Author: xinkunpeng
   21       =3 *
   21       =3 *   Created: 2014-04-24
   21       =3 *
   21       =3 *  Abstract: Please describe the interface in detail for this module
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_PROM_H__
   21       =3 #define _TEST_PROM_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 /*******************************************************************************
   24       =3 * Global constant and macro definitions using #define
   25       =3 *******************************************************************************/
   26       =3 
   27       =3 #if _TEST_PROM_EN
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Prom(void);
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 73  

            =3 #else
   41       =3 #define Test_Prom()  /##/
   42       =3 #endif
   43       =3 
   44       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_Dram.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-22
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_DRAM_H__
   16       =3 #define _TEST_DRAM_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_Dram.h
   21       =3 *
   21       =3 *    Author: xinkunpeng
   21       =3 *
   21       =3 *   Created: 2014-04-22
   21       =3 *
   21       =3 *  Abstract:
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_DRAM_H__
   21       =3 #define _TEST_DRAM_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 #if _TEST_DRAM_EN
            =3 /*******************************************************************************
            =3 * Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 #define TEST_PATTERN1         0x5A
            =3 #define TEST_PATTERN2         0xA5
            =3 #define TEST_PATTERN3         0x55AA
            =3 #define TEST_PATTERN4         0xAA55
            =3 #define TEST_PATTERN5         0x12345678//0x55AA55AA
            =3 #define TEST_PATTERN6         0x11223344//0xAA55AA55
            =3 
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 74  

            =3 extern UINT8  XRAM ucReadBack;
            =3 extern UINT16 XRAM usReadBack;
            =3 extern UINT32 XRAM ulReadBack;
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Dram(void);
            =3 #else
   50       =3 #define Test_Dram()  /##/
   51       =3 #endif
   52       =3 
   53       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_Aram.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-22
    9       =3 *
   10       =3 *  Abstract: Please describe the interface in detail for this module
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_ARAM_H__
   16       =3 #define _TEST_ARAM_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_Aram.h
   21       =3 *
   21       =3 *    Author: xinkunpeng
   21       =3 *
   21       =3 *   Created: 2014-04-22
   21       =3 *
   21       =3 *  Abstract: Please describe the interface in detail for this module
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_ARAM_H__
   21       =3 #define _TEST_ARAM_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 /*******************************************************************************
   24       =3 * Global constant and macro definitions using #define
   25       =3 *******************************************************************************/
   26       =3 
   27       =3 #if _TEST_ARAM_EN
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 75  

            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Aram(void);
            =3 #else
   41       =3 #define Test_Aram()  /##/
   42       =3 #endif
   43       =3 
   44       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_SFR.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-23
    9       =3 *
   10       =3 *  Abstract: Please describe the interface in detail for this module
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_SFR_H__
   16       =3 #define _TEST_SFR_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * 1.Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_SFR.h
   21       =3 *
   21       =3 *    Author: xinkunpeng
   21       =3 *
   21       =3 *   Created: 2014-04-23
   21       =3 *
   21       =3 *  Abstract: Please describe the interface in detail for this module
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_SFR_H__
   21       =3 #define _TEST_SFR_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * 1.Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 #if _TEST_SFR_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 sfr SFR_80H    =   0x80;
            =3 sfr SFR_81H    =   0x81;
            =3 sfr SFR_82H    =   0x82;
            =3 sfr SFR_83H    =   0x83;
            =3 sfr SFR_84H    =   0x84;
            =3 sfr SFR_85H    =   0x85;
            =3 sfr SFR_86H    =   0x86;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 76  

            =3 sfr SFR_87H    =   0x87;
            =3 sfr SFR_88H    =   0x88;
            =3 sfr SFR_89H    =   0x89;
            =3 sfr SFR_8AH    =   0x8A;
            =3 sfr SFR_8BH    =   0x8B;
            =3 sfr SFR_8CH    =   0x8C;
            =3 sfr SFR_8DH    =   0x8D;
            =3 sfr SFR_8EH    =   0x8E;
            =3 sfr SFR_8FH    =   0x8F;
            =3 sfr SFR_90H    =   0x90;
            =3 sfr SFR_91H    =   0x91;
            =3 sfr SFR_92H    =   0x92;
            =3 sfr SFR_93H    =   0x93;
            =3 sfr SFR_94H    =   0x94;
            =3 sfr SFR_95H    =   0x95;
            =3 sfr SFR_96H    =   0x96;
            =3 sfr SFR_97H    =   0x97;
            =3 sfr SFR_98H    =   0x98;
            =3 sfr SFR_99H    =   0x99;
            =3 sfr SFR_9AH    =   0x9A;
            =3 sfr SFR_9BH    =   0x9B;
            =3 sfr SFR_9CH    =   0x9C;
            =3 sfr SFR_9DH    =   0x9D;
            =3 sfr SFR_9EH    =   0x9E;
            =3 sfr SFR_9FH    =   0x9F;
            =3 sfr SFR_A0H    =   0xA0;
            =3 sfr SFR_A1H    =   0xA1;
            =3 sfr SFR_A2H    =   0xA2;
            =3 sfr SFR_A3H    =   0xA3;
            =3 sfr SFR_A4H    =   0xA4;
            =3 sfr SFR_A5H    =   0xA5;
            =3 sfr SFR_A6H    =   0xA6;
            =3 sfr SFR_A7H    =   0xA7;
            =3 sfr SFR_A8H    =   0xA8;
            =3 sfr SFR_A9H    =   0xA9;
            =3 sfr SFR_AAH    =   0xAA;
            =3 sfr SFR_ABH    =   0xAB;
            =3 sfr SFR_ACH    =   0xAC;
            =3 sfr SFR_ADH    =   0xAD;
            =3 sfr SFR_AEH    =   0xAE;
            =3 sfr SFR_AFH    =   0xAF;
            =3 sfr SFR_B0H    =   0xB0;
            =3 sfr SFR_B1H    =   0xB1;
            =3 sfr SFR_B2H    =   0xB2;
            =3 sfr SFR_B3H    =   0xB3;
            =3 sfr SFR_B4H    =   0xB4;
            =3 sfr SFR_B5H    =   0xB5;
            =3 sfr SFR_B6H    =   0xB6;
            =3 sfr SFR_B7H    =   0xB7;
            =3 sfr SFR_B8H    =   0xB8;
            =3 sfr SFR_B9H    =   0xB9;
            =3 sfr SFR_BAH    =   0xBA;
            =3 sfr SFR_BBH    =   0xBB;
            =3 sfr SFR_BCH    =   0xBC;
            =3 sfr SFR_BDH    =   0xBD;
            =3 sfr SFR_BEH    =   0xBE;
            =3 sfr SFR_BFH    =   0xBF;
            =3 sfr SFR_C0H    =   0xC0;
            =3 sfr SFR_C1H    =   0xC1;
            =3 sfr SFR_C2H    =   0xC2;
            =3 sfr SFR_C3H    =   0xC3;
            =3 sfr SFR_C4H    =   0xC4;
            =3 sfr SFR_C5H    =   0xC5;
            =3 sfr SFR_C6H    =   0xC6;
            =3 sfr SFR_C7H    =   0xC7;
            =3 sfr SFR_C8H    =   0xC8;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 77  

            =3 sfr SFR_C9H    =   0xC9;
            =3 sfr SFR_CAH    =   0xCA;
            =3 sfr SFR_CBH    =   0xCB;
            =3 sfr SFR_CCH    =   0xCC;
            =3 sfr SFR_CDH    =   0xCD;
            =3 sfr SFR_CEH    =   0xCE;
            =3 sfr SFR_CFH    =   0xCF;
            =3 sfr SFR_D0H    =   0xD0;
            =3 sfr SFR_D1H    =   0xD1;
            =3 sfr SFR_D2H    =   0xD2;
            =3 sfr SFR_D3H    =   0xD3;
            =3 sfr SFR_D4H    =   0xD4;
            =3 sfr SFR_D5H    =   0xD5;
            =3 sfr SFR_D6H    =   0xD6;
            =3 sfr SFR_D7H    =   0xD7;
            =3 sfr SFR_D8H    =   0xD8;
            =3 sfr SFR_D9H    =   0xD9;
            =3 sfr SFR_DAH    =   0xDA;
            =3 sfr SFR_DBH    =   0xDB;
            =3 sfr SFR_DCH    =   0xDC;
            =3 sfr SFR_DDH    =   0xDD;
            =3 sfr SFR_DEH    =   0xDE;
            =3 sfr SFR_DFH    =   0xDF;
            =3 sfr SFR_E0H    =   0xE0;
            =3 sfr SFR_E1H    =   0xE1;
            =3 sfr SFR_E2H    =   0xE2;
            =3 sfr SFR_E3H    =   0xE3;
            =3 sfr SFR_E4H    =   0xE4;
            =3 sfr SFR_E5H    =   0xE5;
            =3 sfr SFR_E6H    =   0xE6;
            =3 sfr SFR_E7H    =   0xE7;
            =3 sfr SFR_E8H    =   0xE8;
            =3 sfr SFR_E9H    =   0xE9;
            =3 sfr SFR_EAH    =   0xEA;
            =3 sfr SFR_EBH    =   0xEB;
            =3 sfr SFR_ECH    =   0xEC;
            =3 sfr SFR_EDH    =   0xED;
            =3 sfr SFR_EEH    =   0xEE;
            =3 sfr SFR_EFH    =   0xEF;
            =3 sfr SFR_F0H    =   0xF0;
            =3 sfr SFR_F1H    =   0xF1;
            =3 sfr SFR_F2H    =   0xF2;
            =3 sfr SFR_F3H    =   0xF3;
            =3 sfr SFR_F4H    =   0xF4;
            =3 sfr SFR_F5H    =   0xF5;
            =3 sfr SFR_F6H    =   0xF6;
            =3 sfr SFR_F7H    =   0xF7;
            =3 sfr SFR_F8H    =   0xF8;
            =3 sfr SFR_F9H    =   0xF9;
            =3 sfr SFR_FAH    =   0xFA;
            =3 sfr SFR_FBH    =   0xFB;
            =3 sfr SFR_FCH    =   0xFC;
            =3 sfr SFR_FDH    =   0xFD;
            =3 sfr SFR_FEH    =   0xFE;
            =3 sfr SFR_FFH    =   0xFF;
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 extern UINT8 XRAM g_ucSFR[256];
            =3 
            =3 /*******************************************************************************
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 78  

            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 UINT8 SFRGetRegMapDataNormal(UINT8 ucAddr);
            =3 void Test_SFR();
            =3 #else
  171       =3 #define Test_SFR /##/
  172       =3 #define SFRGetRegMapDataNormal(x)  /##/
  173       =3 #endif
  174       =3 
  175       =3 #endif
  176       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R),All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_Reg.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-23
    9       =3 *
   10       =3 *  Abstract: Please describe the interface in detail for this module
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_REG_H_
   16       =3 #define _TEST_REG_H_
   17       =3 
   18       =3 /* Conditional Compiler Options */
   19       =3 /*******************************************************************************
   20       =3 * Included files
   21       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   22       =3 /*******************************************************************************
   22       =3 * Copyright (C) 2013-2014, FocalTech Systems (R),All Rights Reserved.
   22       =3 *
   22       =3 * File Name: Test_Reg.h
   22       =3 *
   22       =3 *    Author: xinkunpeng
   22       =3 *
   22       =3 *   Created: 2014-04-23
   22       =3 *
   22       =3 *  Abstract: Please describe the interface in detail for this module
   22       =3 *
   22       =3 * Reference:
   22       =3 *
   22       =3 *******************************************************************************/
   22       =3 #ifndef _TEST_REG_H_
   22       =3 #define _TEST_REG_H_
   22       =3 
   22       =3 /* Conditional Compiler Options */
   22       =3 /*******************************************************************************
   22       =3 * Included files
   22       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   23       =3 
   24       =3 /*******************************************************************************
   25       =3 * Global constant and macro definitions using #define
   26       =3 *******************************************************************************/
   27       =3 
   28       =3 /*******************************************************************************
   29       =3 * Global structures, unions and enumerations using typedef
   30       =3 *******************************************************************************/
   31       =3 
   32       =3 /*******************************************************************************
   33       =3 * Global variable extern declarations
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 79  

   34       =3 *******************************************************************************/
   35       =3 
   36       =3 /*******************************************************************************
   37       =3 * Global function prototypes
   38       =3 *******************************************************************************/
   39       =3 #if _TEST_SPI0_REG_EN
            =3 void Test_Spi0Reg(void);
            =3 #else
   42       =3 #define Test_Spi0Reg    /##/
   43       =3 #endif
   44       =3 
   45       =3 #if _TEST_XSI_REG_EN
            =3 void Test_XsiReg(void);
            =3 #else
   48       =3 #define Test_XsiReg    /##/
   49       =3 #endif
   50       =3 
   51       =3 #if _TEST_XBUS_REG_EN
            =3 void Test_XbusReg(void);
            =3 #else
   54       =3 #define Test_XbusReg   /##/
   55       =3 #endif
   56       =3 
   57       =3 #if _TEST_CAL_REG_EN
            =3 void Test_CalReg(void);
            =3 #else
   60       =3 #define Test_CalReg    /##/
   61       =3 #endif
   62       =3 
   63       =3 #if _TEST_AFE_REG_EN
            =3 void Test_AfeReg(void);
            =3 #else
   66       =3 #define Test_AfeReg    /##/
   67       =3 #endif
   68       =3 
   69       =3 #if _TEST_ASM_REG_EN
            =3 void Test_AsmReg(void);
            =3 #else
   72       =3 #define Test_AsmReg    /##/
   73       =3 #endif
   74       =3 #if _TEST_AFE_RAM_EN
            =3 #define  TEST_TAB_RAM_EN          1   // tab ram enble
            =3 #define  TEST_RPT_RAM_EN          1   // rpt ram enble
            =3 #define  TEST_ACC_RAM4_EN         1   // acc ram4 enble
            =3 #define  TEST_ACC_RAM3_EN         1   // acc ram3 enble
            =3 #define  TEST_ACC_RAM2_EN         1   // acc ram3 enble
            =3 #define  TEST_ACC_RAM1_EN         1   // acc ram2 enble
            =3 
            =3 
            =3 void Test_Afe_Ram();
            =3 #else
   85       =3 #define  Test_Afe_Ram   /##/
   86       =3 #endif
   87       =3 
   88       =3 #if _TEST_LCD_REG_EN
            =3 void Test_LcdReg(void);
            =3 #else
   91       =3 #define Test_LcdReg    /##/
   92       =3 #endif
   93       =3 
   94       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_I2c.h
    5       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 80  

    6       =3 *    Author:
    7       =3 *
    8       =3 *   Created: 2014-04-28
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_I2C_H__
   16       =3 #define _TEST_I2C_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_I2c.h
   21       =3 *
   21       =3 *    Author:
   21       =3 *
   21       =3 *   Created: 2014-04-28
   21       =3 *
   21       =3 *  Abstract:
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_I2C_H__
   21       =3 #define _TEST_I2C_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 #if _TEST_I2C_EN
            =3 
            =3 /*******************************************************************************
            =3 * Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_I2C(void);
            =3 void DrvI2cInit(void);
            =3 #else
   43       =3 #define Test_I2C()       /##/
   44       =3 #define DrvI2cInit()     /##/
   45       =3 #endif
   46       =3 
   47       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 81  

    4       =3 * File Name: Test_i2c_wakeup.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-29
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef TEST_I2C_WAKEUP_H__
   19       =3 #define TEST_I2C_WAKEUP_H__
   20       =3 
   21       =3 
   22       =3 /*******************************************************************************
   23       =3 * 1.Included files
   24       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   25       =3 /*******************************************************************************
   25       =3 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
   25       =3 *
   25       =3 * File Name: Test_i2c_wakeup.h
   25       =3 *
   25       =3 *    Author: xinkunpeng
   25       =3 *
   25       =3 *   Created: 2014-04-29
   25       =3 *
   25       =3 *  Abstract:
   25       =3 *
   25       =3 * Reference:
   25       =3 *
   25       =3 * Version:
   25       =3 * 0.1:
   25       =3 *
   25       =3 *******************************************************************************/
   25       =3 #ifndef TEST_I2C_WAKEUP_H__
   25       =3 #define TEST_I2C_WAKEUP_H__
   25       =3 
   25       =3 
   25       =3 /*******************************************************************************
   25       =3 * 1.Included files
   25       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   26       =3 
   27       =3 #if _TEST_I2C_WK_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_I2CWakeup(void);
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 82  

            =3 #else
   46       =3 #define Test_I2CWakeup /##/
   47       =3 #endif
   48       =3 
   49       =3 #endif
   50       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: test_gpio_wakeup.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2013-04-25
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_GPIO5_INT_H__
   19       =3 #define __TEST_GPIO5_INT_H__
   20       =3 
   21       =3 
   22       =3 /*******************************************************************************
   23       =3 * 1.Included files
   24       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   25       =3 /*******************************************************************************
   25       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   25       =3 *
   25       =3 * File Name: test_gpio_wakeup.h
   25       =3 *
   25       =3 *    Author: xinkunpeng
   25       =3 *
   25       =3 *   Created: 2013-04-25
   25       =3 *
   25       =3 *  Abstract:
   25       =3 *
   25       =3 * Reference:
   25       =3 *
   25       =3 * Version:
   25       =3 * 0.1:
   25       =3 *
   25       =3 *******************************************************************************/
   25       =3 #ifndef __TEST_GPIO5_INT_H__
   25       =3 #define __TEST_GPIO5_INT_H__
   25       =3 
   25       =3 
   25       =3 /*******************************************************************************
   25       =3 * 1.Included files
   25       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   26       =3 
   27       =3 #if _TEST_GPIO_WK_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 83  

            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Int0Wakeup(void);
            =3 #else
   46       =3 #define Test_Int0Wakeup /##/
   47       =3 #endif
   48       =3 
   49       =3 #endif
   50       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_int_nest.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-29
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *   Version: 0.1
   15       =3 *
   16       =3 *******************************************************************************/
   17       =3 #ifndef __TEST_INT_NEST_H__
   18       =3 #define __TEST_INT_NEST_H__
   19       =3 
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_int_nest.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
   24       =3 *   Created: 2014-04-29
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
   24       =3 *
   24       =3 *   Version: 0.1
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_INT_NEST_H__
   24       =3 #define __TEST_INT_NEST_H__
   24       =3 
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_INT_NEST_EN
            =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 84  

            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_int_nest(void);
            =3 #else
   45       =3 #define Test_int_nest /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_spi.h
    5       =3 *
    6       =3 *    Author: tangsujun
    7       =3 *
    8       =3 *   Created: 2016-12-26
    9       =3 *
   10       =3 *  Abstract: 
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_SPI_H__
   16       =3 #define _TEST_SPI_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_spi.h
   21       =3 *
   21       =3 *    Author: tangsujun
   21       =3 *
   21       =3 *   Created: 2016-12-26
   21       =3 *
   21       =3 *  Abstract: 
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_SPI_H__
   21       =3 #define _TEST_SPI_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 /*******************************************************************************
   24       =3 * Global constant and macro definitions using #define
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 85  

   25       =3 *******************************************************************************/
   26       =3 #if _TEST_SPI_EN
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_SPI_Flash();
            =3 void SPI_Init(void);
            =3 BOOLEAN SPIFlash_FastRead(UINT32 addr, UINT8 far *pBuf, UINT32 len);
            =3 #else
   42       =3 #define Test_SPI_Flash() /##/
   43       =3 #define SPI_Init(void)   /##/
   44       =3 #endif
   45       =3 
   46       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_CAL.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-05-07
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef _TEST_CAL_H_
   19       =3 #define _TEST_CAL_H_
   20       =3 
   21       =3 
   22       =3 /*******************************************************************************
   23       =3 * 1.Included files
   24       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   25       =3 /*******************************************************************************
   25       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   25       =3 *
   25       =3 * File Name: Test_CAL.h
   25       =3 *
   25       =3 *    Author: xinkunpeng
   25       =3 *
   25       =3 *   Created: 2014-05-07
   25       =3 *
   25       =3 *  Abstract:
   25       =3 *
   25       =3 * Reference:
   25       =3 *
   25       =3 * Version:
   25       =3 * 0.1:
   25       =3 *
   25       =3 *******************************************************************************/
   25       =3 #ifndef _TEST_CAL_H_
   25       =3 #define _TEST_CAL_H_
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 86  

   25       =3 
   25       =3 
   25       =3 /*******************************************************************************
   25       =3 * 1.Included files
   25       =3 *******************************************************************************/
   25       =3 #include "CfgGlobal.h"
   26       =3 
   27       =3 #if _TEST_CAL_EN
   28       =3 /*******************************************************************************
   29       =3 * 2.Global constant and macro definitions using #define
   30       =3 *******************************************************************************/
   31       =3 /* ø…“‘“ª∆≤‚ ‘ƒ£øÈ */
   32       =3 #if 0
            =3 #define  TEST_CAL_ADD_EN        0   // º”∑®
            =3 #define  TEST_CAL_SUB_EN        0   // ºı∑®
            =3 #define  TEST_CAL_AMP_EN        0   // ≥À∑®
            =3 #define  TEST_CAL_DIV_EN        0   // ≥˝∑®  
            =3 #define  TEST_CAL_MOV_EN        0   // ≤ª◊™÷√∞·“∆
            =3 #define  TEST_CAL_MOV2_EN       0   // ◊™÷√∞·“∆(æÿ’Û◊™÷√∞·“∆ ±◊Ó∫√TxNum,RxNum”ÎTxLen,RxLenœ‡µ»)  
            =3 #define  TEST_CAL_MUL2_1_EN     0   // “ªŒ¨æÿ’Û≥À∑®      (Tx,Rxæ˘±ÿ–Î<=18)       
            =3 #define  TEST_CAL_MUL2_2_EN     0   // ∂˛Œ¨æÿ’Û≥À∑®
            =3 #define  TEST_CAL_COM_1_EN      0   // æ…µƒ≤π≥•‘ÀÀ„  
            =3 #define  TEST_CAL_COM_2_EN      0   // –¬µƒ≤π≥•‘ÀÀ„ 
            =3 #define  TEST_CAL_LDS_EN        0   // æÿ’Ûµ„∂‘”¶æ‡¿Î‘ÀÀ„
            =3 #define  TEST_CAL_MDS_EN        0   // ¡Ω¡–µ„µƒæÿ’Û‘ÀÀ„  (Tx,Rxæ˘±ÿ–Î<=11)
            =3 #define  TEST_CAL_CHK_EN        0   // æ˘‘»∂»ºÏ≤È
            =3 #define  TEST_CAL_CRC_EN        0   // CRC–£—È
            =3 #define  TEST_CAL_XORSUM_EN     0   // xor“ÏªÚ–£—È
            =3 #define  TEST_CAL_AMOV_EN       0  // AMOV    (“‘œ¬Œ™¿©’πÀ„∑®)
            =3 #define  TEST_CAL_AVG_TX_EN     0   // ––æ˘÷µÀ„∑® 
            =3 #define  TEST_CAL_AVG_RX_EN     0   // ¡–æ˘÷µÀ„∑®
            =3 #define  TEST_CAL_AVG2_TX_EN    0   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û––æ˘÷µÀ„∑®
            =3 #define  TEST_CAL_AVG2_RX_EN    0   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û¡–æ˘÷µÀ„∑®
            =3 #define  TEST_CAL_AVG_ARAM_EN   0
            =3 #define  TEST_CAL_MIN_TX_EN     0   // ––◊Ó–°÷µÀ„∑®
            =3 #define  TEST_CAL_MIN_RX_EN     0   // ¡–◊Ó–°÷µÀ„∑®
            =3 #define  TEST_CAL_MAX_TX_EN     0   // ––◊Ó¥Û÷µÀ„∑®
            =3 #define  TEST_CAL_MAX_RX_EN     0   // ¡–◊Ó¥Û÷µÀ„∑®
            =3 #define  TEST_CAL_COUNT_EN      0   // æÿ’Û¥¶”⁄ƒ≥∏ˆ«¯º‰µƒ∏ˆ ˝[max,min]
            =3 #define  TEST_CAL_SUBCONST_EN   0   // º∆À„√ø––(Tx)ªÚ’ﬂ√ø¡–(Rx)µƒºı»•“ª∏ˆ≥£ ˝
            =3 #define  TEST_CAL_MAC_1_EN      0   // ◊”«¯”Úƒ£ ΩMAC
            =3 #define  TEST_CAL_MAC_2_EN      0   // ÷ÿππƒ£ ΩMAC
            =3 #define  TEST_CAL_ID_EN         0   // ID∆•≈‰
            =3 #define  TEST_CAL_PKS_EN        0   // Peak Search
            =3 
            =3 
            =3 #else//Auto
   67       =3 #define  TEST_CAL_ADD_EN        1   // º”∑®
   68       =3 #define  TEST_CAL_SUB_EN        1   // ºı∑®
   69       =3 #define  TEST_CAL_AMP_EN        1   // ≥À∑®
   70       =3 #define  TEST_CAL_DIV_EN        1   // ≥˝∑®
   71       =3 #define  TEST_CAL_MOV_EN        1   // ≤ª◊™÷√∞·“∆
   72       =3 #define  TEST_CAL_MOV2_EN       1   // ◊™÷√∞·“∆(æÿ’Û◊™÷√∞·“∆ ±◊Ó∫√TxNum,RxNum”ÎTxLen,RxLenœ‡µ»)
   73       =3 #define  TEST_CAL_MUL2_1_EN     1   // “ªŒ¨æÿ’Û≥À∑®      
   74       =3 #define  TEST_CAL_MUL2_2_EN     1   // ∂˛Œ¨æÿ’Û≥À∑®
   75       =3 #define  TEST_CAL_COM_1_EN      1   // æ…µƒ≤π≥•‘ÀÀ„
   76       =3 #define  TEST_CAL_COM_2_EN      1   // –¬µƒ≤π≥•‘ÀÀ„ 
   77       =3 #define  TEST_CAL_LDS_EN        1   // æÿ’Ûµ„∂‘”¶æ‡¿Î‘ÀÀ„
   78       =3 #define  TEST_CAL_MDS_EN        1   // ¡Ω¡–µ„µƒæÿ’Û‘ÀÀ„ 
   79       =3 #define  TEST_CAL_CHK_EN        1   // æ˘‘»∂»ºÏ≤È
   80       =3 #define  TEST_CAL_CRC_EN        1   // CRC–£—È
   81       =3 #define  TEST_CAL_XORSUM_EN     1   // xor“ÏªÚ–£—È
   82       =3 
   83       =3 #define  TEST_CAL_AMOV_EN       0   // AMOV    (“‘œ¬Œ™¿©’πÀ„∑®)
   84       =3 #define  TEST_CAL_AVG_TX_EN     1   // ––æ˘÷µÀ„∑® 
   85       =3 #define  TEST_CAL_AVG_RX_EN     1   // ¡–æ˘÷µÀ„∑®
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 87  

   86       =3 #define  TEST_CAL_AVG2_TX_EN    1   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û––æ˘÷µÀ„∑®
   87       =3 #define  TEST_CAL_AVG2_RX_EN    1   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û¡–æ˘÷µÀ„∑®
   88       =3 #define  TEST_CAL_AVG_ARAM_EN   0
   89       =3 #define  TEST_CAL_MIN_TX_EN     1   // ––◊Ó–°÷µÀ„∑®
   90       =3 #define  TEST_CAL_MIN_RX_EN     1   // ¡–◊Ó–°÷µÀ„∑®
   91       =3 #define  TEST_CAL_MAX_TX_EN     1   // ––◊Ó¥Û÷µÀ„∑®
   92       =3 #define  TEST_CAL_MAX_RX_EN     1   // ¡–◊Ó¥Û÷µÀ„∑®
   93       =3 #define  TEST_CAL_COUNT_EN      1   // æÿ’Û¥¶”⁄ƒ≥∏ˆ«¯º‰µƒ∏ˆ ˝[max,min]
   94       =3 #define  TEST_CAL_SUBCONST_EN   1   // º∆À„√ø––(Tx)ªÚ’ﬂ√ø¡–(Rx)µƒºı»•“ª∏ˆ≥£ ˝ 
   95       =3 #define  TEST_CAL_MAC_1_EN      1  // ◊”«¯”Úƒ£ ΩMAC
   96       =3 #define  TEST_CAL_MAC_2_EN      1  // ÷ÿππƒ£ ΩMAC
   97       =3 #define  TEST_CAL_ID_EN         1  // ID∆•≈‰
   98       =3 #define  TEST_CAL_PKS_EN        1  // Peak Search
   99       =3 #endif
  100       =3 
  101       =3 #if 1//8836–¬‘ˆƒ£øÈ
  102       =3 /* µ•∂¿≤‚ ‘ƒ£øÈ */
  103       =3 
  104       =3 #define TEST_CAL_CMP_EN         1  //æÿ’Û±»ΩœÀ„∑®
  105       =3 #define TEST_CAL_MUL3_EN        1  // ˝◊È¡Ω¡Ωœ‡≥ÀÀ„∑®
  106       =3 #else
            =3 /* µ•∂¿≤‚ ‘ƒ£øÈ */
            =3 #define TEST_CAL_CMP_EN         0   //æÿ’Û±»ΩœÀ„∑®
            =3 #define TEST_CAL_MUL3_EN        0   // ˝◊È¡Ω¡Ωœ‡≥ÀÀ„∑®
            =3 
            =3 #endif
  112       =3 
  113       =3 #define  TEST_CAL_INT_EN        0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,RTC¥Ú∂œ£¨±ÿ–Î¥Úø™TEST_CAL_ADD_EN */
  114       =3 #define  TEST_CAL_MOV_INT_EN    0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,RTC¥Ú∂œ£¨±ÿ–Î¥Úø™TEST_CAL_MOV_EN */
  115       =3 #define  TEST_SPI0_CAL_INT_EN   0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,SPI0¥Ú∂œ */
  116       =3 #define  TEST_SPI0_DMA_INT_EN   0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,∆Ù∂ØSPI0 DMA,±ÿ–Î¥Úø™TEST_SPI0_CAL_INT_EN */
  117       =3 #define  TEST_RTC_CAL_EN        1
  118       =3 #define  TEST_LCD_CAL_EN        0
  119       =3 #define  TEST_ASM_CAL_EN        1
  120       =3 #define  TEST_IIC_CAL_EN        1
  121       =3 
  122       =3 
  123       =3 
  124       =3 /*******************************************************************************
  125       =3 * 3.Global structures, unions and enumerations using typedef
  126       =3 *******************************************************************************/
  127       =3 
  128       =3 /*******************************************************************************
  129       =3 * 4.Global variable extern declarations
  130       =3 *******************************************************************************/
  131       =3 //extern ST_FrameData  *g_stFrmData; // Frame Data
  132       =3 
  133       =3 /*******************************************************************************
  134       =3 * 5.Global function prototypes
  135       =3 *******************************************************************************/
  136       =3 void Test_CAL(void);
  137       =3 #else
            =3 #define Test_CAL /##/
            =3 #endif
  140       =3 
  141       =3 #endif // _DRV_MC_DATA_COLLECT_H_
  142       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_romboot.h
    5       =3 *
    6       =3 *    Author:
    7       =3 *
    8       =3 *   Created: 2014-05-07
    9       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 88  

   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *******************************************************************************/
   14       =3 #ifndef _TEST_ROMBOOT_H__
   15       =3 #define _TEST_ROMBOOT_H__
   16       =3 
   17       =3 /*******************************************************************************
   18       =3 * Included files
   19       =3 *******************************************************************************/
   20       =3 #include "CfgGlobal.h"
   20       =3 /*******************************************************************************
   20       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   20       =3 *
   20       =3 * File Name: Test_romboot.h
   20       =3 *
   20       =3 *    Author:
   20       =3 *
   20       =3 *   Created: 2014-05-07
   20       =3 *
   20       =3 *  Abstract:
   20       =3 *
   20       =3 * Reference:
   20       =3 *******************************************************************************/
   20       =3 #ifndef _TEST_ROMBOOT_H__
   20       =3 #define _TEST_ROMBOOT_H__
   20       =3 
   20       =3 /*******************************************************************************
   20       =3 * Included files
   20       =3 *******************************************************************************/
   20       =3 #include "CfgGlobal.h"
   21       =3 
   22       =3 /*******************************************************************************
   23       =3 * Global constant and macro definitions using #define
   24       =3 *******************************************************************************/
   25       =3 
   26       =3 #if _TEST_ROMBOOT_EN
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_romboot(void);
            =3 #else
   40       =3 #define Test_romboot()  /##/
   41       =3 #endif
   42       =3 
   43       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_Afe.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-05-15
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 89  

   13       =3 *
   14       =3 *   Version:
   15       =3 *******************************************************************************/
   16       =3 #ifndef __TEST_AFE_H__
   17       =3 #define __TEST_AFE_H__
   18       =3 
   19       =3 /*******************************************************************************
   20       =3 * 1.Included files
   21       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   22       =3 /*******************************************************************************
   22       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =3 *
   22       =3 * File Name: Test_Afe.h
   22       =3 *
   22       =3 *    Author: xinkunpeng
   22       =3 *
   22       =3 *   Created: 2014-05-15
   22       =3 *
   22       =3 *  Abstract:
   22       =3 *
   22       =3 * Reference:
   22       =3 *
   22       =3 *   Version:
   22       =3 *******************************************************************************/
   22       =3 #ifndef __TEST_AFE_H__
   22       =3 #define __TEST_AFE_H__
   22       =3 
   22       =3 /*******************************************************************************
   22       =3 * 1.Included files
   22       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   23       =3 
   24       =3 
   25       =3 /*******************************************************************************
   26       =3 * 2.Global constant and macro definitions using #define
   27       =3 *******************************************************************************/
   28       =3 
   29       =3 #define LCD_BUSY_FALL_INT0          BITn(15)
   30       =3 #define LCD_BUSY_RISE_INT0          BITn(14)
   31       =3 #define LCD_PANEL_CONFLICT_INT0     BITn(13)
   32       =3 #define LCD_DSTB_FAIL_INT0          BITn(12)
   33       =3 #define LCD_DSTB_RISE_INT0          BITn(11)
   34       =3 #define LCD_SYNC_MISS_FALL_INT0     BITn(10)
   35       =3 #define LCD_SYNC_MISS_RISE_INT0     BITn(9)
   36       =3 #define ARAM_READY_INT0             BITn(8)
   37       =3 #define FRAME_END_INT0              BITn(7)
   38       =3 #define AFE_DET_INT0                BITn(6)
   39       =3 #define LCD_VSTART_INT0             BITn(5)
   40       =3 #define LCD_VMID_INT0               BITn(4)
   41       =3 #define LCD_VEND_INT0               BITn(3)
   42       =3 #define LCD_VBLANK_INT0             BITn(2)
   43       =3 #define LCD_RUN_FALL_INT0           BITn(1)
   44       =3 #define LCD_RUN_RISE_INT0           BITn(0)
   45       =3 
   46       =3 #define LCD_HW_MON_TIMEOUT_INT1     BITn(14) 
   47       =3 #define LCD_LPF_MODE_EN_FALL_INT1   BITn(13)
   48       =3 #define LCD_LPF_MODE_EN_RISE_INT1   BITn(12)
   49       =3 #define LCD_STB_TICK_INT1           BITn(11)
   50       =3 #define LCD_ODD_EVEN_FALL_INT1      BITn(10)
   51       =3 #define LCD_ODD_EVEN_RISE_INT1      BITn(9)
   52       =3 #define LCD_VDO_MODE_FALL_INT1      BITn(8)
   53       =3 #define LCD_VDO_MODE_RISE_INT1      BITn(7)  
   54       =3 #define LCD_IDLE_MODE_FALL_INT1     BITn(6)  
   55       =3 #define LCD_IDLE_MODE_RISE_INT1     BITn(5)
   56       =3 #define LCD_3D_MODE_FALL_INT1       BITn(4)
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 90  

   57       =3 #define LCD_3D_MODE_RISE_INT1       BITn(3)
   58       =3 #define LCD_RUN_INT1                BITn(2)
   59       =3 #define LCD_DSTB_INT1               BITn(1)
   60       =3 
   61       =3 
   62       =3 /* Asm Sta */
   63       =3 #define LCD_PANEL_CONFLICT_STA      BITn(14)
   64       =3 #define LCD_DSTB_STA                BITn(13)
   65       =3 #define LCD_SYNC_MISS_STA           BITn(12)
   66       =3 #define LCD_FRAME_END_STA           BITn(11)
   67       =3 #define LCD_TCH_DET_STA             BITn(10)
   68       =3 #define LCD_STB_TICK_STA            BITn(9)
   69       =3 #define LCD_VSTART_STA              BITn(8)
   70       =3 #define LCD_VMID_STA                BITn(7)
   71       =3 #define LCD_VEND_STA                BITn(6)
   72       =3 #define LCD_VBLANK_STA              BITn(5)
   73       =3 #define LCD_ODD_EVEN_STA            BITn(4)
   74       =3 #define LCD_VDO_MODE_STA            BITn(3)
   75       =3 #define LCD_IDLE_MODE_STA           BITn(2)
   76       =3 #define LCD_3D_MODE_STA             BITn(1)
   77       =3 #define LCD_RUN_STA                 BITn(0)
   78       =3 
   79       =3 /*Scan Sta1*/
   80       =3 #define TP_BUSY_STA                 BITn(11) // [11]  RO: TP busyµƒ µ ±◊¥Ã¨
   81       =3 #define LCD_BUSY_STA                BITn(10) // [10]  RO: LCD busyµƒ µ ±◊¥Ã¨   
   82       =3 
   83       =3 /*Scan Sta2*/
   84       =3 #define LPF_MODE_TP_TURBO_ACK       BITn(13) // [13]  RO: 0:≤ªø™ø”  1:ø™ø”
   85       =3 #define VB_MODE_ACK                 BITn(12) // [12]  RO: 0:–°ø”    1:¥Ûø” 
   86       =3 
   87       =3 
   88       =3 
   89       =3 /*******************************************************************************
   90       =3 * 3.Global structures, unions and enumerations using typedef
   91       =3 *******************************************************************************/
   92       =3 /* ASM_INT_FLAG0 bit–≈œ¢RO      0x00*/
   93       =3 typedef enum
   94       =3 {
   95       =3         BIT_LCD_BUSY_FALL_FLAG0                  = 15,
   96       =3         BIT_LCD_BUSY_RISE_FLAG0                  = 14,
   97       =3         BIT_LCD_PANEL_CONFLICT_FLAG0     = 13,
   98       =3         BIT_LCD_DSTB_FAIL_FLAG0                  = 12,
   99       =3         BIT_LCD_DSTB_RISE_FLAG0                  = 11,
  100       =3         BIT_LCD_SYNC_MISS_FALL_FLAG0     = 10,
  101       =3         BIT_LCD_SYNC_MISS_RISE_FLAG0     = 9,
  102       =3         BIT_LCD_ARAM_RDY_FLAG0                   = 8,
  103       =3         BIT_LCD_FRAME_END_FLAG0                  = 7,
  104       =3         BIT_LCD_TCH_DET_FLAG0                    = 6,
  105       =3         BIT_LCD_VSTART_FLAG0                     = 5,
  106       =3         BIT_LCD_VMID_FLAG0                               = 4,
  107       =3         BIT_LCD_VEND_FLAG0                               = 3,
  108       =3         BIT_LCD_VBLANK_FLAG0                     = 2,
  109       =3         BIT_LCD_RUN_FALL_FLAG0                   = 1,
  110       =3         BIT_LCD_RUN_RISE_FLAG0                   = 0,              
  111       =3 } ENUM_BIT_ASM_INT_FLAG0;
  112       =3 
  113       =3 /* ASM_INT_FLAG1 bit–≈œ¢RO      0x01*/
  114       =3 typedef enum
  115       =3 {                       
  116       =3         
  117       =3         BIT_LCD_STB_TICK_FLAG1                   = 11,
  118       =3         BIT_LCD_ODD_EVEN_FALL_FLAG1      = 10,
  119       =3         BIT_LCD_ODD_EVEN_RISE_FLAG1      = 9,
  120       =3         BIT_LCD_VDO_MODE_FALL_FLAG1      = 8,
  121       =3         BIT_LCD_VDO_MODE_RISE_FLAG1      = 7,  
  122       =3         BIT_LCD_IDLE_MODE_FALL_FLAG1     = 6,  
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 91  

  123       =3         BIT_LCD_IDLE_MODE_RISE_FLAG1     = 5,
  124       =3         BIT_LCD_3D_MODE_FALL_FLAG1               = 4,
  125       =3         BIT_LCD_3D_MODE_RISE_FLAG1               = 3,
  126       =3         BIT_LCD_RUN_FLAG1                                = 2,
  127       =3         BIT_LCD_DSTB_FLAG1                               = 1,
  128       =3 } ENUM_BIT_ASM_INT_FLAG1;
  129       =3 
  130       =3 /* ASM_INT_CLR0 bit–≈œ¢WO 0x02*/
  131       =3 typedef enum
  132       =3 {
  133       =3         BIT_LCD_BUSY_FALL_CLR0                  = 15,
  134       =3         BIT_LCD_BUSY_RISE_CLR0                  = 14,
  135       =3         BIT_LCD_PANEL_CONFLICT_CLR0     = 13,
  136       =3         BIT_LCD_DSTB_FAIL_CLR0                  = 12,
  137       =3         BIT_LCD_DSTB_RISE_CLR0                  = 11,
  138       =3         BIT_LCD_SYNC_MISS_FALL_CLR0     = 10,
  139       =3         BIT_LCD_SYNC_MISS_RISE_CLR0     = 9,
  140       =3         BIT_LCD_ARAM_RDY_CLR0                   = 8,
  141       =3         BIT_LCD_FRAME_END_CLR0                  = 7,
  142       =3         BIT_LCD_TCH_DET_CLR0                    = 6,
  143       =3         BIT_LCD_VSTART_CLR0                     = 5,
  144       =3         BIT_LCD_VMID_CLR0                               = 4,
  145       =3         BIT_LCD_VEND_CLR0                               = 3,
  146       =3         BIT_LCD_VBLANK_CLR0                     = 2,
  147       =3         BIT_LCD_RUN_FALL_CLR0                   = 1,
  148       =3         BIT_LCD_RUN_RISE_CLR0                   = 0,            
  149       =3 } ENUM_BIT_ASM_INT_CLR0;
  150       =3 
  151       =3 /* ASM_INT_CLR1 bit–≈œ¢WO 0x03*/
  152       =3 typedef enum
  153       =3 {       
  154       =3         BIT_HW_MON_TIMEOUT_CLR1                 = 14,
  155       =3         BIT_LPF_MODE_EN_FALL_CLR1               = 13,
  156       =3         BIT_LPF_MODE_EN_RISE_CLR1               = 12,
  157       =3         BIT_LCD_STB_TICK_CLR1                   = 11,    
  158       =3         BIT_LCD_ODD_EVEN_FALL_CLR1              = 10,
  159       =3         BIT_LCD_ODD_EVEN_RISE_CLR1              = 9,
  160       =3         BIT_LCD_VDO_MODE_FALL_CLR1              = 8,
  161       =3         BIT_LCD_VDO_MODE_RISE_CLR1              = 7,  
  162       =3         BIT_LCD_IDLE_MODE_FALL_CLR1     = 6,  
  163       =3         BIT_LCD_IDLE_MODE_RISE_CLR1     = 5,
  164       =3         BIT_LCD_3D_MODE_FALL_CLR1               = 4,
  165       =3         BIT_LCD_3D_MODE_RISE_CLR1               = 3,
  166       =3         BIT_LCD_RUN_CLR1                                = 2,
  167       =3         BIT_LCD_DSTB_CLR1                               = 1,   
  168       =3 } ENUM_BIT_ASM_INT_CLR1;
  169       =3 
  170       =3 /* ASM_INT_EN0 bit–≈œ¢0x04 */
  171       =3 typedef enum
  172       =3 {
  173       =3         BIT_LCD_BUSY_FALL_EN0              = 15,
  174       =3         BIT_LCD_BUSY_RISE_EN0              = 14,
  175       =3         BIT_LCD_PANEL_CONFLICT_EN0         = 13,
  176       =3         BIT_LCD_DSTB_FAIL_EN0              = 12,
  177       =3         BIT_LCD_DSTB_RISE_EN0              = 11,
  178       =3         BIT_LCD_SYNC_MISS_FALL_EN0         = 10,
  179       =3         BIT_LCD_SYNC_MISS_RISE_EN0         = 9,
  180       =3         BIT_LCD_ARAM_RDY_EN0               = 8,
  181       =3         BIT_LCD_FRAME_END_EN0              = 7,
  182       =3         BIT_LCD_TCH_DET_EN0                = 6,
  183       =3         BIT_LCD_VSTART_EN0                         = 5,
  184       =3         BIT_LCD_VMID_EN0                           = 4,
  185       =3         BIT_LCD_VEND_EN0                           = 3,
  186       =3         BIT_LCD_VBLANK_EN0                         = 2,
  187       =3         BIT_LCD_RUN_FALL_EN0               = 1,
  188       =3         BIT_LCD_RUN_RISE_EN0               = 0,            
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 92  

  189       =3 } ENUM_BIT_ASM_INT_EN0;
  190       =3 
  191       =3 /* ASM_INT_EN1 bit–≈œ¢0x05 */
  192       =3 typedef enum
  193       =3 {
  194       =3         BIT_HW_MON_TIMEOUT_EN1             = 14,
  195       =3         BIT_LCD_LPF_MODE_EN_FALL_EN1   = 13,
  196       =3         BIT_LCD_LPF_MODE_EN_RISE_EN1   = 12,
  197       =3         BIT_LCD_STB_TICK_EN1               = 11,   
  198       =3         BIT_LCD_ODD_EVEN_FALL_EN1          = 10,
  199       =3         BIT_LCD_ODD_EVEN_RISE_EN1          = 9,
  200       =3         BIT_LCD_VDO_MODE_FALL_EN1          = 8,
  201       =3         BIT_LCD_VDO_MODE_RISE_EN1          = 7,  
  202       =3         BIT_LCD_IDLE_MODE_FALL_EN1         = 6,  
  203       =3         BIT_LCD_IDLE_MODE_RISE_EN1         = 5,
  204       =3         BIT_LCD_3D_MODE_FALL_EN1           = 4,
  205       =3         BIT_LCD_3D_MODE_RISE_EN1           = 3,
  206       =3         BIT_LCD_RUN_EN1                            = 2,
  207       =3         BIT_LCD_DSTB_EN1                           = 1,
  208       =3    
  209       =3 } ENUM_BIT_ASM_INT_EN1;
  210       =3 
  211       =3 /* ASM_INT_WAKE_EN0 bit–≈œ¢  06 */
  212       =3 typedef enum
  213       =3 {
  214       =3         BIT_LCD_BUSY_FALL_WAKE_EN0                      = 15,
  215       =3         BIT_LCD_BUSY_RISE_WAKE_EN0                      = 14,
  216       =3         BIT_LCD_PANEL_CONFLICT_WAKE_EN0         = 13,
  217       =3         BIT_LCD_DSTB_FAIL_WAKE_EN0                      = 12,
  218       =3         BIT_LCD_DSTB_RISE_WAKE_EN0                      = 11,
  219       =3         BIT_LCD_SYNC_MISS_FALL_WAKE_EN0         = 10,
  220       =3         BIT_LCD_SYNC_MISS_RISE_WAKE_EN0         = 9,
  221       =3         BIT_LCD_ARAM_RDY_WAKE_EN0                       = 8,
  222       =3         BIT_LCD_FRAME_END_WAKE_EN0                      = 7,
  223       =3         BIT_LCD_TCH_DET_WAKE_EN0                        = 6,
  224       =3         BIT_LCD_VSTART_WAKE_EN0                         = 5,
  225       =3         BIT_LCD_VMID_WAKE_EN0                           = 4,
  226       =3         BIT_LCD_VEND_WAKE_EN0                           = 3,
  227       =3         BIT_LCD_VBLANK_WAKE_EN0                         = 2,
  228       =3         BIT_LCD_RUN_FALL_WAKE_EN0                       = 1,
  229       =3         BIT_LCD_RUN_RISE_WAKE_EN0                       = 0,                      
  230       =3 } ENUM_BIT_ASM_WAKE_EN0 ;
  231       =3 
  232       =3 /* ASM_INT_WAKE_EN1 bit–≈œ¢  07 */
  233       =3 typedef enum
  234       =3 {
  235       =3         BIT_HW_MON_TIMEOUT_WAKE_EN1             = 14,
  236       =3         BIT_LCD_LPF_MODE_EN_FALL_WAKE_EN1       = 13,
  237       =3         BIT_LCD_LPF_MODE_EN_RISE_WAKE_EN1       = 12,
  238       =3         BIT_LCD_STB_TICK_WAKE_EN1                       = 11, 
  239       =3         BIT_LCD_ODD_EVEN_FALL_WAKE_EN1          = 10,
  240       =3         BIT_LCD_ODD_EVEN_RISE_WAKE_EN1          = 9,
  241       =3         BIT_LCD_VDO_MODE_FALL_WAKE_EN1          = 8,
  242       =3         BIT_LCD_VDO_MODE_RISE_WAKE_EN1          = 7,  
  243       =3         BIT_LCD_IDLE_MODE_FALL_WAKE_EN1         = 6,  
  244       =3         BIT_LCD_IDLE_MODE_RISE_WAKE_EN1         = 5,
  245       =3         BIT_LCD_3D_MODE_FALL_WAKE_EN1           = 4,
  246       =3         BIT_LCD_3D_MODE_RISE_WAKE_EN1           = 3,
  247       =3 } ENUM_BIT_ASM_WAKE_EN1;
  248       =3 
  249       =3 /* ASM_INT_STA0 bit–≈œ¢  RO  08 */
  250       =3 typedef enum
  251       =3 {
  252       =3         BIT_LCD_BUSY_STA                                = 15,
  253       =3         BIT_LCD_PANEL_CONFLICT_STA              = 14,
  254       =3         BIT_LCD_DSTB_STA                                = 13,
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 93  

  255       =3         BIT_LCD_SYNC_MISS_STA                   = 12,
  256       =3         BIT_LCD_FRAME_END_STA                   = 11,
  257       =3         BIT_LCD_TCH_DET_STA                     = 10,
  258       =3         BIT_LCD_STB_TICK_STA                    = 9,
  259       =3         BIT_LCD_VSTART_STA                              = 8,
  260       =3         BIT_LCD_VMID_STA                                = 7,
  261       =3         BIT_LCD_VEND_STA                                = 6,
  262       =3         BIT_LCD_VBLANK_STA                              = 5,
  263       =3         BIT_LCD_ODD_EVEN_STA                    = 4,
  264       =3         BIT_LCD_VDO_MODE_STA                    = 3,
  265       =3         BIT_LCD_IDLE_MODE_STA                   = 2,
  266       =3         BIT_LCD_3D_MODE_STA                     = 1,
  267       =3         BIT_LCD_RUN_STA                                 = 0,
  268       =3 } ENUM_BIT_ASM_INT_STA0;
  269       =3 
  270       =3 /*******************************************************************************
  271       =3 * 4.Global variable extern declarations
  272       =3 *******************************************************************************/
  273       =3 extern ST_AsmRegisters * XRAM pAsmRegs;
  274       =3 /*******************************************************************************
  275       =3 * 5.Global function prototypes
  276       =3 ********************************************************************************/
  277       =3 void Afe_120Hz_Run(void);
  278       =3 void DrvAsmInterEnable0(UINT16 usInterMode);
  279       =3 void DrvAsmAramAvail(void);
  280       =3 void DrvAsmScanStart(void);
  281       =3 void DrvAsmInterEnable1(UINT16 usInterMode);
  282       =3 
  283       =3 #endif
  284       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_LED.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-06-06
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_LED__
   19       =3 #define __TEST_LED__
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_LED.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
   24       =3 *   Created: 2014-06-06
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 94  

   24       =3 *
   24       =3 * Version:
   24       =3 * 0.1:
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_LED__
   24       =3 #define __TEST_LED__
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_LED_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_LED(void);
            =3 #else
   44       =3 #define Test_LED  /##/
   45       =3 #endif
   46       =3 
   47       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_LED.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-06-06
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_XBUS__
   19       =3 #define __TEST_XBUS__
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_LED.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 95  

   24       =3 *   Created: 2014-06-06
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
   24       =3 *
   24       =3 * Version:
   24       =3 * 0.1:
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_XBUS__
   24       =3 #define __TEST_XBUS__
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_XBUS_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_Xbus(void);
            =3 #else
   44       =3 #define Test_Xbus  /##/
   45       =3 #endif
   46       =3 
   47       =3 #endif
   48       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_RomEcc.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-18
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_ROMECC__
   19       =3 #define __TEST_ROMECC__
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 96  

   24       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_RomEcc.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
   24       =3 *   Created: 2014-04-18
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
   24       =3 *
   24       =3 * Version:
   24       =3 * 0.1:
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_ROMECC__
   24       =3 #define __TEST_ROMECC__
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_ROMECC_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_RomEcc(void);
            =3 #else
   45       =3 #define Test_RomEcc  /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif
   49       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_UART.h
    5       =3 *
    6       =3 *    Author: 
    7       =3 *
    8       =3 *   Created: 2014-05-15
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *   Version:
   15       =3 *******************************************************************************/
   16       =3 #ifndef __TEST_UART_H__
   17       =3 #define __TEST_UART_H__
   18       =3 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 97  

   19       =3 /*******************************************************************************
   20       =3 * 1.Included files
   21       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   22       =3 /*******************************************************************************
   22       =3 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =3 *
   22       =3 * File Name: Test_UART.h
   22       =3 *
   22       =3 *    Author: 
   22       =3 *
   22       =3 *   Created: 2014-05-15
   22       =3 *
   22       =3 *  Abstract:
   22       =3 *
   22       =3 * Reference:
   22       =3 *
   22       =3 *   Version:
   22       =3 *******************************************************************************/
   22       =3 #ifndef __TEST_UART_H__
   22       =3 #define __TEST_UART_H__
   22       =3 
   22       =3 /*******************************************************************************
   22       =3 * 1.Included files
   22       =3 *******************************************************************************/
   22       =3 #include "CfgGlobal.h"
   23       =3 
   24       =3 #if _TEST_UART_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_UART(void);
            =3 #else
   42       =3 #define  Test_UART   /##/
   43       =3 #endif
   44       =3 
   45       =3 #endif
   46       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_RTC.h
    5       =3 *
    6       =3 *    Author: xinkunpeng
    7       =3 *
    8       =3 *   Created: 2014-04-18
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 * Version:
   15       =3 * 0.1:
   16       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 98  

   17       =3 *******************************************************************************/
   18       =3 #ifndef __TEST_SOFT_RST__
   19       =3 #define __TEST_SOFT_RST__
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_RTC.h
   24       =3 *
   24       =3 *    Author: xinkunpeng
   24       =3 *
   24       =3 *   Created: 2014-04-18
   24       =3 *
   24       =3 *  Abstract:
   24       =3 *
   24       =3 * Reference:
   24       =3 *
   24       =3 * Version:
   24       =3 * 0.1:
   24       =3 *
   24       =3 *******************************************************************************/
   24       =3 #ifndef __TEST_SOFT_RST__
   24       =3 #define __TEST_SOFT_RST__
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_SOFT_RST_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_SOFT_RST(void);
            =3 #else
   45       =3 #define Test_SOFT_RST  /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_spi0.h
    5       =3 *
    6       =3 *    Author: tangsujun
    7       =3 *
    8       =3 *   Created: 2017-02-06
    9       =3 *
   10       =3 *  Abstract: 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 99  

   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_SPI0_H__
   16       =3 #define _TEST_SPI0_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_spi0.h
   21       =3 *
   21       =3 *    Author: tangsujun
   21       =3 *
   21       =3 *   Created: 2017-02-06
   21       =3 *
   21       =3 *  Abstract: 
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_SPI0_H__
   21       =3 #define _TEST_SPI0_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 /*******************************************************************************
   24       =3 * Global constant and macro definitions using #define
   25       =3 *******************************************************************************/
   26       =3 #if _TEST_SPI0_EN
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_SPI0(void);
            =3 void SPI0_Init(void);
            =3 
            =3 #else
   42       =3 #define Test_SPI0(void) /##/
   43       =3 #define SPI0_Init(void)   /##/
   44       =3 #endif
   45       =3 
   46       =3 #endif
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_spi0_wakeup.h
    5       =3 *
    6       =3 *    Author: tangsujun
    7       =3 *
    8       =3 *   Created: 2017-03-10
    9       =3 *
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 100 

   10       =3 *  Abstract: 
   11       =3 *
   12       =3 * Reference: test spi0 wake up introduction:
   13       =3 *            g_ucTestCmd :  0x01 : idle wake up
   14       =3 *                           0x02 : standby wake up
   15       =3 *                           0x03 : stop wake up
   16       =3 *******************************************************************************/
   17       =3 #ifndef TEST_SPI0_WAKEUP_H__
   18       =3 #define TEST_SPI0_WAKEUP_H__
   19       =3 
   20       =3 
   21       =3 /*******************************************************************************
   22       =3 * 1.Included files
   23       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   24       =3 /*******************************************************************************
   24       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   24       =3 *
   24       =3 * File Name: Test_spi0_wakeup.h
   24       =3 *
   24       =3 *    Author: tangsujun
   24       =3 *
   24       =3 *   Created: 2017-03-10
   24       =3 *
   24       =3 *  Abstract: 
   24       =3 *
   24       =3 * Reference: test spi0 wake up introduction:
   24       =3 *            g_ucTestCmd :  0x01 : idle wake up
   24       =3 *                           0x02 : standby wake up
   24       =3 *                           0x03 : stop wake up
   24       =3 *******************************************************************************/
   24       =3 #ifndef TEST_SPI0_WAKEUP_H__
   24       =3 #define TEST_SPI0_WAKEUP_H__
   24       =3 
   24       =3 
   24       =3 /*******************************************************************************
   24       =3 * 1.Included files
   24       =3 *******************************************************************************/
   24       =3 #include "CfgGlobal.h"
   25       =3 
   26       =3 #if _TEST_SPI0_WK_EN
            =3 
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_SPI0_Wakeup(void);
            =3 #else
   45       =3 #define Test_SPI0_Wakeup  /##/
   46       =3 #endif
   47       =3 
   48       =3 #endif
   49       =3 
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 101 

    3       =3 *
    4       =3 * File Name: Test_spi0_dma.h
    5       =3 *
    6       =3 *    Author: tangsujun
    7       =3 *
    8       =3 *   Created: 2017-03-03
    9       =3 *
   10       =3 *  Abstract: 
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef _TEST_SPI0_DMA_H__
   16       =3 #define _TEST_SPI0_DMA_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   21       =3 *
   21       =3 * File Name: Test_spi0_dma.h
   21       =3 *
   21       =3 *    Author: tangsujun
   21       =3 *
   21       =3 *   Created: 2017-03-03
   21       =3 *
   21       =3 *  Abstract: 
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef _TEST_SPI0_DMA_H__
   21       =3 #define _TEST_SPI0_DMA_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 /*******************************************************************************
   24       =3 * Global constant and macro definitions using #define
   25       =3 *******************************************************************************/
   26       =3 #if _TEST_SPI0_DMA_EN
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 /*DMA_SRCR REG*/
            =3 #define BIT_DMA_NOT_FINISH_FLAG      BITn(11) /*cs¿≠∏ﬂ ±£¨dma√ª”–ÕÍ≥……Ë÷√DMA ˝æ›∞¸ ˝æ›¥´ ‰£¨ª·÷√1,–Ë“™»Ìº
             -˛«Â0*/
            =3 #define BIT_DMA_TIMEOUT_FLAG         BITn(10) /*dma ˝æ›¥´ ‰ ±∑¢…˙timeout,ª·÷√1,–Ë“™»Ìº˛«Â0.÷ª∞¸¿®’º”√◊‹œﬂ
             - ±,≤ª∞¸¿®¥´ ‰CRC ±º‰*/
            =3 #define BIT_DMA_SCK_OVERTRANS_FLAG   BITn(9) /*DMA ˝æ›∞¸¥´ ‰Ω· ¯∫ÛhostºÃ–¯∑¢ÀÕsck£¨ª·÷√1£¨–Ë“™»Ìº˛«Â0*/
            =3 #define BIT_DMA_CRC_ERROR_FLAG       BITn(8) /*µ±¥¶”⁄dma–¥ƒ£ Ω ±£¨µ±Ω” ’µΩ ˝æ›º∆À„≥ˆµƒcrc”ÎΩ” ’µΩµƒcrc≤ª“
             -ª÷¬ ±£¨÷√1£¨»Ìº˛«Â0*/
            =3 
            =3 #define BIT_DMA_NOT_FINISH_CLR       BITn(3) /*–¥1«Âdma_not_finish_flag*/
            =3 #define BIT_DMA_TIMEOUT_CLR          BITn(2) /*–¥1«Âdma_timeout_flag*/
            =3 #define BIT_DMA_SCK_OVERTRANS_CLR    BITn(1)  /*–¥1«Âdma_sck_overtrans_flag*/
            =3 #define BIT_DMA_CRC_ERROR_CLR        BITn(0)  /*–¥1«Âdma_crc_error_flag*/
            =3 /*DMA_CTRL REG*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 102 

            =3 
            =3 #define BIT_DMA_TIMEOUT_EN           BITn(6)  /*timeoutπ¶ƒ‹ πƒ‹:0:disable;1:enable*/
            =3 #define BIT_DMA_TRANS_ERR_EN         BITn(5)  /*timeroutªÚdmaΩ· ¯∫ÛhostºÃ–¯∑¢ÀÕsck «∑Ò“™∑¢ÀÕdma_err_dat.0
             -:≤ª∑¢ÀÕ;1:∑¢ÀÕ*/
            =3 #define BIT_DMA_CRC_EN               BITn(4)  /*dmaΩ” ’/∑¢ÀÕ ˝æ› «∑Ò–Ë“™Ω” ’/∑¢ÀÕcrc. 0: no crc;1:crc*/
            =3 #define BIT_DMA_RW                   BITn(3)  /*dma∂‘ramΩ¯––∂¡≤Ÿ◊˜ªπ «–¥≤Ÿ◊˜.0:∂¡;1:–¥*/
            =3 //#define BIT_DMA_RAM_SEL              (BITn(2)|BITn(1))  /*dma∑√Œ µƒram—°‘Ò. 2'b00:aram;2'b01:dram;2'b1x
             -:pram*/
            =3 #define BIT_DMA_EN                   BITn(0)  /*dmaπ¶ƒ‹ πƒ‹hw auto clr after exit dma. 0:disbale;1:enable
             -*/
            =3 
            =3 
            =3 /*DMA_ERR_TIMEOUT_CTRL REG*/
            =3 #define BIT_DMA_TIMEOUT_NUM          BITn(8) /*dma timeout ±º‰…Ë÷√,“‘32k ±÷”Œ™µ•Œª*/
            =3 #define BIT_DMA_ERR_DAT              BITn(0) /*err byte:µ±timeoutªÚ’ﬂdmaΩ· ¯∫Û£¨»Áπ˚hostºÃ–¯∑¢ÀÕsck£¨spi0
             -œÚhost∑¢ÀÕerror byte*/
            =3 
            =3 /*DMA_ADDR_H REG*/
            =3 #define BIT_DMA_START_ADDR_H         BITn(8) /*dmaµƒ∆ ºµÿ÷∑[16]*/
            =3 #define BIT_DMA_END_ADDR_H           BITn(0) /*dmaµƒΩ· ¯µÿ÷∑[16]*/
            =3 
            =3 /*DMA_START_ADDR_L REG*/
            =3 #define BIT_DMA_START_ADDR_L         BITn(0) /*dmaµƒ∆ ºµÿ÷∑[15:0]*/
            =3 
            =3 /*DMA_END_ADDR_L REG*/
            =3 #define BIT_DMA_END_ADDR_L           BITn(0) /*dmaµƒΩ· ¯µÿ÷∑[15:0]*/
            =3 
            =3 /*DMA_CRC REG*/
            =3 #define BIT_DMA_CRC                  BITn(0) /*dma¥´ ‰ ˝æ›µƒcrc÷µ*/
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 void SPI0_DMA_Init(void);
            =3 void SPI0_DMA_ClrStatus(void);
            =3 void SPI0_DMA_Wait_Done(void);
            =3 void SPI0_DMA_SetAddr(UINT32 start_addr,UINT32 len,UINT16 mem_sel);
            =3 void SPI0_DMA_Enable(UINT8 time_out,UINT8 reg);
            =3 void Test_DMA(void);
            =3 #else
   80       =3 #define SPI0_DMA_Init       /##/
   81       =3 #define SPI0_DMA_ClrStatus  /##/
   82       =3 #define SPI0_DMA_Wait_Done  /##/
   83       =3 #define SPI0_DMA_SetAddr    /##/
   84       =3 #define SPI0_DMA_Enable     /##/
   85       =3 #define Test_DMA            /##/
   86       =3 
   87       =3 #endif
   88       =3 
   89       =3 #endif
    1       =3 /*
    2       =3  * Library: libcrc
    3       =3  * File:    include/checksum.h
    4       =3  * Author:  Lammert Bies
    5       =3  *
    6       =3  * This file is licensed under the MIT License as stated below
    7       =3  *
    8       =3  * Copyright (c) 1999-2016 Lammert Bies
    9       =3  *
   10       =3  * Permission is hereby granted, free of charge, to any person obtaining a copy
   11       =3  * of this software and associated documentation files (the "Software"), to deal
   12       =3  * in the Software without restriction, including without limitation the rights
   13       =3  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   14       =3  * copies of the Software, and to permit persons to whom the Software is
   15       =3  * furnished to do so, subject to the following conditions:
   16       =3  *
   17       =3  * The above copyright notice and this permission notice shall be included in all
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 103 

   18       =3  * copies or substantial portions of the Software.
   19       =3  * 
   20       =3  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   21       =3  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   22       =3  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   23       =3  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   24       =3  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   25       =3  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   26       =3  * SOFTWARE.
   27       =3  *
   28       =3  * Description
   29       =3  * -----------
   30       =3  * The headerfile include/checksum.h contains the definitions and prototypes
   31       =3  * for routines that can be used to calculate several kinds of checksums.
   32       =3  */
   33       =3 
   34       =3 #ifndef DEF_LIBCRC_CHECKSUM_H
   35       =3 #define DEF_LIBCRC_CHECKSUM_H
   36       =3 
   37       =3 #include <stdio.h>
    1       =4 /*--------------------------------------------------------------------------
    2       =4 STDIO.H
    3       =4 
    4       =4 Prototypes for standard I/O functions for C251 Version 3.
    5       =4 Copyright (c) 1995-2001 Keil Elektronik GmbH and Keil Software, Inc.
    6       =4 All rights reserved.
    7       =4 --------------------------------------------------------------------------*/
    8       =4 
    9       =4 #pragma SAVE
   10       =4 #pragma PARM251
   11       =4 
   12       =4 #ifndef EOF
            =4  #define EOF -1
            =4 #endif
   15       =4 
   16       =4 #ifndef NULL
            =4  #define NULL ((void *) 0)
            =4 #endif
   19       =4 
   20       =4 #ifndef _SIZE_T
            =4  #define _SIZE_T
            =4  typedef unsigned int size_t;
            =4 #endif
   24       =4 
   25       =4 #if (__C251__ >= 200) 
   26       =4 #pragma SAVE
   27       =4 #pragma FUNCTIONS(STATIC)
   28       =4 /* only static functions available */
   29       =4 extern char _getkey  (void);
   30       =4 extern char getchar  (void);
   31       =4 extern char ungetchar(char);
   32       =4 extern char putchar  (char);
   33       =4 extern int  printf   (const char *, ...); 
   34       =4 extern char *gets    (char *, int n);
   35       =4 extern int  scanf    (const char *, ...);
   36       =4 extern int  vprintf  (const char *, char *);
   37       =4 extern int  puts     (const char *);
   38       =4 #pragma RESTORE
   39       =4 /* available as reentrant & non-reentrant version */
   40       =4 extern int  sprintf  (char *, const char *, ...);
   41       =4 extern int  vsprintf (char *, const char *, char *);
   42       =4 extern int  sscanf   (char *, const char *, ...);
   43       =4 #else
            =4 extern char _getkey (void);
            =4 extern char getchar (void);
            =4 extern char ungetchar (char);
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 104 

            =4 extern char putchar (char);
            =4 extern int printf   (const char *, ...);
            =4 extern int sprintf  (char *, const char *, ...);
            =4 extern int vprintf  (const char *, char *);
            =4 extern int vsprintf (char *, const char *, char *);
            =4 extern char *gets (char *, int n);
            =4 extern int scanf (const char *, ...);
            =4 extern int sscanf (char *, const char *, ...);
            =4 extern int puts (const char *);
            =4 #endif
   57       =4 
   58       =4 #pragma RESTORE
   38       =3 #include "CfgGlobal.h"
   38       =3 /*
   38       =3  * Library: libcrc
   38       =3  * File:    include/checksum.h
   38       =3  * Author:  Lammert Bies
   38       =3  *
   38       =3  * This file is licensed under the MIT License as stated below
   38       =3  *
   38       =3  * Copyright (c) 1999-2016 Lammert Bies
   38       =3  *
   38       =3  * Permission is hereby granted, free of charge, to any person obtaining a copy
   38       =3  * of this software and associated documentation files (the "Software"), to deal
   38       =3  * in the Software without restriction, including without limitation the rights
   38       =3  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   38       =3  * copies of the Software, and to permit persons to whom the Software is
   38       =3  * furnished to do so, subject to the following conditions:
   38       =3  *
   38       =3  * The above copyright notice and this permission notice shall be included in all
   38       =3  * copies or substantial portions of the Software.
   38       =3  * 
   38       =3  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   38       =3  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   38       =3  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   38       =3  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   38       =3  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   38       =3  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   38       =3  * SOFTWARE.
   38       =3  *
   38       =3  * Description
   38       =3  * -----------
   38       =3  * The headerfile include/checksum.h contains the definitions and prototypes
   38       =3  * for routines that can be used to calculate several kinds of checksums.
   38       =3  */
   38       =3 
   38       =3 #ifndef DEF_LIBCRC_CHECKSUM_H
   38       =3 #define DEF_LIBCRC_CHECKSUM_H
   38       =3 
   38       =3 #include <stdio.h>
   38       =3 #include "CfgGlobal.h"
   39       =3 /*
   40       =3  * #define CRC_POLY_xxxx
   41       =3  *
   42       =3  * The constants of the form CRC_POLY_xxxx define the polynomials for some well
   43       =3  * known CRC calculations.
   44       =3  */
   45       =3 
   46       =3 #define         CRC_POLY_16             0xA001
   47       =3 #define         CRC_POLY_32             0xEDB88320L
   48       =3 #define         CRC_POLY_CCITT          0x1021
   49       =3 #define         CRC_POLY_DNP            0xA6BC
   50       =3 #define         CRC_POLY_KERMIT         0x8408
   51       =3 #define         CRC_POLY_SICK           0x8005
   52       =3 
   53       =3 /*
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 105 

   54       =3  * #define CRC_START_xxxx
   55       =3  *
   56       =3  * The constants of the form CRC_START_xxxx define the values that are used for
   57       =3  * initialization of a CRC value for common used calculation methods.
   58       =3  */
   59       =3 
   60       =3 #define         CRC_START_8             0x00
   61       =3 #define         CRC_START_16            0x0000
   62       =3 #define         CRC_START_MODBUS        0xFFFF
   63       =3 #define         CRC_START_XMODEM        0x0000
   64       =3 #define         CRC_START_CCITT_1D0F    0x1D0F
   65       =3 #define         CRC_START_CCITT_FFFF    0xFFFF
   66       =3 #define         CRC_START_KERMIT        0xFFFF//0x0000
   67       =3 #define         CRC_START_SICK          0x0000
   68       =3 #define         CRC_START_DNP           0x0000
   69       =3 #define         CRC_START_32            0xFFFFFFFFL
   70       =3 
   71       =3 /*
   72       =3  * Prototype list of global functions
   73       =3  */
   74       =3 #if 0
            =3 unsigned char *         checksum_NMEA(     const unsigned char *input_str, unsigned char *result  );
            =3 unsigned char                   crc_8(             const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_16(            const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned long           crc_32(            const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_ccitt_1d0f(    const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_ccitt_ffff(    const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_dnp(           const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_kermit(        const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_modbus(        const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_sick(          const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned short          crc_xmodem(        const unsigned char *input_str, size_t num_bytes       );
            =3 unsigned char                   update_crc_8(      unsigned char  crc, unsigned char c                          );
            =3 unsigned short          update_crc_16(     unsigned short crc, unsigned char c                          );
            =3 unsigned long           update_crc_32(     unsigned long crc, unsigned char c                          );
            =3 unsigned short          update_crc_ccitt(  unsigned short crc, unsigned char c                          );
            =3 unsigned short          update_crc_dnp(    unsigned short crc, unsigned char c                          );
            =3 unsigned short          update_crc_kermit( unsigned short crc, unsigned char c                          );
            =3 unsigned short          update_crc_sick(   unsigned short crc, unsigned char c, unsigned char prev_byte );
            =3 #endif  
   94       =3 unsigned short          crc_kermit(const unsigned char *input_str, unsigned short num_bytes);
   95       =3 unsigned short          update_crc_kermit(unsigned short crc, unsigned char c );
   96       =3 #endif  // DEF_LIBCRC_CHECKSUM_H
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: Test_DebugOut.h
    5       =3 *
    6       =3 *    Author: 
    7       =3 *
    8       =3 *   Created: 2017-04-18
    9       =3 *
   10       =3 *  Abstract:
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 #ifndef __TEST_DEBUG_OUT_H__
   16       =3 #define __TEST_DEBUG_OUT_H__
   17       =3 
   18       =3 /*******************************************************************************
   19       =3 * 1.Included files
   20       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   21       =3 /*******************************************************************************
   21       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 106 

   21       =3 *
   21       =3 * File Name: Test_DebugOut.h
   21       =3 *
   21       =3 *    Author: 
   21       =3 *
   21       =3 *   Created: 2017-04-18
   21       =3 *
   21       =3 *  Abstract:
   21       =3 *
   21       =3 * Reference:
   21       =3 *
   21       =3 *******************************************************************************/
   21       =3 #ifndef __TEST_DEBUG_OUT_H__
   21       =3 #define __TEST_DEBUG_OUT_H__
   21       =3 
   21       =3 /*******************************************************************************
   21       =3 * 1.Included files
   21       =3 *******************************************************************************/
   21       =3 #include "CfgGlobal.h"
   22       =3 
   23       =3 #if _TEST_DEBUGOUT_EN
            =3 /*******************************************************************************
            =3 * 2.Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 3.Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 4.Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * 5.Global function prototypes
            =3 *******************************************************************************/
            =3 void Test_DebugOut(void);
            =3 #else
   41       =3 
   42       =3 #define Test_DebugOut() /##/
   43       =3 #endif
   44       =3 
   45       =3 #endif
   46       =3 
   24       =1 #include "FT8836_Reg.h"
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: FT8836_Reg.h
    5       =2 *
    6       =2 *    Author: 
    7       =2 *
    8       =2 *   Created: 2016-07-11
    9       =2 *
   10       =2 *  Abstract: Define FT8836 Sram registers and their bits
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 
   16       =2 #ifndef _FT8836_REG_H_
            =2 #define _FT8836_REG_H_
            =2 
            =2 /* Conditional Compiler Options */
            =2 
            =2 /*******************************************************************************
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 107 

            =2 * Included files
            =2 *******************************************************************************/
            =2 #include "FT8836.h"
            =2 
            =2 /*******************************************************************************
            =2 * Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 #define ARAM_DATA_BASE_ADDR              0xA000
            =2 #define SPI1_REG_BASE_ADDR               0xB220
            =2 /* SPI0 reg Start Addr */
            =2 #define SPI0_REG_BASE_ADDR               0xB200
            =2 
            =2 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
            =2 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
            =2 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
            =2 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
            =2 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
            =2 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
            =2 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
            =2 /* XSI reg øÿ÷∆«¯ */
            =2 
            =2 /* XSI0 reg start addr */
            =2 #define XSI0_REG_BASE_ADDR     0xB400
            =2 
            =2 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
            =2 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
            =2 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
            =2 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
            =2 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
            =2 
            =2 /* XSI1 reg start addr */
            =2 #define XSI1_REG_BASE_ADDR     0xB800
            =2 
            =2 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
            =2 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
            =2 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
            =2 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
            =2 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
            =2 
            =2 /* XBUS reg start addr */
            =2 #define XBUS_REG_BASE_ADDR     0xBC00
            =2 
            =2 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
            =2 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
            =2 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
            =2 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
            =2 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
            =2 
            =2 /* reload dma base addr */
            =2 //#define RELOAD_DMA_START_ADDR  0x9D00
            =2 /******************************************************************************/
            =2 /******************************************************************************/
            =2 /* CAL reg Start Addr */
            =2 #define CAL_REG_BASE_ADDR       0xB000
            =2 
            =2 /* ASM reg Start Addr */
            =2 #define ASM_REG_BASE_ADDR       0xB100
            =2 
            =2 
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 /*************************************************************/
            =2 /* XSI reg */
            =2 typedef struct
            =2 {
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 108 

            =2     UINT16 Wdata;        // (0x00<<1)
            =2     UINT16 Rdata;        // (0x01<<1)
            =2     UINT16 Clksel;       // (0x02<<1)
            =2     UINT16 Stop;         // (0x03<<1)
            =2     UINT16 Tx_int;       // (0x04<<1)
            =2 } ST_XSIRegisters;
            =2 
            =2 typedef union
            =2 {
            =2     ST_XSIRegisters reg;
            =2     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
            =2 } Union_XSIReg;
            =2 
            =2 /*************************************************************/
            =2 // cal
            =2 typedef struct
            =2 {
            =2     UINT16 rCmd;           // (0x00<<1)
            =2     UINT16 rDmaLen;        // (0x01<<1)
            =2     UINT16 rS1Addr;        // (0x02<<1)
            =2     UINT16 rS2Addr;        // (0x03<<1)
            =2     UINT16 rOutAddr;       // (0x04<<1)
            =2     UINT16 rPar;           // (0x05<<1)
            =2     UINT16 rSize;          // (0x06<<1)
            =2     UINT16 rPThd;          // (0x07<<1)
            =2     UINT16 rNThd;          // (0x08<<1)
            =2     UINT16 rAThd;          // (0x09<<1)
            =2     UINT16 rDmask;         // (0x0A<<1)
            =2     UINT16 rPaCnt;         // (0x0B<<1)
            =2     UINT16 rNaCnt;         // (0x0C<<1)
            =2     UINT16 rPsCnt;         // (0x0D<<1)
            =2     UINT16 rNsCnt;         // (0x0E<<1)
            =2     UINT16 rMaxV;          // (0x0F<<1)
            =2     UINT16 rMaxPos;        // (0x10<<1)
            =2     UINT16 rMinV;          // (0x11<<1)
            =2     UINT16 rMinPos;        // (0x12<<1)
            =2     UINT16 rID0;           // (0x13<<1)
            =2     UINT16 rID1;           // (0x14<<1)
            =2     UINT16 rID2;           // (0x15<<1)
            =2     UINT16 rCrc;           // (0x16<<1)
            =2     UINT16 rChk;           // (0x17<<1)
            =2     UINT16 rNaThd;         // (0x18<<1)
            =2     UINT16 rTxRxNum;       // (0x19<<1)
            =2     UINT16 rDivShift;      // (0x1a<<1)
            =2     UINT16 rSubabsMax;     // (0x1b<<1)
            =2     UINT16 rInt;           // (0x1c<<1)
            =2     UINT16 rCntNum;        // (0x1d<<1)
            =2     UINT16 rDmaskA;        // (0x1e<<1)
            =2     UINT16 rTxRxNumAm;     // (0x1f<<1)
            =2     UINT16 rTxRxNumAs;     // (0x20<<1)
            =2     UINT16 rSizeAm;        // (0x21<<1)
            =2     UINT16 rSizeAs;        // (0x22<<1)
            =2     UINT16 rS1AddrA;       // (0x23<<1)
            =2     UINT16 rS2AddrA;       // (0x24<<1)
            =2     UINT16 rOutAddrA;      // (0x25<<1)
            =2     UINT16 rSel;           // (0x26<<1)
            =2 } ST_CalRegisters;
            =2 
            =2 typedef union
            =2 {
            =2     ST_CalRegisters reg;
            =2     UINT16 offset[sizeof(ST_CalRegisters)>>1];
            =2 } Union_CalReg;
            =2 
            =2 /*************************************************************/
            =2 /*XBUS reg*/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 109 

            =2 typedef struct
            =2 {  
            =2     UINT16 rdata_lo_byte;
            =2     UINT16 rdata_ho_byte;
            =2     UINT16 lcd_regfile_ctrl;
            =2     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
            =2     UINT16 xbus_rld_data;//reload_data
            =2 }ST_LcdWrapRegisters;
            =2 
            =2 typedef union
            =2 {
            =2     ST_LcdWrapRegisters reg;
            =2     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
            =2 }Union_LcdReg;
            =2 
            =2 /*************************************************************/
            =2 /*SPI0_DMA reg*/
            =2 typedef struct
            =2 {
            =2     UINT16 dma_ctrl;
            =2     UINT16 timeout_ctrl;
            =2     UINT16 addr_h;
            =2     UINT16 start_addr_l;
            =2     UINT16 end_addr_l;
            =2     UINT16 dma_crc;
            =2     UINT16 dma_srcr;
            =2     
            =2 }ST_Spi0DmaRegisters;
            =2 
            =2 /*SPI1_DMA reg*/
            =2 typedef struct
            =2 {
            =2     UINT16 dma_ctrl;
            =2     UINT16 timeout_ctrl;
            =2     UINT16 addr_h;
            =2     UINT16 start_addr_l;
            =2     UINT16 end_addr_l;
            =2     UINT16 dma_crc;
            =2     UINT16 dma_srcr;
            =2     
            =2 }ST_Spi1DmaRegisters;
            =2 
            =2 typedef union
            =2 {
            =2     ST_Spi0DmaRegisters reg;
            =2     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
            =2 }Union_Spi0Reg;
            =2 
            =2 /*************************************************************/
            =2 /* ASM reg */
            =2 typedef struct
            =2 {
            =2     UINT16 usAsmIntFlag0;         // 00  RO
            =2     UINT16 usAsmIntFlag1;         // 01  RO
            =2     UINT16 usAsmIntClr0;          // 02  WO
            =2     UINT16 usAsmIntClr1;          // 03  WO
            =2     UINT16 usAsmIntEn0;           // 04
            =2     UINT16 usAsmIntEn1;           // 05
            =2     UINT16 usAsmIntWakeEn0;       // 06
            =2     UINT16 usAsmIntWakeEn1;       // 07
            =2     UINT16 usAsmIntSta;           // 08  RO
            =2     UINT16 usAsmScanSta0;         // 09  RO
            =2     UINT16 usAsmScanSta1;         // 10  RO
            =2     UINT16 usAsmScanSta2;         // 11  RO
            =2     UINT16 usAsmScanSta3;         // 12  RO
            =2     UINT16 usAsmScanCtrl;         // 13  WO
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 110 

            =2     UINT16 usAsmScanCfg0;         // 14
            =2     UINT16 usAsmScanCfg1;         // 15
            =2     UINT16 usAsmTpFrameCfg0;      // 16
            =2     UINT16 usAsmTpFrameCfg1;      // 17
            =2     UINT16 usAsmTpFrameCfg2;      // 18
            =2     UINT16 usAsmTpFrameCfg3;      // 19
            =2     UINT16 usAsmScanDly;          // 20
            =2     UINT16 usAsmStbMaseL;         // 21
            =2     UINT16 usAsmStbMaseH;         // 22  
            =2     UINT16 usAsmAramBaseL;        // 23
            =2     UINT16 usAsmAramBaseR;        // 24
            =2     UINT16 usAsmAramBaseKey;      // 25    
            =2     UINT16 usAsmAramCBL;          // 26
            =2     UINT16 usAsmAramCBR;          // 27
            =2     UINT16 usAsmAramCBKey;        // 28
            =2     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
            =2     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
            =2     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
            =2     UINT16 usAsmHwMonCrtl0;       // 32
            =2     UINT16 usAsmHwMonCtrl1;       // 33
            =2     UINT16 usAsmHwMonCfg0;        // 34
            =2     UINT16 usAsmHwMonCfg1;        // 35
            =2     UINT16 usAsmHwMonCfg2;        // 36
            =2     UINT16 usAsmHwMonCfg3;        // 37
            =2     UINT16 usAsmHwMonCfg4;        // 38
            =2     UINT16 usAsmHwMonTimer;       // 39
            =2     UINT16 usAsmVreshCfgLcdon;    // 40
            =2 } ST_AsmRegisters;
            =2 
            =2 typedef union
            =2 {
            =2     ST_AsmRegisters reg;
            =2     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
            =2 } Union_AsmReg;
            =2 
            =2 
            =2 /*******************************************************************************/
            =2 /* AFE reg */
            =2 #if 0
            =2 typedef struct
            =2 {
            =2     UINT16 usAfeAsmCfg;              // 0x00
            =2     UINT16 usAfePanelCfg0;           // 0x01
            =2     UINT16 usAfePanelCfg1;           // 0x02
            =2     UINT16 usAfePanelCfg2;           // 0x03
            =2     UINT16 usAfeSysCfg0;             // 0x04
            =2     UINT16 usAfeSysCfg1;             // 0x05
            =2     UINT16 usAfeScanCfg0;            // 0x06
            =2     UINT16 usAfeScanCfg1;            // 0x07
            =2     UINT16 usAfeDummyScanCfg;        // 0x08
            =2     UINT16 usAfeBaseTrackCfg;        // 0x09
            =2     UINT16 usAfeAcc_Offset;          // 0x0A
            =2     UINT16 usAfeTpMonTh;             // 0x0B
            =2     UINT16 usAfeKeyMonTh;            // 0x0C
            =2     UINT16 usAfeAnaGenCfg0;          // 0x0D
            =2     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =2     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =2     UINT16 usAfeAnaCaCfg1;           // 0x10
            =2     UINT16 usAfeAnaCaCfg2;           // 0x11
            =2     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =2     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =2     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =2     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =2     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =2     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =2     UINT16 usAfeP1P2DlyCfg0;         // 0x18
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 111 

            =2     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =2     UINT16 usAfeAnaShcfg0;           // 0x1A
            =2     UINT16 usAfeAnaShcfg1;           // 0x1B
            =2     UINT16 usAfeAnaShcfg2;           // 0x1C
            =2     UINT16 usAfeAnaShcfg3;           // 0x1D
            =2     UINT16 usAfeAnaShcfg4;           // 0x1E
            =2     UINT16 usAfeAnaShcfg5;           // 0x1F
            =2     UINT16 usAfeAnaShcfg6;           // 0x20
            =2     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =2     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =2     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =2     UINT16 usAfeAnaAdcCfg3;          // 0x24
            =2     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =2     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =2     UINT16 usAfeSdVcomCfg;           // 0x27
            =2     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =2     UINT16 usAllGateOnLCfg;          // 0x29
            =2     UINT16 usAllGateOffLCfg;         // 0x2A
            =2     UINT16 usAllGateStopLCfg;        // 0x2B
            =2     UINT16 usAllGateHCfg;            // 0x2C
            =2     UINT16 usRptRawdataNum;          // 0x2D
            =2     UINT16 usCbAdjustTh;             // 0x2E
            =2     UINT16 usTestModeCfg;            // 0x2F
            =2     UINT16 usPrescanTime;            // 0x30
            =2     UINT16 usDischargeTime;          // 0x31
            =2     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =2     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =2     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =2     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =2     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =2     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =2     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =2     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =2     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =2     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =2     UINT16 usReserveZone1;           // 0x3C
            =2     UINT16 usReserveZone2;           // 0x3D
            =2     UINT16 usReserveZone3;           // 0x3E
            =2     UINT16 usReserveZone4;           // 0x3F    
            =2     UINT16 usMcapScanCfg;            // 0x40
            =2     UINT16 usMcapScanSr;             // 0x41
            =2     UINT16 usMcapKeyInterVal6;       // 0x42
            =2     UINT16 usMcapDummyScanNum;       // 0x43
            =2     UINT16 usMcapRawShiftCof;        // 0x44
            =2     UINT16 usMcapRawOffSetL;         // 0x45
            =2     UINT16 usMcapAdcCfg;             // 0x46
            =2     UINT16 usMcapAdcDat0;            // 0x47
            =2     UINT16 usMcapInitSamplCfg;       // 0x48
            =2     UINT16 usMcapOverFlowThr;        // 0x49
            =2     UINT16 usMcapUnderFlowThr;       // 0x4A
            =2     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =2     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =2     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =2     UINT16 usMcapNormalSignalDwThr;  // 0x4E
            =2     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
            =2     UINT16 usMcapLpfirCfg;           // 0x50
            =2     UINT16 usMcapLpFirCfg0;          // 0x51
            =2     UINT16 usMcapLpFirCfg1;          // 0x52
            =2     UINT16 usMcapLpFirCfg2;          // 0x53
            =2     UINT16 usMcapLpFirCfg3;          // 0x54
            =2     UINT16 usMcapLpFirCfg4;          // 0x55  
            =2     UINT16 usMcapLpFirCfg5;          // 0x56
            =2     UINT16 usMcapLpFirCfg6;          // 0x57
            =2     UINT16 usMcapLpFirCfg7;          // 0x58
            =2    
            =2 } ST_AfeRegList;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 112 

            =2 #endif
            =2 
            =2 typedef enum
            =2 {
            =2     Addr_PANEL_MODE_CFG0 =1, 
            =2     Addr_PANEL_MODE_CFG1 =2,
            =2     Addr_PANEL_MODE_CFG2 =3, 
            =2     Addr_AFE_SYS_CFG0 =4, 
            =2     Addr_AFE_SYS_CFG1 =5, 
            =2     Addr_AFE_SCAN_CFG0 =6, 
            =2     Addr_AFE_SCAN_CFG1 =7, 
            =2     Addr_AFE_DUMMY_SCAN_CFG =8, 
            =2     Addr_AFE_BASE_TRACK_CFG =9, 
            =2     Addr_ACC_OFFSET =10, 
            =2     Addr_TP_MONITOR_THRESHOLD =11,
            =2     Addr_KEY_MONITOR_THRESHOLD =12, 
            =2     Addr_AFE_ANA_K1_CFG0 =13,
            =2     Addr_AFE_ANA_K2_CFG1 =14,
            =2     Addr_AFE_ANA_CA_CFG0 =15, 
            =2     Addr_AFE_ANA_CA_CFG1 =16, 
            =2     Addr_AFE_ANA_CA_CFG2 =17,
            =2     Addr_AFE_ANA_P1_P2_CFG0 =18, 
            =2     Addr_AFE_ANA_P1_P2_CFG1 =19,
            =2     Addr_AFE_ANA_P1_P2_CFG2 =20, 
            =2     Addr_AFE_ANA_P1_P2_CFG3 =21,
            =2     Addr_AFE_ANA_P1_P2_CFG4 =22, 
            =2     Addr_AFE_ANA_P1_P2_CFG5 =23, 
            =2     Addr_AFE_P1_P2_DLY_CFG0 =24, 
            =2     Addr_AFE_P1_P2_DLY_CFG1 =25, 
            =2     Addr_AFE_ANA_SH_CFG0 =26,
            =2     Addr_AFE_ANA_SH_CFG1 =27, 
            =2     Addr_AFE_ANA_SH_CFG2 =28, 
            =2     Addr_AFE_ANA_SH_CFG3 =29, 
            =2     Addr_AFE_ANA_SH_CFG4 =30, 
            =2     Addr_AFE_ANA_SH_CFG5 =31,
            =2     Addr_AFE_ANA_SH_CFG6 =32, 
            =2     Addr_AFE_ANA_ADC_CFG0 =33, 
            =2     Addr_AFE_ANA_ADC_CFG1 =34, 
            =2     Addr_AFE_ANA_ADC_CFG2 =35, 
            =2     Addr_AFE_ANA_ADC_CFG3 =36, 
            =2     Addr_AFE_GIPH_P1_P2_CFG =37, 
            =2     Addr_AFE_GIPL_P1_P2_CFG =38, 
            =2     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
            =2     Addr_AFE_SX_P1_P2_CFG =40, 
            =2     Addr_AFE_MOUT_GIPH_CFG = 41,
            =2     Addr_AFE_MOUT_GIPL_CFG = 42,
            =2     Addr_AFE_GOUT_GIPH_CFG = 43,
            =2     Addr_AFE_GOUT_GIPL_CFG = 44,
            =2    
            =2     Addr_ALL_GATE_ON_L_CFG =45, 
            =2     Addr_ALL_GATE_OFF_L_CFG =46,
            =2     Addr_ALL_GATE_STOP_L_CFG =47, 
            =2     Addr_ALL_GATE_H_CFG =48,                              
            =2     Addr_RPT_RAWDATA_NUM =49,                             
            =2     Addr_CB_ADJUST_THLD =50,                                
            =2     Addr_TEST_MODE_FLAG =51,                              
            =2     Addr_PRESCAN_TIME =52,                                 
            =2     Addr_DISCHARGE_TIME =53,                               
            =2     Addr_ANA_STATIC_CFG0 =54,                              
            =2     Addr_ANA_STATIC_CFG1 =55,                               
            =2     Addr_ANA_STATIC_CFG2 =56,                              
            =2     Addr_ANA_STATIC_CFG3 =57,                            
            =2     Addr_TEST_P0_CFG0 =58,                               
            =2     Addr_TEST_P0_CFG1 =59,                               
            =2     Addr_TEST_P0_CFG2 =60,                                 
            =2     Addr_TEST_P1_CFG0 =61,                               
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 113 

            =2     Addr_TEST_P1_CFG1 =62,                                
            =2     Addr_TEST_P1_CFG2 =63,                                 
            =2                                                                                                          
             -                                                          
            =2     Addr_MCAP_SCAN_CFG =64,                                
            =2     Addr_MCAP_SCANSR =65,                                  
            =2     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
            =2     Addr_RAWSHIFTCAF =67,                                
            =2     Addr_RAWDATA_OFFSET_L =68,                           
            =2     Addr_ADC_CFG =69,                                      
            =2     Addr_ADC_DATA0 =70,                                   
            =2     Addr_MCAP_INIT_SAMPL_CFG =71,                         
            =2     Addr_OVERFLOW_THR =72,                                 
            =2     Addr_UNDERFLOW_THR =73,                                
            =2     Addr_OVERFLOW_UPBOUND =74,                            
            =2     Addr_OVER_POINT_FRAME =75,                             
            =2     Addr_NORMAL_SIGNAL_UPTHR =76,                          
            =2     Addr_NORMAL_SIGNAL_DWTHR =77,                        
            =2     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
            =2     Addr_MCAP_LPFIR_CFG =79,                               
            =2     Addr_MCAP_LPFIR_COF0 =80,                              
            =2     Addr_MCAP_LPFIR_COF1 =81,                              
            =2     Addr_MCAP_LPFIR_COF2 =82,                             
            =2     Addr_MCAP_LPFIR_COF3 =83,                              
            =2     Addr_MCAP_LPFIR_COF4 =84,                              
            =2     Addr_MCAP_LPFIR_COF5 =85,                            
            =2     Addr_MCAP_LPFIR_COF6 =86,                             
            =2     Addr_MCAP_LPFIR_COF7 =87,   
            =2 }ENUM_AFE_ADDR;
            =2 
            =2 
            =2 /*******************************************************************************/
            =2 /* Afe table reg */
            =2 
            =2 /*******************************************************************************/
            =2 
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 
            =2 #endif //_FT8836_REG_H_
   25       =1 
   26       =1 
   27       =1 #if _TEST_CAL_EN
   28       =1 /*******************************************************************************
   29       =1 * 2.Global constant and macro definitions using #define
   30       =1 *******************************************************************************/
   31       =1 // pCalCmd BIT DEFINITION
   32       =1 #define CAL_CMD_START          BITn(0)
   33       =1 #define CAL_CMD_RUNNING        BITn(1)
   34       =1 #define CAL_CMD_RESUME         BITn(2)
   35       =1 #define CAL_CMD_SUSPEND        BITn(3)
   36       =1 #define CAL_CMD_OP_CFG0        BITn(8)
   37       =1 #define CAL_CMD_OP_CFG1        BITn(9)
   38       =1 #define CAL_CMD_OP_CFG2        BITn(10)
   39       =1 #define CAL_CMD_DMA_OFF        BITn(11)
   40       =1 #define CAL_CMD_EXT_RESUME_EN  BITn(12)
   41       =1 #define CAL_CMD_MUL2_EN        BITn(13)
   42       =1 #define CAL_CMD_INT_CLR        BITn(14)
   43       =1 #define CAL_CMD_MOD_EXTEND     BITn(15)
   44       =1 #define CAL_OP_MASK            0x00F0
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 114 

   45       =1 
   46       =1 //CALINT
   47       =1 #define CAL_CMD_AMOV_START     BITn(0)
   48       =1 #define CAL_CMD_AMOV_RESUME    BITn(1)
   49       =1 #define CAL_CMD_AMOV_INT_CLR   BITn(2)
   50       =1 #define CAL_CMD_AMOV_MODE      BITn(3)
   51       =1 #define CAL_CMD_AMOV_EN        BITn(4)
   52       =1 #define CAL_CMD_AMOV_SUSPEND   BITn(5)
   53       =1 #define CAL_CMD_AMOV_RUNNING   BITn(6)
   54       =1 #define CAL_CMD_AMOV_INT       BITn(7)
   55       =1 #define CAL_FUNC_SEL           BITn(14)
   56       =1 #define CAL_CMD_INT            BITn(15)
   57       =1 
   58       =1 //CALSEL
   59       =1 #define CAL_AMOV_CFG           BITn(14)
   60       =1 #if 0
            =1 #define CAL_DSEL_AMOV_DRAM     (0x00<<12)
            =1 #define CAL_DSEL_AMOV_ARAM     (0x01<<12)
            =1 #define CAL_DSEL_AMOV_PRAM     (0x02<<12)
            =1 #define CAL_S2SEL_AMOV_DRAM    (0x00<<10)
            =1 #define CAL_S2SEL_AMOV_ARAM    (0x01<<10)
            =1 #define CAL_S2SEL_AMOV_PRAM    (0x02<<10)
            =1 #define CAL_S1SEL_AMOV_DRAM    (0x00<<8)
            =1 #define CAL_S1SEL_AMOV_ARAM    (0x01<<8)
            =1 #define CAL_S1SEL_AMOV_PRAM    (0x02<<8)
            =1 #define CAL_DSEL_DRAM          (0x00<<4)
            =1 #define CAL_DSEL_ARAM          (0x01<<4)
            =1 #define CAL_DSEL_PRAM          (0x02<<4)
            =1 #define CAL_S2SEL_DRAM         (0x00<<2)
            =1 #define CAL_S2SEL_ARAM         (0x01<<2)
            =1 #define CAL_S2SEL_PRAM         (0x02<<2)
            =1 #define CAL_S1SEL_DRAM         (0x00<<0)
            =1 #define CAL_S1SEL_ARAM         (0x01<<0)
            =1 #define CAL_S1SEL_PRAM         (0x02<<0)
            =1 #endif
   80       =1 
   81       =1 // CAL_OP_MOD DEFINITION
   82       =1 #define OP_SUB                 (0x00<<4)
   83       =1 #define OP_ADD                 (0x01<<4)
   84       =1 #define OP_MOV                 (0x02<<4)
   85       =1 #define OP_COM                 (0x03<<4)
   86       =1 #define OP_AMP                 (0x04<<4)
   87       =1 //#define OP_FLT                 (0x05<<4)
   88       =1 #define OP_MDS                 (0x06<<4)
   89       =1 #define OP_LDS                 (0x07<<4)
   90       =1 #define OP_CHK                 (0x08<<4)
   91       =1 #define OP_CRC                 (0x09<<4)
   92       =1 #define OP_PKS                 (0x0A<<4)
   93       =1 //#define OP_MUL                 (0x0B<<4)
   94       =1 #define OP_MAC                 (0x0C<<4)
   95       =1 #define OP_KM                  (0x0D<<4)
   96       =1 #define OP_MUL2                (0x0E<<4)
   97       =1 #define OP_DIV                 (0x0F<<4)
   98       =1 
   99       =1 // CAL_EXTEND_MOD DEFINITION
  100       =1 #define EX_OP_AVG              (0x00<<4)
  101       =1 #define EX_OP_MIN              (0x01<<4)
  102       =1 #define EX_OP_MAX              (0x02<<4)
  103       =1 #define EX_OP_SUBCONST         (0x03<<4)
  104       =1 #define EX_OP_COUNT            (0x04<<4)
  105       =1 #define EX_OP_AMOV             (0x05<<4)
  106       =1 #define EX_OP_CMP              (0x07<<4)//FT8836 –¬º”
  107       =1 #define EX_OP_MUL3             (0x08<<4)//FT8836 –¬º”
  108       =1 
  109       =1 #define TX_LOCAL_NUM    18//18 // ◊‹µƒ¥Û–°
  110       =1 #define RX_LOCAL_NUM    36//30 // 16//28
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 115 

  111       =1 
  112       =1 #define CAL_TEST_TX     18//18//16 // ≤‚ ‘æ÷≤ø
  113       =1 #define CAL_TEST_RX     36//30//28 //16//28
  114       =1 
  115       =1 
  116       =1 #define TX_ARAM_NUM    TX_LOCAL_NUM
  117       =1 #define RX_ARAM_NUM    RX_LOCAL_NUM
  118       =1 
  119       =1 #define CAL_ARAM_TX     18//16 // ≤‚ ‘æ÷≤ø
  120       =1 #define CAL_ARAM_RX     36//30//28 //16//28
  121       =1 
  122       =1 
  123       =1 #define CAL_MDS_TX_POINT    11
  124       =1 #define CAL_MDS_RX_POINT    11
  125       =1 #define CAL_DATA_SIZE       (TX_LOCAL_NUM*RX_LOCAL_NUM)
  126       =1 #define ID_POS_DATA_SIZE    10
  127       =1 #define MAX_POINT           ID_POS_DATA_SIZE
  128       =1 #define MAX_PEAK            (MAX_POINT*3 )
  129       =1 
  130       =1 
  131       =1 // CRC ˝æ›‘¥∆¨«¯
  132       =1 #define CRC_SRC_DRAM            0   // 00
  133       =1 #define CRC_SRC_FC_ZONE         1   // FC:0000 -- FC:FFFF
  134       =1 #define CRC_SRC_FD_ZONE         2   // FD:0000 -- FD:FFFF
  135       =1 #define CRC_SRC_FE_ZONE         3   // FE:0000 -- FE:FFFF
  136       =1 #define CRC_SRC_FF_ZONE         4   // FF:0000 -- FF:0000
  137       =1 
  138       =1 #define CRC_MOD_XOR             1   // “ÏªÚ«Û∫Õ
  139       =1 #define CRC_MOD_CRC             0   // CRC8∑Ω Ω
  140       =1 
  141       =1 #define SUB_MOD_0               0   // sign º”ºı sign = sign
  142       =1 #define SUB_MOD_1               1   // unsign º”ºı unsign = unsign
  143       =1 
  144       =1 #define MOV_CFG_0               0   // ≤ª◊™÷√
  145       =1 #define MOV_CFG_1               1   // ◊™÷√
  146       =1 
  147       =1 #define SIGN_MOD_0              0   // sign º”ºı sign = sign
  148       =1 #define SIGN_MOD_1              1   // unsign º”ºı unsign = unsign
  149       =1 
  150       =1 #define MUL2_CFG_0              0   // mul2∞¥¡–≥ÀπÃ∂®≥£ ˝
  151       =1 #define MUL2_CFG_1              1   // mul2∞¥––≥ÀπÃ∂®≥£ ˝
  152       =1 
  153       =1 #define MUL2_MODE_0             0   //MUL2—°‘Ò1Œ¨ ˝◊È≥À“‘2Œ¨ ˝◊Èµƒ∑Ω Ω
  154       =1 #define MUL2_MODE_1             1   //MUL2—°‘Ò2Œ¨ ˝◊È≥À“‘2Œ¨ ˝◊Èµƒ∑Ω Ω
  155       =1 
  156       =1 #define MAC_MOD_0               0   // original positive value
  157       =1 #define MAC_MOD_1               1   // absolute value
  158       =1 
  159       =1 #define MAC_CFG_0               0   // sub-region of frame data
  160       =1 #define MAC_CFG_1               1   // re-pack data
  161       =1 
  162       =1 #define COM_CFG_0           0   // comæ…À„∑®
  163       =1 #define COM_CFG_1           1   // com–¬À„∑®: ––¡–≤π≥•À„∑®
  164       =1 
  165       =1 #define EX_MOD_TX           0   // ¿©’π√¸¡Óavg/min/max∞¥––º∆À„
  166       =1 #define EX_MOD_RX           1   // ¿©’π√¸¡Óavg/min/max∞¥¡–º∆À„
  167       =1 
  168       =1 #define EX_CFG_ORG          0   // ¿©’π√¸¡Óavg/min/max∞¥‘≠ º ˝æ›º∆À„
  169       =1 #define EX_CFG_ABS          1   // ¿©’π√¸¡Óavg/min/max∞¥æ¯∂‘÷µº∆À„
  170       =1 
  171       =1 #define CMP_CFG_0            0 //«Û◊Ó¥Û÷µ
  172       =1 #define CMP_CFG_1            1//«Û◊Ó–°÷µ
  173       =1 
  174       =1 #define AVG_MODE_0         0//≥¨π˝„–÷µµƒ ˝æ›”√„–÷µ¥˙ÃÊ
  175       =1 #define AVG_MODE_1         1//≥¨π˝„–÷µµƒ ˝æ›÷±Ω”∂™∆˙
  176       =1 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 116 

  177       =1 
  178       =1 #define MAC_TX_START         2 //mac◊”«¯”Úƒ£ Ωtx∆ ºµÿ÷∑
  179       =1 #define MAC_RX_START         2//mac◊”«¯”Úƒ£ Ωrx∆ ºµÿ÷∑
  180       =1 #define MAC_TX_LEN           5//macÀ„∑®tx‘ÀÀ„≥§∂»
  181       =1 #define MAC_RX_LEN           5//macÀ„∑®rx‘ÀÀ„≥§∂»
  182       =1 
  183       =1 
  184       =1 /* CAL COM‘ÀÀ„œ‡πÿ≤Œ ˝≈‰÷√ */
  185       =1 #define COMPENSATION_MODE           0      // 0:normal(full screen) 1:single point
  186       =1 #define NO_COMPENSATION_TX_LENGTH   8      // bit7:4 in pCalRegs->rPThd
  187       =1 #define NO_COMPENSATION_RX_LENGTH   3      // bit3:0 in pCalRegs->rPThd
  188       =1 #define NO_COMPENSATION_TX_START    0      // bit[15:8] in pCalRegs->rPar
  189       =1 #define NO_COMPENSATION_RX_START    0      // bit[7:0] in pCalRegs->Par
  190       =1 
  191       =1 /* CAL MAC‘ÀÀ„‘Î…˘„–÷µ */
  192       =1 // length for calculate output
  193       =1 // DrvCal_Mac: need 6
  194       =1 // DrvCal_McPeak:need MC_MAX_PEAK
  195       =1 // DrvCal_KmID:need 11*11
  196       =1 // DrvCal_MatrixMul: need 28*3 (3 buffers)
  197       =1 #define CAL_COMMON_SIZE         (11*11)  //It is the max size of above case
  198       =1 
  199       =1 /* Frame Data */
  200       =1 /* ‘ˆº”◊”‘™Àÿ ±£¨16Œª±ÿ–Î‘⁄«∞√Ê£¨±£÷§cal‘ÀÀ„ «≈ºµÿ÷∑‘ÀÀ„ */
  201       =1 typedef struct
  202       =1 {
  203       =1     UINT16 CalBaseAddr[CAL_DATA_SIZE];      // cal base data buffer
  204       =1     UINT16 CalBaseAddr1[CAL_DATA_SIZE];      // cal base data buffer
  205       =1     UINT16 CalBaseAddr2[CAL_DATA_SIZE];      // cal base data buffer
  206       =1     SINT16 ScDiff[CAL_DATA_SIZE];           // sc diff data buffer
  207       =1     UINT16 LastIdPos[ID_POS_DATA_SIZE<<1];  // (x,y)
  208       =1     UINT16 CurrIdPos[ID_POS_DATA_SIZE<<1];  // (x,y)
  209       =1     SINT16 CalOut[CAL_COMMON_SIZE];         // hardware calculating output
  210       =1 } ST_FrameData;
  211       =1 /*******************************************************************************
  212       =1 * 3.Global structures, unions and enumerations using typedef
  213       =1 *******************************************************************************/
  214       =1 /* CALæÿ’Û‘ÀÀ„≤Œ ˝ */
  215       =1 typedef struct
  216       =1 {
  217       =1     UINT8 ucTxLen;           // æÿ’Û≤Ÿ◊˜–– ˝
  218       =1     UINT8 ucRxLen;           // æÿ’Û≤Ÿ◊˜¡– ˝
  219       =1     UINT8 ucShift;           // Ω·π˚”““∆∏ˆ ˝
  220       =1     UINT8 ucCfg;            // ≈‰÷√≤Œ ˝
  221       =1     UINT8 ucDataType;       // ¿©’π√¸¡Óavg/min/max‘ÀÀ„ ˝æ›: ‘≠÷µoræ¯∂‘÷µ
  222       =1     UINT8 ucLineCfg;        // ¿©’π√¸¡Óavg/min/max‘ÀÀ„ ˝æ›: ∞¥––º∆À„or∞¥¡–º∆À„
  223       =1     UINT16 usSrc1Addr;       // ≤Ÿ◊˜ ˝1µƒƒ⁄¥Êø™ ºµÿ÷∑
  224       =1     UINT16 usSrc2Addr;       // ≤Ÿ◊˜ ˝2µƒƒ⁄¥Êø™ ºµÿ÷∑
  225       =1     UINT16 usDstAddr;        // ‘ÀÀ„Ω·π˚µƒƒ⁄¥Êø™ ºµÿ÷∑
  226       =1     UINT16 usCalCmd;         // ‘ÀÀ„∑˚∫≈    
  227       =1 } ST_CalMcMatrixParam;
  228       =1 
  229       =1 /* ≤È’“peakΩ·π˚–≈œ¢ */
  230       =1 typedef struct
  231       =1 {
  232       =1     UINT8 ucMcPosPeakNum;     // Positvie Peak Number
  233       =1     UINT8 ucMcNegPeakNum;     // Negative Peak Number
  234       =1     UINT16 ucMcPosAreaChNum;  // Positive Area Peak Number
  235       =1     UINT16 ucMcNegAreaChNum;  // Negative Area Peak Number
  236       =1     UINT16 usMCminValue;      // min-peak diff value
  237       =1     UINT16 usMCminPos;        // min-peak pos, B15--B8:Y,B7--B0:X
  238       =1     UINT16 usMCmaxValue;      // max-peak diff value
  239       =1     UINT16 usMCmaxPos;        // max-peak pos, B15--B8:Y,B7--B0:X
  240       =1 } ST_CalMcPeakInfo;
  241       =1 
  242       =1 /* ≤È’“peak‘ÀÀ„≤Œ ˝ */
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 117 

  243       =1 typedef struct
  244       =1 {
  245       =1     UINT8 ucRxLen;           // Rx Length
  246       =1     UINT8 ucTxLen;           // Tx Length
  247       =1     UINT8 ucMaxPeakNum;      // ◊Ó¥Ûpeak ˝¡ø
  248       =1     UINT8 ucSearchMod;       // 0:  Æ◊÷;  1: √◊◊÷
  249       =1 
  250       =1     UINT16 usDiffAddr;       // Diffƒ⁄¥Êµƒø™ ºµÿ÷∑
  251       =1     UINT16 usCalOutAddr;     // ’˝peakƒ⁄¥Êµƒø™ ºµÿ÷∑
  252       =1     UINT16 usNegOutAddr;     // ∏∫peakƒ⁄¥Êµƒø™ ºµÿ÷∑
  253       =1 
  254       =1     SINT16 usPosThd;         // Positive Peak Threshold
  255       =1     SINT16 usNegThd;         // Negative Peak Threshold
  256       =1     UINT16 usAreaThd;        // Area Peak Threshold
  257       =1     SINT16 usNegAreaThd;     // Area Peak Threshold
  258       =1 } ST_CalMcPeakDetectParam;
  259       =1 
  260       =1 /* Peak Data */
  261       =1 typedef struct
  262       =1 {
  263       =1     UINT8 aucMcPosPeak[MAX_PEAK][2];            //[P][0]:TX,  [P][1]:RX
  264       =1     UINT8 aucMcNegPeak[MAX_PEAK][2];            //[P][0]:TX,  [P][1]:RX
  265       =1     UINT8 aucMcPeakValid[(MAX_PEAK >> 3) + 1];  //ª•µÁ»›PEAK ”––ß–‘±Í ∂£¨√ø∏ˆPEAK ”√“ª∏ˆbit ±Í ∂∆‰”––ß–‘
  266       =1     UINT8 ucMcPosPeakNum;                         //ª•µÁ»›’˝PEAK  ˝¡ø
  267       =1     UINT8 ucMcNegPeakNum;                         //ª•µÁ»›∏∫PEAK  ˝¡ø
  268       =1     UINT8 ucCurrPeakNum;                          //…œ“ª÷° µº µ„ ˝
  269       =1     UINT8 ucLastPeakNum;                          //…œ“ª÷° µº µ„ ˝
  270       =1     UINT16 ucMcPosAreaChNum;                       //ª•µÁ»›≥¨π˝AREA TH CH  ˝¡ø
  271       =1     UINT16 ucMcNegAreaChNum;                       //ª•µÁ»›≥¨π˝AREA TH CH  ˝¡ø    
  272       =1 } ST_PeakData;
  273       =1 
  274       =1 typedef struct
  275       =1 {
  276       =1     UINT8 ucRxStart;
  277       =1     UINT8 ucTxStart;
  278       =1     UINT8 ucRxLen;
  279       =1     UINT8 ucTxLen;
  280       =1     UINT8 ucNoise;
  281       =1     UINT8 ucMode;      //0:FILTER_ORG  1:FILTER_ABS
  282       =1     UINT16 usDiffAddr;
  283       =1     UINT16 usCalOutAddr;
  284       =1 } ST_CalMcMacParam;
  285       =1 
  286       =1 /* ID‘ÀÀ„≤Œ ˝ */
  287       =1 typedef struct
  288       =1 {
  289       =1     UINT8  ucLastPoint;      // …œ“ª÷°µ„ ˝
  290       =1     UINT8  ucCurrPoint;      // µ±«∞÷°µ„ ˝
  291       =1     UINT16 usLastIdPosAddr;  // …œ“ª÷°µ„–≈œ¢À˘‘⁄ƒ⁄¥Êµƒø™ ºµÿ÷∑
  292       =1     UINT16 usCurrIdPosAddr;  // µ±«∞÷°µ„–≈œ¢À˘‘⁄ƒ⁄¥Êµƒø™ ºµÿ÷∑
  293       =1     UINT16 usCalOut;         // ID∆•≈‰Ω·π˚À˘‘⁄ƒ⁄¥Êµƒø™ ºµÿ÷∑
  294       =1 } ST_CalKmIdParam;
  295       =1 
  296       =1 /* AMOV‘ÀÀ„≤Œ ˝ */
  297       =1 typedef struct
  298       =1 {
  299       =1     UINT8 ucS1TxLen;      // æÿ’ÛS1µƒTxLen
  300       =1     UINT8 ucS1RxLen;      // æÿ’ÛS1µƒRxLen
  301       =1     UINT16 usSrc1Addr;    // ≤Ÿ◊˜ ˝S1µƒƒ⁄¥Êø™ ºµÿ÷∑
  302       =1     UINT16 usDstAddr;     // ‘ÀÀ„Ω·π˚µƒƒ⁄¥Êø™ ºµÿ÷∑
  303       =1     UINT16 usDmaMask;     // ¿©’π√¸¡Óavg/min/max‘ÀÀ„ ˝æ›: ‘≠÷µoræ¯∂‘÷µ
  304       =1 } ST_CalMatrixAMov;
  305       =1 
  306       =1 /*******************************************************************************
  307       =1 * 4.Global variable extern declarations
  308       =1 *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 118 

  309       =1 extern BOOLEAN g_bCalResumeFlag;
  310       =1 extern ST_CalRegisters *pCalRegs;
  311       =1 extern UINT8 g_ucCalStartFlag,g_ucAmoveStart;
  312       =1 
  313       =1 /*******************************************************************************
  314       =1 * 5.Global function prototypes
  315       =1 *******************************************************************************/
  316       =1 void DrvCal_Init(UINT8 ucTxNum, UINT8 ucRxNum, UINT16 usDmask,UINT16 usDmaskA);
  317       =1 void DrvCal_Cmd(UINT16 cmd);
  318       =1 void DrvCal_MatrixProc(ST_CalMcMatrixParam *pMcMP);
  319       =1 void DrvCal_MatrixAmp(ST_CalMcMatrixParam *pMcMP, SINT16 mul);
  320       =1 void DrvCal_MatrixDiv(ST_CalMcMatrixParam *pMcMP, UINT8 div);
  321       =1 void DrvCal_MatrixMul(ST_CalMcMatrixParam *pMcMP, UINT8 K_Num);
  322       =1 void DrvCal_McPeak(ST_CalMcPeakDetectParam *pMcPDP, ST_CalMcPeakInfo *pMcPI);
  323       =1 void DrvCal_Mac(ST_CalMcMacParam *pMacParm);
  324       =1 void DrvCal_KmID(ST_CalKmIdParam *pKmIDParm);
  325       =1 UINT16 DrvCal_CRC16(UINT16 usSrc1Addr, UINT16 usLen, UINT8 Area, BOOLEAN type);
  326       =1 void DrvCal_MatrixMul2(ST_CalMcMatrixParam *pMcMP,BOOLEAN MulMode);
  327       =1 void DrvCal_MatrixCompensation(ST_CalMcMatrixParam *pMcMP, UINT8 Thr, UINT8 Cfg);
  328       =1 void DrvCal_LDS(ST_CalMcMatrixParam *pMcMP);
  329       =1 void DrvCal_MDS(ST_CalMcMatrixParam *pMcMP);
  330       =1 UINT16 DrvCal_Noise(UINT16 usSrc1Addr,UINT8 Tx_Len, UINT8 Rx_Len);
  331       =1 void DrvCal_MatrixAMov(ST_CalMatrixAMov *pMcMP);
  332       =1 void DrvCal_MatrixAvg(ST_CalMcMatrixParam *pMcMP,UINT8 usAvgMode);
  333       =1 void DrvCal_MatrixMaxMin(ST_CalMcMatrixParam *pMcMP);
  334       =1 UINT16 DrvCal_MatrixCount(ST_CalMcMatrixParam *pMcMP, SINT16 ssMin,SINT16 ssMax);
  335       =1 void DrvCal_MatrixSubConst(ST_CalMcMatrixParam *pMcMP);
  336       =1 void DrvCal_MatrixCMP(ST_CalMcMatrixParam *pMcMP);
  337       =1 void DrvCal_MatrixMul3(ST_CalMcMatrixParam *pMcMP);
  338       =1 #endif
  339       =1 #endif
  340       =1 
  341       =1 
   22          #include <string.h>
    1       =1 /*--------------------------------------------------------------------------
    2       =1 STRING.H
    3       =1 
    4       =1 String functions for C251 Version 4.
    5       =1 Copyright (c) 1995-2007 Keil Elektronik GmbH and Keil Software, Inc.
    6       =1 All rights reserved.
    7       =1 --------------------------------------------------------------------------*/
    8       =1 
    9       =1 #pragma SAVE
   10       =1 #pragma PARM251
   11       =1 
   12       =1 #ifndef _SIZE_T
            =1  #define _SIZE_T
            =1  typedef unsigned int size_t;
            =1 #endif
   16       =1 
   17       =1 #ifndef NULL
            =1  #define NULL ((void *) 0L)
            =1 #endif
   20       =1 
   21       =1 #if (__C251__ >= 200) 
   22       =1 extern char *strcat (char *s1, char *s2) reentrant;
   23       =1 extern char *strncat (char *s1, char *s2, unsigned int n) reentrant;
   24       =1 
   25       =1 extern char strcmp (char *s1, char *s2) reentrant;
   26       =1 extern char strncmp (char *s1, char *s2, unsigned int n) reentrant;
   27       =1 
   28       =1 extern char *strcpy (char *s1, char *s2) reentrant;
   29       =1 extern char *strncpy (char *s1, char *s2, unsigned int n) reentrant;
   30       =1 
   31       =1 extern unsigned int strlen (char *) reentrant;
   32       =1 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 119 

   33       =1 extern char *strchr (const char *s, char c) reentrant;
   34       =1 extern unsigned int strpos (const char *s, char c) reentrant;
   35       =1 extern char *strrchr (const char *s, char c) reentrant;
   36       =1 extern unsigned int strrpos (const char *s, char c) reentrant;
   37       =1 
   38       =1 extern unsigned int strspn (char *s, char *set) reentrant;
   39       =1 extern unsigned int strcspn (char *s, char *set) reentrant;
   40       =1 extern char *strpbrk (char *s, char *set) reentrant;
   41       =1 extern char *strrpbrk (char *s, char *set) reentrant;
   42       =1 
   43       =1 extern char memcmp (void *s1, void *s2, unsigned int n) reentrant;
   44       =1 extern void *memcpy (void *s1, void *s2, unsigned int n) reentrant;
   45       =1 extern void *memchr (void *s, char val, unsigned int n) reentrant;
   46       =1 extern void *memccpy (void *s1, void *s2, char val, unsigned int n) reentrant;
   47       =1 extern void *memmove (void *s1, void *s2, unsigned int n) reentrant;
   48       =1 extern void *memset  (void *s, char val, unsigned int n) reentrant;
   49       =1 
   50       =1 extern void far   *fmemset  (void far *s,   char val, unsigned int n) reentrant;
   51       =1 extern void xdata *xmemset  (void xdata *s, char val, unsigned int n) reentrant;
   52       =1 extern void far   *fmemcpy  (void far *s1,  void far *s2, unsigned int n) reentrant;
   53       =1 extern void xdata *xmemcpy  (void xdata *s1, void xdata *s2, unsigned int n) reentrant;
   54       =1 
   55       =1 extern unsigned long hstrlen (const char huge *s)  reentrant;
   56       =1 extern          char hstrcmp (const char huge *s1, const char huge *s2)  reentrant;
   57       =1 extern    char huge *hstrcpy (char huge *s1, const char huge *s2)  reentrant;
   58       =1 
   59       =1 #pragma PARM4  // allow a maximum of 4 long as register parameters
   60       =1 extern char huge *hstrncpy (char huge *s1, const char huge *s2, unsigned long n) reentrant; 
   61       =1 
   62       =1 extern      char  hmemcmp (const void huge *s1, const void huge *s2, unsigned long len) reentrant;
   63       =1 extern void huge *hmemcpy (void huge *s1, const void huge *s2, unsigned long len) reentrant;
   64       =1 extern void huge *hmemchr (const void huge *ptr, char val, unsigned long len) reentrant;
   65       =1 extern char huge *hmemccpy (char huge *dest, const char huge *src, char val, unsigned long len) reentrant
             -;
   66       =1 extern void huge *hmemmove (void huge *s1, const void huge *s2, unsigned long len) reentrant;
   67       =1 extern void huge *hmemset (void huge *ptr, char val, unsigned long len) reentrant;
   68       =1 
   69       =1 #else
            =1 extern char *strcat (char *s1, char *s2);
            =1 extern char *strncat (char *s1, char *s2, int n);
            =1 
            =1 extern char strcmp (char *s1, char *s2);
            =1 extern char strncmp (char *s1, char *s2, int n);
            =1 
            =1 extern char *strcpy (char *s1, char *s2);
            =1 extern char *strncpy (char *s1, char *s2, int n);
            =1 
            =1 extern int strlen (char *);
            =1 
            =1 extern char *strchr (const char *s, char c);
            =1 extern int strpos (const char *s, char c);
            =1 extern char *strrchr (const char *s, char c);
            =1 extern int strrpos (const char *s, char c);
            =1 
            =1 extern int strspn (char *s, char *set);
            =1 extern int strcspn (char *s, char *set);
            =1 extern char *strpbrk (char *s, char *set);
            =1 extern char *strrpbrk (char *s, char *set);
            =1 
            =1 extern char memcmp (void *s1, void *s2, int n);
            =1 extern void *memcpy (void *s1, void *s2, int n);
            =1 extern void *memchr (void *s, char val, int n);
            =1 extern void *memccpy (void *s1, void *s2, char val, int n);
            =1 extern void *memmove (void *s1, void *s2, int n);
            =1 extern void *memset  (void *s, char val, int n);
            =1 
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 120 

            =1 #endif
   99       =1 
  100       =1 #pragma RESTORE
   23          
   24          
   25          #if _TEST_CAL_EN
   26          /*******************************************************************************
   27          * 2.Private constant and macro definitions using #define
   28          *******************************************************************************/
   29          /* DMA unit default value */
   30          #define DMA_LEN        1            //≥˝¡ÀAmove÷ÆÕ‚∆‰À˚À„∑®µƒDmaLength 1~31
   31          #define DMA_LENA       1            //AmoveµƒDmaLength                 1~31
   32          #define DMALENGTH     ((DMA_LENA << 5) + DMA_LEN)
   33          
   34          
   35          /*******************************************************************************
   36          * 3.Private enumerations, structures and unions using typedef
   37          *******************************************************************************/
   38          
   39          /*******************************************************************************
   40          * 4.Static variables
   41          *******************************************************************************/
   42          //ST_CalRegisters * XRAM pCalRegs = (volatile ST_CalRegisters *)CAL_REG_BASE_ADDR;
   43          ST_CalRegisters *pCalRegs = (volatile ST_CalRegisters *)CAL_REG_BASE_ADDR;
   44          
   45          /*******************************************************************************
   46          * 5.Global variable or extern global variabls/functions
   47          *******************************************************************************/
   48          BOOLEAN g_bCalResumeFlag;
   49          BOOLEAN g_bAmoveResumeFlag;
   50          UINT8 g_ucCalStartFlag = 0;
   51          UINT8 g_ucAmoveStart = 0;
   52          
   53          /*******************************************************************************
   54          * 6.Static function prototypes
   55          *******************************************************************************/
   56          
   57          /*******************************************************************************
   58          *   Name: DrvCal_Init
   59          *  Brief: Config DMALENGTH,TxNum/RxNum and CalMask/AmoveMask for Cal-modules
   60          *  Input:TxNum,RxNum,CalMask,AmoveMask
   61          * Output:
   62          * Return: None
   63          *******************************************************************************/
   64          void DrvCal_Init(UINT8 ucTxNum, UINT8 ucRxNum, UINT16 usDmask, UINT16 usDmaskA)
   65          
   66          {
   67   1          CALCKEN = 1;
   68   1      
   69   1          pCalRegs->rDmaLen = DMALENGTH;
   70   1          
   71   1          pCalRegs->rTxRxNum = (ucTxNum << 8) + ucRxNum;       //CAL≥§∂»
   72   1          pCalRegs->rTxRxNumAm = (ucTxNum << 8)+ ucRxNum;      //Amove≥§∂»
   73   1      
   74   1          /* ‘À–– ±÷–∂œø…¥Ú∂œ‘¥≈‰÷√ */
   75   1          pCalRegs->rDmask = usDmask;//CALµƒMask
   76   1          pCalRegs->rDmaskA = usDmaskA;//AmoveµƒMask
   77   1      
   78   1          CALCKEN = 0;
   79   1      }
   80          
   81          /*******************************************************************************
   82          *   Name: DrvCal_Cmd
   83          *  Brief: Set cmd to cal_module and wait for finishing.
   84          *  Input: cmd
   85          * Output:
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 121 

   86          * Return: None
   87          *******************************************************************************/
   88          void DrvCal_Cmd(UINT16 cmd)
   89          {
   90   1          pCalRegs->rCmd &= 0xFF0F;
   91   1      
   92   1          pCalRegs->rCmd |= (cmd|CAL_CMD_START);                       
   93   1              g_ucCalStartFlag = 1;
   94   1              P0_7 = 1;
   95   1      
   96   1          /* mcu hold ... cal run */
   97   1          while((pCalRegs->rInt&CAL_CMD_INT) != CAL_CMD_INT)           
   98   1          {
   99   2              //DBG_CAL("\nCALINT:%d ",pCalRegs->rInt); 
  100   2              
  101   2              /* if cal madule is resumed,start again */
  102   2              if((pCalRegs->rCmd&CAL_CMD_SUSPEND) == CAL_CMD_SUSPEND)  
  103   2              {    
  104   3                  DBG_CAL("\n\rSUSPEND=%d\n",CAL_CMD_INT);
  105   3                  pCalRegs->rCmd |= CAL_CMD_RESUME;                    
  106   3                  g_bCalResumeFlag = TRUE;
  107   3              }
  108   2          }
  109   1              g_ucCalStartFlag = 0;
  110   1              P0_7 = 0;
  111   1          pCalRegs->rCmd |= CAL_CMD_INT_CLR;
  112   1          pCalRegs->rCmd  = 0; 
  113   1      
  114   1              if(g_bCalResumeFlag)
  115   1              {
  116   2                      DBG_FLOW("\n\n\nCAL suspend");
  117   2                      DBG_FLOW("\nCAL suspend");
  118   2                      DBG_FLOW("\nCAL suspend");
  119   2                      g_bCalResumeFlag = 0;
  120   2              }       
  121   1      
  122   1              
  123   1      }
  124          
  125          /*******************************************************************************
  126          *   Name: DrvCal_MatrixProc
  127          *  Brief: Let hardware do ADD/DEC/MOV matrix calculation.
  128          *         ADD/DEC: pCalRegs->rOutAddr = (pCalRegs->rS1Addr +/- pCalRegs->rS2Addr)>>ucShift
  129          *         MOV:     pCalRegs->rOutAddr = pCalRegs->rS1Addr
  130          *  Input: ST_CalMcMatrixParam *pMcMP =>
  131          * Output: None
  132          * Return: None
  133          *******************************************************************************/
  134          void DrvCal_MatrixProc(ST_CalMcMatrixParam *pMcMP)
  135          {
  136   1          CALCKEN = TRUE;
  137   1         
  138   1          g_bCalResumeFlag = FALSE;
  139   1      
  140   1          pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
  141   1          pCalRegs->rS2Addr  = pMcMP->usSrc2Addr;
  142   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;
  143   1          pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  144   1          pCalRegs->rPThd = pMcMP->ucShift;
  145   1          // run
  146   1          pCalRegs->rCmd  = ((pMcMP->ucCfg & 0x01)<<8);
  147   1          DrvCal_Cmd(pMcMP->usCalCmd);
  148   1             
  149   1          CALCKEN = FALSE;
  150   1      }
  151          
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 122 

  152          /*******************************************************************************
  153          *   Name: DrvCal_MatrixAmp
  154          *  Brief: Let hardware do AMP matrix calculation.
  155          *         AMP: pCalRegs->rOutAddr = (pCalRegs->rS1Addr * mul)>>ucShift
  156          *  Input: ST_CalMcMatrixParam *pMcMP =>
  157          *         UINT8 mul
  158          * Output: None
  159          * Return: None
  160          *******************************************************************************/
  161          void DrvCal_MatrixAmp(ST_CalMcMatrixParam *pMcMP, SINT16 mul)
  162          {
  163   1          CALCKEN = TRUE;
  164   1          
  165   1          pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
  166   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;    
  167   1          pCalRegs->rSize    = (pMcMP->ucTxLen << 8) + pMcMP->ucRxLen;
  168   1          pCalRegs->rPThd = pMcMP->ucShift;
  169   1          pCalRegs->rPar  = mul;
  170   1      
  171   1          // run
  172   1          pCalRegs->rCmd = 0;
  173   1          DrvCal_Cmd(pMcMP->usCalCmd);
  174   1         
  175   1          CALCKEN = FALSE;
  176   1      }
  177          
  178          /*******************************************************************************
  179          *   Name: DrvCal_MatrixDiv
  180          *  Brief: Let hardware do AMP matrix calculation.
  181          *         AMP: pCalRegs->rOutAddr = pCalRegs->rS1Addr/div
  182          *  Input: ST_CalMcMatrixParam *pMcMP =>
  183          *         UINT8 div
  184          * Output: None
  185          * Return: None
  186          *******************************************************************************/
  187          void DrvCal_MatrixDiv(ST_CalMcMatrixParam *pMcMP, UINT8 div)
  188          {
  189   1          CALCKEN = TRUE;
  190   1          
  191   1          pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
  192   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;
  193   1              pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  194   1          pCalRegs->rPar  = div;
  195   1          // run
  196   1          pCalRegs->rCmd = 0;
  197   1          DrvCal_Cmd(pMcMP->usCalCmd);
  198   1         
  199   1          CALCKEN = FALSE;
  200   1      }
  201          
  202          /*******************************************************************************
  203          *   Name: DrvCal_MatrixMul
  204          *  Brief: M1 : M*K
  205          *         M2 : K*N
  206          *         OUT: M*N
  207          *         Out[i][j] = sum(S1[i][0...(K-1)]*S2[0...(k-1)[j]])
  208          *  Input: ST_CalMcMatrixParam *pMcMP =>
  209          *
  210          * Output: None
  211          * Return: None
  212          *******************************************************************************/
  213          void DrvCal_MatrixMul(ST_CalMcMatrixParam *pMcMP, UINT8 K_Num)
  214          {
  215   1          //clk
  216   1          CALCKEN = TRUE;
  217   1          
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 123 

  218   1          // Address
  219   1          pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
  220   1          pCalRegs->rS2Addr  = pMcMP->usSrc2Addr;
  221   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;
  222   1              pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  223   1          pCalRegs->rPThd   = pMcMP->ucShift;
  224   1          pCalRegs->rNThd   = K_Num;
  225   1      
  226   1          pCalRegs->rCmd  = 0;
  227   1          DrvCal_Cmd(pMcMP->usCalCmd);
  228   1         
  229   1          CALCKEN = FALSE;
  230   1      }
  231          
  232          
  233          /*******************************************************************************
  234          *   Name: DrvCal_McPeak
  235          *  Brief: Let hardware Search positive/negative peaks
  236          *  Input: ST_CalMcPeakDetectParam *pMcPDP => MC Peak Detect Parameters Struct
  237          *         ST_CalMcPeakInfo *pMcPI => MC Peak Information Struct
  238          * Output: g_stFrmData.CalOut => Calculate Output of Global Frame Data
  239          * Return: None
  240          *******************************************************************************/
  241          #define TX_START      0  //¥”◊Û…œΩ«ø™ º
  242          void DrvCal_McPeak(ST_CalMcPeakDetectParam *pMcPDP, ST_CalMcPeakInfo *pMcPI)
  243          {
  244   1          CALCKEN = 1;
  245   1          
  246   1          pCalRegs->rS1Addr = pMcPDP->usDiffAddr;
  247   1          pCalRegs->rS2Addr = pMcPDP->usNegOutAddr;//;
  248   1          pCalRegs->rOutAddr  = pMcPDP->usCalOutAddr;
  249   1          pCalRegs->rSize   = (pMcPDP->ucTxLen<<8) + pMcPDP->ucRxLen;
  250   1          pCalRegs->rPar    = (TX_START<<8) + pMcPDP->ucMaxPeakNum;
  251   1      
  252   1          pCalRegs->rPThd   = pMcPDP->usPosThd;
  253   1          pCalRegs->rNThd   = pMcPDP->usNegThd;
  254   1          pCalRegs->rAThd   = pMcPDP->usAreaThd;
  255   1          pCalRegs->rNaThd  = pMcPDP->usNegAreaThd;
  256   1      
  257   1          // cmd
  258   1          pCalRegs->rCmd = pMcPDP->ucSearchMod<<8;
  259   1          DrvCal_Cmd(OP_PKS);
  260   1      
  261   1          // Get results
  262   1          pMcPI->ucMcPosPeakNum = pCalRegs->rPsCnt;
  263   1          pMcPI->ucMcNegPeakNum = pCalRegs->rNsCnt;
  264   1          pMcPI->ucMcPosAreaChNum = pCalRegs->rPaCnt;
  265   1          pMcPI->ucMcNegAreaChNum = pCalRegs->rNaCnt;
  266   1      
  267   1          pMcPI->usMCminValue = pCalRegs->rMinV;
  268   1          pMcPI->usMCminPos   = pCalRegs->rMinPos;
  269   1          pMcPI->usMCmaxValue = pCalRegs->rMaxV;
  270   1          pMcPI->usMCmaxPos   = pCalRegs->rMaxPos;
  271   1          
  272   1          CALCKEN = 0;
  273   1      }
  274          
  275          /*******************************************************************************
  276          *   Name: DrvCal_Mac
  277          *  Brief: Let hardware do center of gravity calculation
  278          *         pCalRegs->rS1Addr : Data to be computed
  279          *         pCalRegs->rOutAddr  : Result output, sum(c_tx), sum(tx), sum(c_rx), sum(rx)
  280          *  Input: ST_CalMcMacParam *pMcMParm => MC Mac Parameters Struct
  281          * Output: g_stFrmData.CalOut => Calculate Output of Global Frame Data
  282          * Return: None
  283          *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 124 

  284          void DrvCal_Mac(ST_CalMcMacParam *pMacParm)
  285          {
  286   1          CALCKEN = 1;
  287   1          
  288   1          pCalRegs->rS1Addr = pMacParm->usDiffAddr;
  289   1          pCalRegs->rOutAddr  = pMacParm->usCalOutAddr;
  290   1      
  291   1          pCalRegs->rSize = (pMacParm->ucTxLen<<8) + pMacParm->ucRxLen;
  292   1          pCalRegs->rPar  = (pMacParm->ucTxStart<<8) + pMacParm->ucRxStart;
  293   1          pCalRegs->rPThd = pMacParm->ucNoise;
  294   1      
  295   1          pCalRegs->rCmd  = (pMacParm->ucMode & 0x03) << 8;
  296   1      
  297   1          DrvCal_Cmd(OP_MAC);
  298   1          
  299   1          CALCKEN = 0;
  300   1      }
  301          
  302          /*******************************************************************************
  303          *   Name: DrvCalcID
  304          *  Brief: Match IDs
  305          *         pCalRegs->rS1Addr: Last ID Position
  306          *         pCalRegs->rS2Addr: Current ID Position
  307          *  Input: UINT16 LastIdPosAddr => Last ID Position Information
  308          *         UINT16 CurrIdPosAddr => Current ID Position Information
  309          *         UINT8 MaxPoint => Maximum Point Number supported
  310          * Output: None
  311          * Return: UINT16 IDs
  312          *******************************************************************************/
  313          void DrvCal_KmID(ST_CalKmIdParam *pKmIDParm)
  314          {
  315   1          UINT8 i,j;
  316   1          UINT8 MaxPoint;
  317   1      
  318   1          MaxPoint = pKmIDParm->ucLastPoint;
  319   1          if (MaxPoint < pKmIDParm->ucCurrPoint)
  320   1          {
  321   2              MaxPoint = pKmIDParm->ucCurrPoint;
  322   2          }
  323   1      
  324   1          memset((UINT16*)pKmIDParm->usCalOut, 0xFF, 121<<1);
  325   1      
  326   1          //clk
  327   1          CALCKEN = 1;
  328   1         
  329   1          // 1.≤‚ ‘ MDS œ»«Û∏˜µ„µƒœ‡ª•æ‡¿Î
  330   1          pCalRegs->rS1Addr = pKmIDParm->usLastIdPosAddr;
  331   1          pCalRegs->rS2Addr = pKmIDParm->usCurrIdPosAddr;
  332   1          pCalRegs->rOutAddr = pKmIDParm->usCalOut;
  333   1          pCalRegs->rSize    = (pKmIDParm->ucLastPoint << 8) + pKmIDParm->ucCurrPoint;
  334   1      
  335   1          //cmd
  336   1          pCalRegs->rCmd = 0;
  337   1          DrvCal_Cmd(OP_MDS);
  338   1      
  339   1          for (i = 0; i < pKmIDParm->ucLastPoint; i++)
  340   1          {
  341   2              for (j = 0; j < pKmIDParm->ucCurrPoint; j++)
  342   2              {
  343   3                  *(UINT16*)(pKmIDParm->usCalOut+(i*11 + j)*2) = ~(*(UINT16*)(pKmIDParm->usCalOut+(i*11 + j)*2)
             -);
  344   3              }
  345   2          }
  346   1      
  347   1          // 2.‘Ÿcal ID∫≈
  348   1          pCalRegs->rS1Addr = pKmIDParm->usCalOut;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 125 

  349   1          pCalRegs->rSize   = (MaxPoint<<8) + MaxPoint;
  350   1      
  351   1          //cmd
  352   1          pCalRegs->rCmd  = 0;
  353   1          DrvCal_Cmd(OP_KM);
  354   1      
  355   1          /* Ω‚Œˆ”≤º˛CalID º∆À„µƒΩ·π˚ */
  356   1          for (i = 0; i < 11; i++)
  357   1          {
  358   2              // Get ID
  359   2              if (i < 4)
  360   2              {
  361   3                  *(UINT16*)(pKmIDParm->usCalOut + i*2) = ( pCalRegs->rID0 >> (4*i) ) % 0x10;
  362   3              }
  363   2              else if (i < 8)
  364   2              {
  365   3                  *(UINT16*)(pKmIDParm->usCalOut + i*2) = ( pCalRegs->rID1 >> (4*(i-4)) ) % 0x10;
  366   3              }
  367   2              else
  368   2              {
  369   3                  *(UINT16*)(pKmIDParm->usCalOut + i*2) = ( pCalRegs->rID2 >> (4*(i-8)) ) % 0x10;
  370   3              }
  371   2          }
  372   1                
  373   1          CALCKEN = 0;
  374   1        
  375   1      }
  376          
  377          /*******************************************************************************
  378          *  Name: DrvCal_CRC16
  379          *  Brief: 
  380          *  1. if Area == 0 Calculat CRC for Dram
  381          *  2. if Area == 1 CRC start Address is 0xFC:xxxx
  382          *  3. if Area == 2 CRC start Address is 0xFD:xxxx
  383          *  4. if Area == 3 CRC Start Address is 0xFE:xxxx
  384          *  5. if Area == 4 CRC start Address is 0xFF:xxxx
  385          *  6. usLen:0 ~ 70k
  386          *  
  387          *  for example:
  388          *  1.if want to calculat CRC Result for the zone (0xFE:E800 ~ 0xFF:FFFF),
  389          *  set Area = 3,usSrc1Addr = 0xE800, uslen = 35*1024(70k)
  390          *  2.if want to calculat CRC Result for the zone (0xFF:0000 ~ 0xFF:FFFF),
  391          *  set Area = 4,usSrc1Addr = 0x0000, uslen = 32*1024(64k)
  392          *  3.if want to calculat CRC Result for the zone (0xFC:E800 ~ 0xFC:FFFF),
  393          *  set Area = 1,usSrc1Addr = 0xE800, uslen = 3*1024(6k)
  394          *
  395          * Input:  usSrc1Addr,usLen,Area,type,AddrH
  396          * Output: None
  397          * Return: CRC16 result
  398          *******************************************************************************/
  399          UINT16 DrvCal_CRC16(UINT16 usSrc1Addr, UINT16 usLen, UINT8 Area, BOOLEAN type)
  400          {
  401   1          UINT16 value;
  402   1          //clk
  403   1          CALCKEN = 1;
  404   1                
  405   1          //cfg
  406   1          pCalRegs->rS1Addr = usSrc1Addr;
  407   1          pCalRegs->rSize   = usLen;
  408   1      
  409   1          //∆Ù∂Ø
  410   1          pCalRegs->rCmd = (UINT16)type << 10;     //set xorsum function
  411   1      
  412   1          switch(Area)
  413   1          {
  414   2              case CRC_SRC_DRAM:
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 126 

  415   2                  pCalRegs->rCmd |= (0x00<<8);
  416   2                  pCalRegs->rInt &= ~(1<<8);
  417   2                  break;
  418   2      
  419   2              case CRC_SRC_FC_ZONE:
  420   2                  pCalRegs->rCmd |= (0x01<<8);
  421   2                  pCalRegs->rInt &= ~(1<<8);
  422   2                  break;
  423   2                  
  424   2              case CRC_SRC_FD_ZONE:
  425   2                  pCalRegs->rCmd |= (0x01<<8);
  426   2                  pCalRegs->rInt |= (1<<8); 
  427   2                  break;
  428   2      
  429   2              case CRC_SRC_FE_ZONE:
  430   2                  pCalRegs->rCmd |= (0x03<<8);
  431   2                  pCalRegs->rInt &= ~(1<<8); 
  432   2                  break;
  433   2                  
  434   2              case CRC_SRC_FF_ZONE:
  435   2                  pCalRegs->rCmd |= (0x03<<8);
  436   2                  pCalRegs->rInt |= (1<<8); 
  437   2                  break;
  438   2              default :
  439   2                  break;            
  440   2          }
  441   1          
  442   1          DrvCal_Cmd(OP_CRC);
  443   1      
  444   1          value = pCalRegs->rCrc;
  445   1            
  446   1          CALCKEN = 0;
  447   1          return value;
  448   1      }
  449          
  450          
  451          #if 0
               /*******************************************************************************
               *   Name: Test_CAL_MaxtixMul_PtoP1
               *  Brief: M1 : M*N
               *         M2 : 1*N
               *         OUT: M*N
               *         Out[i][j] = M2[1][j]*M1[i][j];
               *  Input: ST_CalMcMatrixParam *pMcMP =>
               * Output: None
               * Return: None
               *******************************************************************************/
               void DrvCal_MatrixMul_PtoP1(ST_CalMcMatrixParam *pMcMP)
               {
                   //clk
                   CALCKEN = TRUE;
                         
                   // Address
                   pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
                   pCalRegs->rS2Addr  = pMcMP->usSrc2Addr;
                   pCalRegs->rOutAddr = pMcMP->usDstAddr;
                   pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
                   pCalRegs->rPThd   = pMcMP->ucShift;
                   
                   pCalRegs->rInt &=(~(1<<13));
                   pCalRegs->rInt |= (pMcMP->ucCfg<<13);
                   
                   pCalRegs->rCmd &= (~CAL_CMD_MUL2_EN);    // 1*2æÿ’Û
               
                   DrvCal_Cmd(pMcMP->usCalCmd);
                         
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 127 

                   CALCKEN = FALSE;
               }
               
               /*******************************************************************************
               *   Name: DrvCal_MatrixMul_PtoP2
               *  Brief: M1 : M*N
               *         M2 : M*N
               *         OUT: M*N
               *         Out[i][j] = M1[i][j]*M2[i][j];
               *  Input: ST_CalMcMatrixParam *pMcMP =>
               *
               * Output: None
               * Return: None
               *******************************************************************************/
               void DrvCal_MatrixMul_PtoP2(ST_CalMcMatrixParam *pMcMP)
               {
                   //clk
                   CALCKEN = TRUE;
                     
                   // Address
                   pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
                   pCalRegs->rS2Addr  = pMcMP->usSrc2Addr;
                   pCalRegs->rOutAddr = pMcMP->usDstAddr;
                   pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
                   pCalRegs->rPThd   = pMcMP->ucShift;
               
                   pCalRegs->rCmd |= CAL_CMD_MUL2_EN;       // 2*2æÿ’Û
               
                   DrvCal_Cmd(pMcMP->usCalCmd);
                         
                   CALCKEN = FALSE;
               }
               #endif
  514          /*******************************************************************************
  515          *  Name: DrvCal_MatrixMul2
  516          *  Brief:
  517          *         if CalReg->cmd.bit13 == 1:          // 2*2æÿ’Û‘ÀÀ„
  518          *         {
  519          *            S1 : M*N
  520          *            S2 : M*N
  521          *            OUT: M*N
  522          *            Out[i][j] = S1[i][j]*S2[i][j];
  523          *         }
  524          *
  525          *         if  CalReg->Cmd.bit13 == 0:         // 1*2æÿ’Û‘ÀÀ„
  526          *         {
  527          *           if CalReg->Int.bit13 == 1:        //∞¥––≥ÀπÃ∂® ˝
  528          *           {
  529          *              S1 : M*N
  530          *              S2 : 1*N
  531          *              OUT: M*N
  532          *              Out[i][j] = S2[1][j]*S1[i][j]
  533          *           }
  534          *           if CalReg->Int.bit13 == 0:        //∞¥¡–≥ÀπÃ∂® ˝
  535          *           {
  536          *              S1 : M*N
  537          *              S2 : M*1
  538          *              OUT: M*N
  539          *              Out[i][j] = S2[i][1]*S1[i][j]
  540          *           }                        
  541          *         }
  542          *
  543          *  Input: ST_CalMcMatrixParam *pMcMP =>
  544          *  Output: None
  545          *  Return: None
  546          *******************************************************************************/
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 128 

  547          void DrvCal_MatrixMul2(ST_CalMcMatrixParam *pMcMP,BOOLEAN MulMode)
  548          {
  549   1          //clk
  550   1          CALCKEN = TRUE;
  551   1            
  552   1          // Address
  553   1          pCalRegs->rS1Addr  = pMcMP->usSrc1Addr;
  554   1          pCalRegs->rS2Addr  = pMcMP->usSrc2Addr;
  555   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;
  556   1          pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  557   1          pCalRegs->rPThd   = pMcMP->ucShift;
  558   1      
  559   1          if(MulMode == MUL2_MODE_1)                   // 2*2æÿ’Û  
  560   1          {
  561   2              pCalRegs->rCmd |= CAL_CMD_MUL2_EN;       // 2*2∑Ω Ω   
  562   2          }
  563   1          else if(MulMode == MUL2_MODE_0)              // 1*2æÿ’Û 
  564   1          {
  565   2              pCalRegs->rInt &=(~(1<<13));
  566   2              pCalRegs->rInt |= (pMcMP->ucCfg<<13);    // ∞¥––≥ÀªÚ’ﬂ∞¥¡–≥À    
  567   2              pCalRegs->rCmd &= (~CAL_CMD_MUL2_EN);    // 1*2∑Ω Ω            
  568   2          }
  569   1      
  570   1          DrvCal_Cmd(pMcMP->usCalCmd);
  571   1                
  572   1          CALCKEN = FALSE;
  573   1      }
  574          
  575          #if 0
               /*******************************************************************************
               *   Name: DrvCal_MatrixCompensation_1
               *  Brief:
               *  Input: ST_CalMcMatrixParam *pMcMP =>
               *         UINT8 Thr: Threshold
               *         UINT8 step: Step
               * Output: None
               * Return: None
               *******************************************************************************/
               void DrvCal_MatrixCompensation_1(ST_CalMcMatrixParam *pMcMP, UINT8 Thr, UINT8 step)
               {
                   // CLK
                   CALCKEN = TRUE;
               
                   // Address
                   pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
                   pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
                   pCalRegs->rOutAddr  = pMcMP->usDstAddr;
               
                   // æÿ’Û≥§∂»…Ë÷√
                   pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
               
                   // com–¬æ…ƒ£ Ω—°‘Ò
                   if(pMcMP->ucCfg == COM_CFG_0)
                   {
                       pCalRegs->rInt&=(~(1<<14));
                   }
                   else if(pMcMP->ucCfg == COM_CFG_1) 
                   {
                       pCalRegs->rInt|=(1<<14);
                   }
               
                   // Mode
                   pCalRegs->rPThd = (COMPENSATION_MODE<<8);
               
                   // Step and threshold
                   pCalRegs->rNThd = ((Thr<<8)|(step));
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 129 

               
                   // ≤ª≤π≥•«¯”Ú…Ë÷√
                   pCalRegs->rPThd |= ((NO_COMPENSATION_TX_LENGTH<<4) | (NO_COMPENSATION_RX_LENGTH));
                   pCalRegs->rPar  = ((NO_COMPENSATION_TX_START <<8) | (NO_COMPENSATION_RX_START));
               
               
                   //∆Ù∂Ø
                   pCalRegs->rCmd  = 0;
                   DrvCal_Cmd(pMcMP->usCalCmd);
                     
                   CALCKEN = FALSE;
               }
               /*******************************************************************************
               *   Name: DrvCal_MatrixCompensation_2
               *  Brief:
               *  Input: ST_CalMcMatrixParam *pMcMP =>
               *         UINT8 Thr: Threshold
               *         UINT8 step: Step
               * Output: None
               * Return: None
               *******************************************************************************/
               void DrvCal_MatrixCompensation_2(ST_CalMcMatrixParam *pMcMP, UINT8 Thr, UINT8 mode)
               {
                   // CLK
                   CALCKEN = TRUE;
                     
                   // Address
                   pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
                   pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
                   pCalRegs->rOutAddr  = pMcMP->usDstAddr;
                   
                   // æÿ’Û≥§∂»…Ë÷√
                   pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
               
                   // Mode
                   pCalRegs->rPThd = (COMPENSATION_MODE<<8);
               
                   // com–¬æ…ƒ£ Ω—°‘Ò
                   if(pMcMP->ucCfg == COM_CFG_0)
                   {
                       pCalRegs->rInt&=(~(1<<14));
                   }
                   else if(pMcMP->ucCfg == COM_CFG_1) 
                   {
                       pCalRegs->rInt|=(1<<14);      
                   }
               
                   // Step and threshold
                   pCalRegs->rNThd = Thr;
               
                   // ≤ª≤π≥•«¯”Ú…Ë÷√
                   pCalRegs->rPThd |= ((NO_COMPENSATION_TX_LENGTH<<4) | (NO_COMPENSATION_RX_LENGTH));
                   pCalRegs->rPar  = ((NO_COMPENSATION_TX_START <<8) | (NO_COMPENSATION_RX_START));
               
                   pCalRegs->rCmd  = 0;
                   // com–¬ƒ£ Ω∞¥––¡–º∆À„—°‘Ò: 0: ∞¥––º∆À„, 1: ∞¥¡–º∆À„
                   pCalRegs->rCmd |= (mode<<10);  
                   //∆Ù∂Ø
                   DrvCal_Cmd(pMcMP->usCalCmd);
                     
                   CALCKEN = FALSE;
               }
               #endif
  676          /*******************************************************************************
  677          *  Name: DrvCal_MatrixCompensation
  678          *  Brief: 1.æ…≤π≥•À„∑®:»Ùæÿ’Û1µƒ ˝æ›(diff)¥Û”⁄„–÷µ’˝÷µ,Ω´æÿ’Û2(base)∂‘”¶Œª÷√µƒ ˝
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 130 

  679          *           æ›º”…œ≤π≥•÷µ“‘∫Û∑≈µΩΩ·π˚æÿ’Û∂‘”¶Œª÷√.»Ù–°”⁄„–÷µ∏∫÷µ£¨Ω´æÿ’Û2(base)∂‘
  680          *           ”¶Œª÷√µƒ ˝æ›ºı»•≤π≥•÷µ“‘∫Û∑≈µΩΩ·π˚æÿ’Û∂‘”¶Œª÷√.∆‰À˚÷µ≤ª±‰
  681          *
  682          *         2.–¬≤π≥•À„∑®:»Ùæÿ’Û1µƒ ˝æ›(rawdata)¥Û”⁄„–÷µ’˝÷µ£¨‘ÚΩ´∏√ ˝æ›ºı»•≤π≥•÷µ
  683          *           “‘∫Û∑≈µΩΩ·π˚æÿ’Û£¨»Ù–°”⁄„–÷µ∏∫÷µ£¨‘ÚΩ´∏√ ˝æ›º”…œ≤π≥•÷µ“‘∫Û∑≈µΩΩ·π˚
  684          *           æÿ’Û°£∆‰À˚÷µ≤ª±‰(∏˜––ªÚ∏˜¡–µƒ≤π≥•÷µ≤ª“ª—˘£¨æÿ’Û2Œ™≤π≥•÷µ)
  685          *  Input: ST_CalMcMatrixParam *pMcMP =>
  686          *         UINT8 Thr: Threshold
  687          *         UINT8 step: Step
  688          * Output: None
  689          * Return: None
  690          *******************************************************************************/
  691          void DrvCal_MatrixCompensation(ST_CalMcMatrixParam *pMcMP, UINT8 Thr, UINT8 Cfg)
  692          {
  693   1          // CLK
  694   1          CALCKEN = TRUE;
  695   1            
  696   1          // Address
  697   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
  698   1          pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
  699   1          pCalRegs->rOutAddr  = pMcMP->usDstAddr;
  700   1          
  701   1          // æÿ’Û≥§∂»…Ë÷√
  702   1          pCalRegs->rSize = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  703   1      
  704   1          pCalRegs->rCmd  = 0;
  705   1          // com–¬æ…ƒ£ Ω—°‘Ò
  706   1          if(pMcMP->ucCfg == COM_CFG_0)
  707   1          {
  708   2              pCalRegs->rInt&=(~CAL_FUNC_SEL);            //æ…À„∑®(∏˘æ› diff ÷µµ˜’˚ base)
  709   2      
  710   2              // Step and threshold
  711   2              pCalRegs->rNThd = ((Thr<<8)|(Cfg));         //thr:≤π≥•µƒthreshold;Cfg:≤π≥•÷µ        
  712   2          }
  713   1          else if(pMcMP->ucCfg == COM_CFG_1) 
  714   1          {
  715   2              pCalRegs->rInt|= CAL_FUNC_SEL;              //–¬À„∑®(linefilter)
  716   2      
  717   2              // Step and threshold
  718   2              pCalRegs->rNThd = Thr;                      //„–÷µµƒæ¯∂‘÷µ
  719   2              
  720   2              // com–¬ƒ£ Ω∞¥––¡–º∆À„—°‘Ò: 0: ∞¥––º∆À„, 1: ∞¥¡–º∆À„
  721   2              pCalRegs->rCmd |= (Cfg<<10);        
  722   2          }
  723   1      
  724   1          // Mode
  725   1          pCalRegs->rPThd = (COMPENSATION_MODE << 8); //0:»´∆¡≤π≥•;1:”–≤ª≤π≥•«¯”Ú    
  726   1          // ≤ª≤π≥•«¯”Ú…Ë÷√
  727   1          pCalRegs->rPThd |= ((NO_COMPENSATION_TX_LENGTH<<4) | (NO_COMPENSATION_RX_LENGTH));
  728   1          pCalRegs->rPar  = ((NO_COMPENSATION_TX_START <<8) | (NO_COMPENSATION_RX_START));
  729   1      
  730   1          //∆Ù∂Ø
  731   1          DrvCal_Cmd(pMcMP->usCalCmd);
  732   1            
  733   1          CALCKEN = FALSE;
  734   1      }
  735          
  736          /*******************************************************************************
  737          *  Name: DrvCal_LDS
  738          *  Brief: 
  739          *         S1[M][N]  (S1µƒ“ª∏ˆ‘™ÀÿŒ™16bit(x,y)°£x”Îy∂ºŒ™8bits)
  740          *         S2[M][N]
  741          *         OUT[i][j] = sqrt((S1[i][j].x-S2[i][j].x)^2+(S1[i][j].y-S2[i][j].y)^2)
  742          *  Input: ST_CalMcMatrixParam *pMcMP
  743          * Output: None
  744          * Return: None
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 131 

  745          *******************************************************************************/
  746          void DrvCal_LDS(ST_CalMcMatrixParam *pMcMP)
  747          {
  748   1          // Clk
  749   1          CALCKEN = TRUE;
  750   1            
  751   1          // Address
  752   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
  753   1          pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
  754   1          pCalRegs->rOutAddr  = pMcMP->usDstAddr;
  755   1          pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  756   1      
  757   1          //∆Ù∂Ø
  758   1          pCalRegs->rCmd  = 0;
  759   1          DrvCal_Cmd(pMcMP->usCalCmd);
  760   1            
  761   1          CALCKEN = FALSE;
  762   1      }
  763          
  764          /*******************************************************************************
  765          *   Name: DrvCal_MDS
  766          *  Brief: ”√”⁄≤˙…˙¡Ω¡–◊˘±Íº‰µƒæ‡¿Îpoint to point
  767          *         S1[M]  (S1µƒ“ª∏ˆ‘™ÀÿŒ™16bit(x,y)°£x”Îy∂ºŒ™8bits)
  768          *         S2[N]
  769          *         OUT[i][j] = sqrt((S1[i].x-S2[j].x)^2+(S1[i].y-S2[j].y)^2)
  770          *  Input: ST_CalMcMatrixParam *pMcMP =>
  771          * Output: None
  772          * Return: None
  773          *******************************************************************************/
  774          void DrvCal_MDS(ST_CalMcMatrixParam *pMcMP)
  775          {
  776   1          // Clk
  777   1          CALCKEN = TRUE;
  778   1            
  779   1          // Address
  780   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
  781   1          pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
  782   1          pCalRegs->rOutAddr  = pMcMP->usDstAddr;
  783   1              pCalRegs->rSize    = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  784   1      
  785   1          //∆Ù∂Ø
  786   1          pCalRegs->rCmd  = 0;
  787   1          DrvCal_Cmd(pMcMP->usCalCmd);
  788   1            
  789   1          CALCKEN = FALSE;
  790   1      }
  791          
  792          /*******************************************************************************
  793          *   Name: DrvCal_Noise
  794          *  Brief:
  795          *         1.“ª¡– ˝æ› ≤Ó÷µ = ◊Ó¥Û÷µ - ◊Ó–°÷µ
  796          *         2.À˘”–¡–µƒ≤Ó÷µ÷–«Û◊Ó¥Û÷µ max = max(≤Ó÷µ)
  797          *  Input: UINT16 usSrc1Addr
  798          *         UINT8  Tx
  799          *         UINT8  Rx
  800          * Output: None
  801          * Return: Get Max of value,which is sub value of max-min in the same column
  802          *******************************************************************************/
  803          UINT16 DrvCal_Noise(UINT16 usSrc1Addr,UINT8 Tx_Len, UINT8 Rx_Len)
  804          {
  805   1          UINT16 Noise;
  806   1          //clk
  807   1          CALCKEN = TRUE;
  808   1      
  809   1          // Cfg
  810   1          pCalRegs->rS1Addr = usSrc1Addr;
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 132 

  811   1          pCalRegs->rSize    = (Tx_Len<<8) + Rx_Len;
  812   1      
  813   1          pCalRegs->rCmd  = 0;
  814   1          DrvCal_Cmd(OP_CHK);
  815   1      
  816   1          Noise = pCalRegs->rChk;
  817   1            
  818   1          CALCKEN = FALSE;
  819   1          return Noise;
  820   1      }
  821          
  822          /*******************************************************************************
  823          *   Name: DrvCal_MatrixAMov
  824          *  Brief: 
  825          *    1.Amovø…«∂Ã◊CAL‘ÀÀ„,µ±∆Ù∂ØAmov ±ø…¥Ú∂œµ±«∞CAL‘ÀÀ„Ω¯––AMov‘ÀÀ„
  826          *    2.∏√‘ÀÀ„”√”⁄‘⁄÷–∂œ÷–∞·“∆Aram÷–rawdataµΩdram
  827          * input : 
  828          * Return: None
  829          *******************************************************************************/
  830          void DrvCal_MatrixAMov(ST_CalMatrixAMov *pMcMP)
  831          {
  832   1          UINT8 CALCKEN_BAK = CALCKEN;
  833   1              UINT16 ucCalCmd   = pCalRegs ->rCmd;
  834   1              
  835   1          CALCKEN = 1;//clk
  836   1          //pCalRegs ->rCmd |= CAL_CMD_MOD_EXTEND + EX_OP_AMOV ;                                       // ƒø«∞∑
             -¢œ÷avgÀ„∑®”Îamove≤ªƒ‹Õ¨ ±¥Ê‘⁄,‘⁄µ˜”√amove ±”¶∏√±£÷§cmd≤ªƒ‹≈‰÷√≥…avg
  837   1              pCalRegs ->rCmd &= 0x7fff ; 
  838   1      
  839   1          pCalRegs->rSizeAm = (pMcMP->ucS1TxLen << 8) + pMcMP->ucS1RxLen;  // 21 TxRxLen
  840   1          pCalRegs->rS1AddrA = pMcMP->usSrc1Addr;   // SrcAddr
  841   1          pCalRegs->rOutAddrA = pMcMP->usDstAddr;   // DstAddr
  842   1          pCalRegs->rInt &= 0xFF00;
  843   1          pCalRegs->rInt |= (0<<3);//≤ª÷ß≥÷∫œ≤¢aMove Mode Select 03
  844   1          pCalRegs->rInt |= CAL_CMD_AMOV_EN;//∆Ù”√aMove  04   
  845   1          pCalRegs->rInt |= CAL_CMD_AMOV_START;//aMoveStart 0
  846   1      
  847   1           /* mcu hold ... cal run */
  848   1          while ((pCalRegs->rInt&CAL_CMD_AMOV_INT) != CAL_CMD_AMOV_INT)
  849   1          {
  850   2              DBG_CAL("\nwaiting...int");
  851   2              /* if cal madule is resumed,start again */
  852   2              if ((pCalRegs->rInt&CAL_CMD_AMOV_SUSPEND) == CAL_CMD_AMOV_SUSPEND)
  853   2              {               
  854   3                  pCalRegs->rInt |= CAL_CMD_AMOV_RESUME;
  855   3                  g_bAmoveResumeFlag = TRUE;
  856   3              }
  857   2          }
  858   1              g_ucAmoveStart = 0;
  859   1      
  860   1          pCalRegs->rInt |= CAL_CMD_AMOV_INT_CLR;
  861   1          pCalRegs->rInt &= 0xFF00;
  862   1              pCalRegs->rCmd = ucCalCmd;
  863   1              
  864   1              if(g_bAmoveResumeFlag)
  865   1              {
  866   2                      DBG_FLOW("\n\n\nAmove suspend");
  867   2                      DBG_FLOW("\nAmove suspend");
  868   2                      DBG_FLOW("\nAmove suspend");
  869   2                      g_bAmoveResumeFlag = 0;
  870   2              }
  871   1          
  872   1          //”–ø…ƒ‹‘⁄ASM÷–∂œ÷–µ˜”√¡ÀAMOVE,»ª∫ÛASM÷–∂œ¥Ú∂œ¡À∆‰À˚CALÀ„∑®£¨ÕÀ≥ˆAmoveÀ„∑® ±,ºŸ»ÁπÿµÙ¡À
  873   1          //CALCKEN£¨‘Ú±ª¥Ú∂œµƒCALÀ„∑®ª·√ª∑®÷¥––œ¬»•£¨µº÷¬œµÕ≥ø®À¿.“Ú¥À£¨–Ë“™‘⁄µ˜”√AMOVEµƒ ±∫Ú£¨∞—
  874   1          //Ω¯¿¥÷Æ«∞µƒCALCKEN±£¥Êœ¬¿¥£¨ÕÀ≥ˆµƒ ±∫Úª÷∏¥≥…‘≠—˘.
  875   1          CALCKEN = CALCKEN_BAK;   
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 133 

  876   1      }
  877          
  878          /*******************************************************************************
  879          *  Name: DrvCal_MatrixAvg
  880          *  Brief: 
  881          *  1.∞¥––∞¥¡–«Û»°‘¥æÿ’Ûµƒ∆Ωæ˘÷µ£¨Src1Addr¥Ê∑≈µƒ «‘¥ ˝æ›æÿ’Û£¨Src2Addr¥Ê∑≈µƒ «∏˜––
  882          *    ªÚ∏˜¡–µƒ„–÷µ(∏˜––ªÚ∏˜¡–∂º”–◊‘º∫µ•∂¿µƒ„–÷µ)£¨Ω·π˚∑≈‘⁄OutAddr÷–°£
  883          *  2.usAvgMode = 0£¨»Ù‘¥ ˝æ›≥¨π˝„–÷µ,‘Ú”√∏√––ªÚ∏√¡–µƒ„–÷µ¥˙ÃÊ‘¥ ˝æ›≤Œ”Îº∆À„
  884          *  3.usAvgMode = 1£¨»Ù‘¥ ˝æ›≥¨π˝„–÷µ,‘ÚΩ´∏√ ˝æ›∂™∆˙£¨º∆À„∏√––ªÚ∏√¡– £”‡µƒ∆Ωæ˘÷µ
  885          *  input:   
  886          *    ucCfg: 0: ≤Ÿ◊˜ ˝ «”–∑˚∫≈ ˝;  1:≤Ÿ◊˜ ˝ «Œﬁ∑˚∫≈ ˝
  887          *    ucLineCfg: 0: ∞¥––º∆À„; 1: ∞¥¡–º∆À„
  888          *    ucDataType: 0: ‘≠ º ˝æ›; 1:  ˝æ›œ»«Ûæ¯∂‘÷µ 
  889          * Output: None
  890          * Return: None
  891          *******************************************************************************/
  892          void DrvCal_MatrixAvg(ST_CalMcMatrixParam *pMcMP,UINT8 usAvgMode)
  893          {
  894   1          //clk
  895   1          CALCKEN = TRUE;
  896   1                   
  897   1          // Address
  898   1          pCalRegs->rS1Addr   = pMcMP->usSrc1Addr;
  899   1          pCalRegs->rS2Addr   = pMcMP->usSrc2Addr;
  900   1          pCalRegs->rOutAddr  = pMcMP->usDstAddr;
  901   1          pCalRegs->rSize     = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen; // 6
  902   1      
  903   1          pCalRegs->rInt &=(~(1<<14));
  904   1          pCalRegs->rInt |=(usAvgMode<<14);    
  905   1          pCalRegs->rCmd  = (pMcMP->ucLineCfg<<10)|(pMcMP->ucDataType<<9)|(pMcMP->ucCfg<<8);
  906   1          pCalRegs->rCmd |= CAL_CMD_MOD_EXTEND;
  907   1          DrvCal_Cmd(pMcMP->usCalCmd);
  908   1            
  909   1          CALCKEN = FALSE;
  910   1      }
  911          
  912          /*******************************************************************************
  913          *  Name: DrvCal_MatrixMaxMin
  914          *  Brief: 
  915          *  input:   
  916          *        ucCfg: 0: ≤Ÿ◊˜ ˝ «”–∑˚∫≈ ˝;  1:≤Ÿ◊˜ ˝ «Œﬁ∑˚∫≈ ˝
  917          *    ucLineCfg: 0: ∞¥––º∆À„; 1: ∞¥¡–º∆À„
  918          *   ucDataType: 0: ‘≠ º ˝æ›; 1:  ˝æ›œ»«Ûæ¯∂‘÷µ 
  919          * Output: None
  920          * Return: None
  921          *******************************************************************************/
  922          void DrvCal_MatrixMaxMin(ST_CalMcMatrixParam *pMcMP)
  923          {
  924   1          //clk
  925   1          CALCKEN = TRUE;
  926   1                  
  927   1          // Address
  928   1          pCalRegs->rS1Addr   = pMcMP->usSrc1Addr;
  929   1          pCalRegs->rOutAddr  = pMcMP->usDstAddr;  
  930   1          pCalRegs->rSize   = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  931   1          pCalRegs->rCmd= (pMcMP->ucLineCfg<<10)|(pMcMP->ucDataType<<9)|(pMcMP->ucCfg<<8); //00   
  932   1          pCalRegs->rCmd |= CAL_CMD_MOD_EXTEND;//
  933   1          DrvCal_Cmd(pMcMP->usCalCmd);
  934   1            
  935   1          CALCKEN = FALSE;
  936   1      }
  937          
  938          /*******************************************************************************
  939          *   Name: DrvCal_MatrixCount
  940          *  Brief:
  941          *     IN: M*Næÿ’Û  
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 134 

  942          *    OUT: ¥¶”⁄[min max]÷Æº‰µƒæÿ’Û‘™Àÿ∏ˆ ˝
  943          * Return:
  944          *******************************************************************************/
  945          UINT16 DrvCal_MatrixCount(ST_CalMcMatrixParam *pMcMP, SINT16 ssMin,SINT16 ssMax)
  946          {
  947   1          UINT16 usNum = 0;
  948   1          //clk
  949   1              CALCKEN = TRUE;
  950   1            
  951   1          // Address
  952   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;   
  953   1          pCalRegs->rSize   = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  954   1          pCalRegs->rPThd     = ssMax;
  955   1          pCalRegs->rNThd     = ssMin;
  956   1      
  957   1          pCalRegs->rCmd = 0; 
  958   1          pCalRegs->rCmd |= CAL_CMD_MOD_EXTEND;
  959   1          DrvCal_Cmd(pMcMP->usCalCmd);
  960   1      
  961   1          usNum = pCalRegs->rCntNum;
  962   1                
  963   1              CALCKEN = FALSE;
  964   1          return usNum;
  965   1      }
  966          
  967          /*******************************************************************************
  968          *   Name: DrvCal_SubConst
  969          *  Brief:
  970          *     IN: M*N  1*N
  971          *    OUT: M*N
  972          * input : usCfgLineCol: 0: ∞¥––º∆À„;  1: ∞¥¡–º∆À„
  973          * Return: None
  974          *******************************************************************************/
  975          void DrvCal_MatrixSubConst(ST_CalMcMatrixParam *pMcMP)
  976          {
  977   1          //clk
  978   1          CALCKEN = TRUE;
  979   1            
  980   1          // Address
  981   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
  982   1          pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
  983   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;   
  984   1          pCalRegs->rSize   = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
  985   1      
  986   1          pCalRegs->rCmd = (pMcMP->ucLineCfg<<10)+(pMcMP->ucCfg<<8);
  987   1          pCalRegs->rCmd |= CAL_CMD_MOD_EXTEND;
  988   1          DrvCal_Cmd(pMcMP->usCalCmd);
  989   1            
  990   1          CALCKEN = FALSE;
  991   1      }
  992          
  993          /*******************************************************************************
  994          *  Name: DrvCal_MatrixCMP
  995          *  Brief:
  996          *   IN: S1[M][N],S2[M][N]  
  997          *   OUT:1. if pCalRegs->rInt  bit14 = 1, OUT[i][j] = MAX(S1[i][j],S2[i][j])
  998          *       2. if pCalRegs->rInt  bit14 = 0, OUT[i][j] = MIN(S1[i][j],S2[i][j])
  999          * input : pMcMP
 1000          * Return: None
 1001          *******************************************************************************/
 1002          void DrvCal_MatrixCMP(ST_CalMcMatrixParam *pMcMP)
 1003          {
 1004   1          //clk
 1005   1          CALCKEN = TRUE;
 1006   1            
 1007   1          // Address
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 135 

 1008   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
 1009   1          pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
 1010   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;   
 1011   1          pCalRegs->rSize   = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
 1012   1          pCalRegs->rInt &= (~(1<<14));
 1013   1          pCalRegs->rInt |= (pMcMP->ucDataType<<14);                                //ucDataType≈‰÷√ «»°◊Ó¥Û÷µª
             -π «◊Ó–°÷µ
 1014   1      
 1015   1          pCalRegs->rCmd &= (~(1<<8));    
 1016   1          pCalRegs->rCmd |= CAL_CMD_MOD_EXTEND + ((pMcMP->ucCfg & 0x01)<<8);        //ucCfg≈‰÷√”–Œﬁ∑˚∫≈
 1017   1      
 1018   1          DrvCal_Cmd(pMcMP->usCalCmd);
 1019   1            
 1020   1          CALCKEN = FALSE;
 1021   1      }
 1022          
 1023          /*******************************************************************************
 1024          *  Name: DrvCal_MatrixMul3
 1025          *  Brief:
 1026          *  Brief: S1 : M*1
 1027          *         S2 : N*1
 1028          *         OUT: M*N
 1029          *         Out[i][j] = S1[i][1]*S2[j][1];
 1030          * input : pMcMP
 1031          * Return: None
 1032          *******************************************************************************/
 1033          void DrvCal_MatrixMul3(ST_CalMcMatrixParam *pMcMP)
 1034          {
 1035   1          //clk
 1036   1          CALCKEN = TRUE;
 1037   1            
 1038   1          // Address
 1039   1          pCalRegs->rS1Addr = pMcMP->usSrc1Addr;
 1040   1          pCalRegs->rS2Addr = pMcMP->usSrc2Addr;
 1041   1          pCalRegs->rOutAddr = pMcMP->usDstAddr;     
 1042   1          pCalRegs->rSize   = (pMcMP->ucTxLen<<8) + pMcMP->ucRxLen;
 1043   1          pCalRegs->rPThd = pMcMP->ucShift;
 1044   1          pCalRegs->rCmd |= CAL_CMD_MOD_EXTEND;
 1045   1          DrvCal_Cmd(pMcMP->usCalCmd);
 1046   1            
 1047   1          CALCKEN = FALSE;
 1048   1      }
 1049          #endif
 1050          
 1051          
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 136 

ASSEMBLY LISTING OF GENERATED OBJECT CODE


;       FUNCTION DrvCal_Init? (BEGIN)
                                                ; SOURCE LINE # 64
;---- Variable 'usDmaskA' assigned to Register 'WR2' ----
;---- Variable 'usDmask' assigned to Register 'WR4' ----
;---- Variable 'ucRxNum' assigned to Register 'R7' ----
;---- Variable 'ucTxNum' assigned to Register 'R11' ----
                                                ; SOURCE LINE # 67
000000 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 69
000003 7E040021       MOV      WR0,#021H
000007 7E7F0000    R  MOV      DR28,pCalRegs
00000B 79070002       MOV      @DR28+0x2,WR0
                                                ; SOURCE LINE # 71
00000F 0A0B           MOVZ     WR0,R11          ; A=R11
000011 7D40           MOV      WR8,WR0
000013 7C89           MOV      R8,R9
000015 6C99           XRL      R9,R9
000017 0A07           MOVZ     WR0,R7
000019 2D04           ADD      WR0,WR8
00001B 7E7F0000    R  MOV      DR28,pCalRegs
00001F 79070032       MOV      @DR28+0x32,WR0
                                                ; SOURCE LINE # 72
000023 0A0B           MOVZ     WR0,R11          ; A=R11
000025 7C01           MOV      R0,R1
000027 6C11           XRL      R1,R1
000029 0A37           MOVZ     WR6,R7
00002B 2D30           ADD      WR6,WR0
00002D 7E2F0000    R  MOV      DR8,pCalRegs
000031 7932003E       MOV      @DR8+0x3E,WR6
                                                ; SOURCE LINE # 75
000035 7E2F0000    R  MOV      DR8,pCalRegs
000039 79220014       MOV      @DR8+0x14,WR4
                                                ; SOURCE LINE # 76
00003D 7E1F0000    R  MOV      DR4,pCalRegs
000041 7911003C       MOV      @DR4+0x3C,WR2
                                                ; SOURCE LINE # 78
000045 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 79
000048 AA             ERET     
;       FUNCTION DrvCal_Init? (END)

;       FUNCTION DrvCal_Cmd? (BEGIN)
                                                ; SOURCE LINE # 88
;---- Variable 'cmd' assigned to Register 'WR6' ----
                                                ; SOURCE LINE # 90
000049 7E0F0000    R  MOV      DR0,pCalRegs
00004D 0B0A20         MOV      WR4,@DR0
000050 5E24FF0F       ANL      WR4,#0FF0FH
000054 1B0A20         MOV      @DR0,WR4
                                                ; SOURCE LINE # 92
000057 7D23           MOV      WR4,WR6
000059 4E240001       ORL      WR4,#01H
00005D 7E0F0000    R  MOV      DR0,pCalRegs
000061 0B0A30         MOV      WR6,@DR0
000064 4D32           ORL      WR6,WR4
000066 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 93
000069 7401           MOV      A,#01H           ; A=R11
00006B 7AB30000    R  MOV      g_ucCalStartFlag,R11
                                                ; SOURCE LINE # 94
00006F D287           SETB     P0_7
                                                ; SOURCE LINE # 97
000071 8035           SJMP     ?C0001
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 137 

               ?C0003:
                                                ; SOURCE LINE # 102
000073 7E1F0000    R  MOV      DR4,pCalRegs
000077 0B1A30         MOV      WR6,@DR4
00007A 5E340008       ANL      WR6,#08H
00007E BE340008       CMP      WR6,#08H
000082 7824           JNE      ?C0001
                                                ; SOURCE LINE # 104
000084 7E348000       MOV      WR6,#08000H
000088 7A370000    E  MOV      ?printf??BYTE-2,WR6
00008C 7E140000    R  MOV      WR2,#WORD0 ?SC_0075
000090 7E040000    R  MOV      WR0,#WORD2 ?SC_0075
000094 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 105
000098 7E0F0000    R  MOV      DR0,pCalRegs
00009C 0B0A30         MOV      WR6,@DR0
00009F 4E340004       ORL      WR6,#04H
0000A3 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 106
0000A6 D200        R  SETB     g_bCalResumeFlag
                                                ; SOURCE LINE # 107
               ?C0001:
0000A8 7E0F0000    R  MOV      DR0,pCalRegs
0000AC 69300038       MOV      WR6,@DR0+0x38
0000B0 5E348000       ANL      WR6,#08000H
0000B4 BE348000       CMP      WR6,#08000H
0000B8 78B9           JNE      ?C0003
                                                ; SOURCE LINE # 109
0000BA E4             CLR      A                ; A=R11
0000BB 7AB30000    R  MOV      g_ucCalStartFlag,R11
                                                ; SOURCE LINE # 110
0000BF C287           CLR      P0_7
                                                ; SOURCE LINE # 111
0000C1 0B0A30         MOV      WR6,@DR0
0000C4 4E344000       ORL      WR6,#04000H
0000C8 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 112
0000CB 6D11           XRL      WR2,WR2
0000CD 7E1F0000    R  MOV      DR4,pCalRegs
0000D1 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 114
0000D4 300026         JNB      g_bCalResumeFlag,?C0006
                                                ; SOURCE LINE # 116
0000D7 7E140000    R  MOV      WR2,#WORD0 ?SC_0060
0000DB 7E040000    R  MOV      WR0,#WORD2 ?SC_0060
0000DF 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 117
0000E3 7E140000    R  MOV      WR2,#WORD0 ?SC_0047
0000E7 7E040000    R  MOV      WR0,#WORD2 ?SC_0047
0000EB 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 118
0000EF 7E140000    R  MOV      WR2,#WORD0 ?SC_0047
0000F3 7E040000    R  MOV      WR0,#WORD2 ?SC_0047
0000F7 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 119
0000FB C200        R  CLR      g_bCalResumeFlag
                                                ; SOURCE LINE # 120
               ?C0006:
0000FD AA             ERET     
;       FUNCTION DrvCal_Cmd? (END)

;       FUNCTION DrvCal_MatrixProc? (BEGIN)
                                                ; SOURCE LINE # 134
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 136
0000FE A9D6CB         SETB     CALCKEN
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 138 

                                                ; SOURCE LINE # 138
000101 C200        R  CLR      g_bCalResumeFlag
                                                ; SOURCE LINE # 140
000103 69300006       MOV      WR6,@DR0+0x6
000107 7E2F0000    R  MOV      DR8,pCalRegs
00010B 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 141
00010F 69300008       MOV      WR6,@DR0+0x8
000113 7E2F0000    R  MOV      DR8,pCalRegs
000117 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 142
00011B 6930000A       MOV      WR6,@DR0+0xA
00011F 7E2F0000    R  MOV      DR8,pCalRegs
000123 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 143
000127 7E0B70         MOV      R7,@DR0
00012A 0A37           MOVZ     WR6,R7
00012C 7D23           MOV      WR4,WR6
00012E 7C45           MOV      R4,R5
000130 6C55           XRL      R5,R5
000132 29700001       MOV      R7,@DR0+0x1
000136 2D32           ADD      WR6,WR4
000138 7E2F0000    R  MOV      DR8,pCalRegs
00013C 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 144
000140 29700002       MOV      R7,@DR0+0x2
000144 0A37           MOVZ     WR6,R7
000146 7E2F0000    R  MOV      DR8,pCalRegs
00014A 7932000E       MOV      @DR8+0xE,WR6
                                                ; SOURCE LINE # 146
00014E 29B00003       MOV      R11,@DR0+0x3     ; A=R11
000152 5401           ANL      A,#01H           ; A=R11
000154 0A3B           MOVZ     WR6,R11          ; A=R11
000156 7D53           MOV      WR10,WR6
000158 7CAB           MOV      R10,R11          ; A=R11
00015A E4             CLR      A                ; A=R11
00015B 7E1F0000    R  MOV      DR4,pCalRegs
00015F 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 147
000162 6930000C       MOV      WR6,@DR0+0xC
000166 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 149
00016A A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 150
00016D AA             ERET     
;       FUNCTION DrvCal_MatrixProc? (END)

;       FUNCTION DrvCal_MatrixAmp? (BEGIN)
                                                ; SOURCE LINE # 161
;---- Variable 'mul' assigned to Register 'WR6' ----
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 163
00016E A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 165
000171 69200006       MOV      WR4,@DR0+0x6
000175 7E2F0000    R  MOV      DR8,pCalRegs
000179 79220004       MOV      @DR8+0x4,WR4
                                                ; SOURCE LINE # 166
00017D 6920000A       MOV      WR4,@DR0+0xA
000181 7E2F0000    R  MOV      DR8,pCalRegs
000185 79220008       MOV      @DR8+0x8,WR4
                                                ; SOURCE LINE # 167
000189 7E0B50         MOV      R5,@DR0
00018C 0A25           MOVZ     WR4,R5
00018E 7D52           MOV      WR10,WR4
000190 7CAB           MOV      R10,R11          ; A=R11
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 139 

000192 E4             CLR      A                ; A=R11
000193 29500001       MOV      R5,@DR0+0x1
000197 2D25           ADD      WR4,WR10
000199 7E2F0000    R  MOV      DR8,pCalRegs
00019D 7922000C       MOV      @DR8+0xC,WR4
                                                ; SOURCE LINE # 168
0001A1 29500002       MOV      R5,@DR0+0x2
0001A5 0A25           MOVZ     WR4,R5
0001A7 7E2F0000    R  MOV      DR8,pCalRegs
0001AB 7922000E       MOV      @DR8+0xE,WR4
                                                ; SOURCE LINE # 169
0001AF 7E2F0000    R  MOV      DR8,pCalRegs
0001B3 7932000A       MOV      @DR8+0xA,WR6
                                                ; SOURCE LINE # 172
0001B7 6D55           XRL      WR10,WR10
0001B9 7E1F0000    R  MOV      DR4,pCalRegs
0001BD 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 173
0001C0 6930000C       MOV      WR6,@DR0+0xC
0001C4 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 175
0001C8 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 176
0001CB AA             ERET     
;       FUNCTION DrvCal_MatrixAmp? (END)

;       FUNCTION DrvCal_MatrixDiv? (BEGIN)
                                                ; SOURCE LINE # 187
;---- Variable 'div' assigned to Register 'R11' ----
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 189
0001CC A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 191
0001CF 69300006       MOV      WR6,@DR0+0x6
0001D3 7E7F0000    R  MOV      DR28,pCalRegs
0001D7 79370004       MOV      @DR28+0x4,WR6
                                                ; SOURCE LINE # 192
0001DB 6930000A       MOV      WR6,@DR0+0xA
0001DF 7E7F0000    R  MOV      DR28,pCalRegs
0001E3 79370008       MOV      @DR28+0x8,WR6
                                                ; SOURCE LINE # 193
0001E7 7E0BA0         MOV      R10,@DR0
0001EA 0A3A           MOVZ     WR6,R10
0001EC 7D23           MOV      WR4,WR6
0001EE 7C45           MOV      R4,R5
0001F0 6C55           XRL      R5,R5
0001F2 29A00001       MOV      R10,@DR0+0x1
0001F6 0A3A           MOVZ     WR6,R10
0001F8 2D32           ADD      WR6,WR4
0001FA 7E7F0000    R  MOV      DR28,pCalRegs
0001FE 7937000C       MOV      @DR28+0xC,WR6
                                                ; SOURCE LINE # 194
000202 0A3B           MOVZ     WR6,R11          ; A=R11
000204 7E2F0000    R  MOV      DR8,pCalRegs
000208 7932000A       MOV      @DR8+0xA,WR6
                                                ; SOURCE LINE # 196
00020C 6D55           XRL      WR10,WR10
00020E 7E1F0000    R  MOV      DR4,pCalRegs
000212 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 197
000215 6930000C       MOV      WR6,@DR0+0xC
000219 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 199
00021D A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 200
000220 AA             ERET     
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 140 

;       FUNCTION DrvCal_MatrixDiv? (END)

;       FUNCTION DrvCal_MatrixMul? (BEGIN)
                                                ; SOURCE LINE # 213
;---- Variable 'K_Num' assigned to Register 'R11' ----
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 216
000221 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 219
000224 69300006       MOV      WR6,@DR0+0x6
000228 7E7F0000    R  MOV      DR28,pCalRegs
00022C 79370004       MOV      @DR28+0x4,WR6
                                                ; SOURCE LINE # 220
000230 69300008       MOV      WR6,@DR0+0x8
000234 7E7F0000    R  MOV      DR28,pCalRegs
000238 79370006       MOV      @DR28+0x6,WR6
                                                ; SOURCE LINE # 221
00023C 6930000A       MOV      WR6,@DR0+0xA
000240 7E7F0000    R  MOV      DR28,pCalRegs
000244 79370008       MOV      @DR28+0x8,WR6
                                                ; SOURCE LINE # 222
000248 7E0BA0         MOV      R10,@DR0
00024B 0A3A           MOVZ     WR6,R10
00024D 7D23           MOV      WR4,WR6
00024F 7C45           MOV      R4,R5
000251 6C55           XRL      R5,R5
000253 29A00001       MOV      R10,@DR0+0x1
000257 0A3A           MOVZ     WR6,R10
000259 2D32           ADD      WR6,WR4
00025B 7E7F0000    R  MOV      DR28,pCalRegs
00025F 7937000C       MOV      @DR28+0xC,WR6
                                                ; SOURCE LINE # 223
000263 29A00002       MOV      R10,@DR0+0x2
000267 0A3A           MOVZ     WR6,R10
000269 7E7F0000    R  MOV      DR28,pCalRegs
00026D 7937000E       MOV      @DR28+0xE,WR6
                                                ; SOURCE LINE # 224
000271 0A3B           MOVZ     WR6,R11          ; A=R11
000273 7E2F0000    R  MOV      DR8,pCalRegs
000277 79320010       MOV      @DR8+0x10,WR6
                                                ; SOURCE LINE # 226
00027B 6D55           XRL      WR10,WR10
00027D 7E1F0000    R  MOV      DR4,pCalRegs
000281 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 227
000284 6930000C       MOV      WR6,@DR0+0xC
000288 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 229
00028C A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 230
00028F AA             ERET     
;       FUNCTION DrvCal_MatrixMul? (END)

;       FUNCTION DrvCal_McPeak? (BEGIN)
                                                ; SOURCE LINE # 242
000290 CA3B           PUSH     DR12
000292 7F31           MOV      DR12,DR4
;---- Variable 'pMcPI' assigned to Register 'DR12' ----
;---- Variable 'pMcPDP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 244
000294 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 246
000297 69300004       MOV      WR6,@DR0+0x4
00029B 7E2F0000    R  MOV      DR8,pCalRegs
00029F 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 247
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 141 

0002A3 69300008       MOV      WR6,@DR0+0x8
0002A7 7E2F0000    R  MOV      DR8,pCalRegs
0002AB 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 248
0002AF 69300006       MOV      WR6,@DR0+0x6
0002B3 7E2F0000    R  MOV      DR8,pCalRegs
0002B7 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 249
0002BB 29700001       MOV      R7,@DR0+0x1
0002BF 0A37           MOVZ     WR6,R7
0002C1 7D23           MOV      WR4,WR6
0002C3 7C45           MOV      R4,R5
0002C5 6C55           XRL      R5,R5
0002C7 7E0B70         MOV      R7,@DR0
0002CA 2D32           ADD      WR6,WR4
0002CC 7E2F0000    R  MOV      DR8,pCalRegs
0002D0 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 250
0002D4 29700002       MOV      R7,@DR0+0x2
0002D8 0A37           MOVZ     WR6,R7
0002DA 7E2F0000    R  MOV      DR8,pCalRegs
0002DE 7932000A       MOV      @DR8+0xA,WR6
                                                ; SOURCE LINE # 252
0002E2 6930000A       MOV      WR6,@DR0+0xA
0002E6 7E2F0000    R  MOV      DR8,pCalRegs
0002EA 7932000E       MOV      @DR8+0xE,WR6
                                                ; SOURCE LINE # 253
0002EE 6930000C       MOV      WR6,@DR0+0xC
0002F2 7E2F0000    R  MOV      DR8,pCalRegs
0002F6 79320010       MOV      @DR8+0x10,WR6
                                                ; SOURCE LINE # 254
0002FA 6930000E       MOV      WR6,@DR0+0xE
0002FE 7E2F0000    R  MOV      DR8,pCalRegs
000302 79320012       MOV      @DR8+0x12,WR6
                                                ; SOURCE LINE # 255
000306 69300010       MOV      WR6,@DR0+0x10
00030A 7E2F0000    R  MOV      DR8,pCalRegs
00030E 79320030       MOV      @DR8+0x30,WR6
                                                ; SOURCE LINE # 258
000312 29700003       MOV      R7,@DR0+0x3
000316 0A37           MOVZ     WR6,R7
000318 7D13           MOV      WR2,WR6
00031A 7C23           MOV      R2,R3
00031C 6C33           XRL      R3,R3
00031E 7E1F0000    R  MOV      DR4,pCalRegs
000322 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 259
000325 7E3400A0       MOV      WR6,#0A0H
000329 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 262
00032D 7E1F0000    R  MOV      DR4,pCalRegs
000331 6911001A       MOV      WR2,@DR4+0x1A
000335 7A3B30         MOV      @DR12,R3
                                                ; SOURCE LINE # 263
000338 6911001C       MOV      WR2,@DR4+0x1C
00033C 39330001       MOV      @DR12+0x1,R3
                                                ; SOURCE LINE # 264
000340 69110016       MOV      WR2,@DR4+0x16
000344 79130002       MOV      @DR12+0x2,WR2
                                                ; SOURCE LINE # 265
000348 69110018       MOV      WR2,@DR4+0x18
00034C 79130004       MOV      @DR12+0x4,WR2
                                                ; SOURCE LINE # 267
000350 69110022       MOV      WR2,@DR4+0x22
000354 79130006       MOV      @DR12+0x6,WR2
                                                ; SOURCE LINE # 268
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 142 

000358 69110024       MOV      WR2,@DR4+0x24
00035C 79130008       MOV      @DR12+0x8,WR2
                                                ; SOURCE LINE # 269
000360 6911001E       MOV      WR2,@DR4+0x1E
000364 7913000A       MOV      @DR12+0xA,WR2
                                                ; SOURCE LINE # 270
000368 69310020       MOV      WR6,@DR4+0x20
00036C 7933000C       MOV      @DR12+0xC,WR6
                                                ; SOURCE LINE # 272
000370 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 273
000373 DA3B           POP      DR12
000375 AA             ERET     
;       FUNCTION DrvCal_McPeak? (END)

;       FUNCTION DrvCal_Mac? (BEGIN)
                                                ; SOURCE LINE # 284
;---- Variable 'pMacParm' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 286
000376 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 288
000379 69300006       MOV      WR6,@DR0+0x6
00037D 7E2F0000    R  MOV      DR8,pCalRegs
000381 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 289
000385 69300008       MOV      WR6,@DR0+0x8
000389 7E2F0000    R  MOV      DR8,pCalRegs
00038D 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 291
000391 29700003       MOV      R7,@DR0+0x3
000395 0A37           MOVZ     WR6,R7
000397 7D23           MOV      WR4,WR6
000399 7C45           MOV      R4,R5
00039B 6C55           XRL      R5,R5
00039D 29700002       MOV      R7,@DR0+0x2
0003A1 2D32           ADD      WR6,WR4
0003A3 7E2F0000    R  MOV      DR8,pCalRegs
0003A7 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 292
0003AB 29700001       MOV      R7,@DR0+0x1
0003AF 0A37           MOVZ     WR6,R7
0003B1 7D23           MOV      WR4,WR6
0003B3 7C45           MOV      R4,R5
0003B5 6C55           XRL      R5,R5
0003B7 7E0B70         MOV      R7,@DR0
0003BA 2D32           ADD      WR6,WR4
0003BC 7E2F0000    R  MOV      DR8,pCalRegs
0003C0 7932000A       MOV      @DR8+0xA,WR6
                                                ; SOURCE LINE # 293
0003C4 29700004       MOV      R7,@DR0+0x4
0003C8 0A37           MOVZ     WR6,R7
0003CA 7E2F0000    R  MOV      DR8,pCalRegs
0003CE 7932000E       MOV      @DR8+0xE,WR6
                                                ; SOURCE LINE # 295
0003D2 29B00005       MOV      R11,@DR0+0x5     ; A=R11
0003D6 5403           ANL      A,#03H           ; A=R11
0003D8 0A3B           MOVZ     WR6,R11          ; A=R11
0003DA 7D13           MOV      WR2,WR6
0003DC 7C23           MOV      R2,R3
0003DE 6C33           XRL      R3,R3
0003E0 7E1F0000    R  MOV      DR4,pCalRegs
0003E4 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 297
0003E7 7E3400C0       MOV      WR6,#0C0H
0003EB 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 299
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 143 

0003EF A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 300
0003F2 AA             ERET     
;       FUNCTION DrvCal_Mac? (END)

;       FUNCTION DrvCal_KmID? (BEGIN)
                                                ; SOURCE LINE # 313
0003F3 CA3B           PUSH     DR12
0003F5 7F30           MOV      DR12,DR0
;---- Variable 'pKmIDParm' assigned to Register 'DR12' ----
                                                ; SOURCE LINE # 314
                                                ; SOURCE LINE # 318
0003F7 7E3B70         MOV      R7,@DR12
0003FA 7A730000    R  MOV      MaxPoint,R7
                                                ; SOURCE LINE # 319
0003FE 29730001       MOV      R7,@DR12+0x1
000402 BE730000    R  CMP      R7,MaxPoint
000406 3803        R  JG       $ + 5H
000408 020000      R  LJMP     ?C0007
                                                ; SOURCE LINE # 321
00040B 7A730000    R  MOV      MaxPoint,R7
                                                ; SOURCE LINE # 322
               ?C0007:
                                                ; SOURCE LINE # 324
00040F 69130006       MOV      WR2,@DR12+0x6
000413 6D00           XRL      WR0,WR0
000415 7E3400F2       MOV      WR6,#0F2H
000419 74FF           MOV      A,#0FFH          ; A=R11
00041B 9A000000    E  ECALL    memset??
                                                ; SOURCE LINE # 327
00041F A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 330
000422 69330002       MOV      WR6,@DR12+0x2
000426 7E0F0000    R  MOV      DR0,pCalRegs
00042A 79300004       MOV      @DR0+0x4,WR6
                                                ; SOURCE LINE # 331
00042E 69330004       MOV      WR6,@DR12+0x4
000432 7E0F0000    R  MOV      DR0,pCalRegs
000436 79300006       MOV      @DR0+0x6,WR6
                                                ; SOURCE LINE # 332
00043A 69330006       MOV      WR6,@DR12+0x6
00043E 7E0F0000    R  MOV      DR0,pCalRegs
000442 79300008       MOV      @DR0+0x8,WR6
                                                ; SOURCE LINE # 333
000446 7E3B70         MOV      R7,@DR12
000449 0A37           MOVZ     WR6,R7
00044B 7D23           MOV      WR4,WR6
00044D 7C45           MOV      R4,R5
00044F 6C55           XRL      R5,R5
000451 29730001       MOV      R7,@DR12+0x1
000455 2D32           ADD      WR6,WR4
000457 7E0F0000    R  MOV      DR0,pCalRegs
00045B 7930000C       MOV      @DR0+0xC,WR6
                                                ; SOURCE LINE # 336
00045F 6D11           XRL      WR2,WR2
000461 7E1F0000    R  MOV      DR4,pCalRegs
000465 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 337
000468 7E340060       MOV      WR6,#060H
00046C 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 339
000470 E4             CLR      A                ; A=R11
000471 020000      R  LJMP     ?C0055
                                                ; SOURCE LINE # 341
               ?C0017:
000474 E4             CLR      A                ; A=R11
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 144 

000475 020000      R  LJMP     ?C0056
               ?C0016:
                                                ; SOURCE LINE # 343
000478 7E030000    R  MOV      R0,i
00047C 7E100B         MOV      R1,#0BH
00047F AC01           MUL      R0,R1
000481 7EB30000    R  MOV      R11,j            ; A=R11
000485 0A1B           MOVZ     WR2,R11          ; A=R11
000487 2D01           ADD      WR0,WR2
000489 3E04           SLL      WR0
00048B 69130006       MOV      WR2,@DR12+0x6
00048F 2D10           ADD      WR2,WR0
000491 6D00           XRL      WR0,WR0
000493 0B0A30         MOV      WR6,@DR0
000496 6E34FFFF       XRL      WR6,#0FFFFH
00049A 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 344
00049D 04             INC      A                ; A=R11
               ?C0056:
00049E 7AB30000    R  MOV      j,R11            ; A=R11
               ?C0015:
0004A2 29730001       MOV      R7,@DR12+0x1
0004A6 BE730000    R  CMP      R7,j
0004AA 38CC           JG       ?C0016
                                                ; SOURCE LINE # 345
0004AC 7EB30000    R  MOV      R11,i            ; A=R11
0004B0 04             INC      A                ; A=R11
               ?C0055:
0004B1 7AB30000    R  MOV      i,R11            ; A=R11
               ?C0010:
0004B5 7E3B70         MOV      R7,@DR12
0004B8 BE730000    R  CMP      R7,i
0004BC 38B6           JG       ?C0017
                                                ; SOURCE LINE # 348
0004BE 69330006       MOV      WR6,@DR12+0x6
0004C2 7E0F0000    R  MOV      DR0,pCalRegs
0004C6 79300004       MOV      @DR0+0x4,WR6
                                                ; SOURCE LINE # 349
0004CA 7E730000    R  MOV      R7,MaxPoint
0004CE 0A27           MOVZ     WR4,R7
0004D0 7D32           MOV      WR6,WR4
0004D2 7C67           MOV      R6,R7
0004D4 6C77           XRL      R7,R7
0004D6 2D32           ADD      WR6,WR4
0004D8 7E0F0000    R  MOV      DR0,pCalRegs
0004DC 7930000C       MOV      @DR0+0xC,WR6
                                                ; SOURCE LINE # 352
0004E0 6D11           XRL      WR2,WR2
0004E2 7E1F0000    R  MOV      DR4,pCalRegs
0004E6 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 353
0004E9 7E3400D0       MOV      WR6,#0D0H
0004ED 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 356
0004F1 E4             CLR      A                ; A=R11
0004F2 7AB30000    R  MOV      i,R11            ; A=R11
               ?C0021:
                                                ; SOURCE LINE # 359
0004F6 7EA30000    R  MOV      R10,i
0004FA BEA004         CMP      R10,#04H
0004FD 4003        R  JC       $ + 5H
0004FF 020000      R  LJMP     ?C0023
                                                ; SOURCE LINE # 361
000502 7E7004         MOV      R7,#04H
000505 AC7A           MUL      R7,R10
000507 7CB7           MOV      R11,R7           ; A=R11
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 145 

000509 7E1F0000    R  MOV      DR4,pCalRegs
00050D 69410026       MOV      WR8,@DR4+0x26
000511 7003        R  JNZ      $ + 5H
000513 020000      R  LJMP     ?C0058
               ?C0049:
000516 1E44           SRL      WR8
000518 14             DEC      A                ; A=R11
000519 78FB           JNE      ?C0049
               ?C0050:
                                                ; SOURCE LINE # 362
00051B 020000      R  LJMP     ?C0058
               ?C0023:
                                                ; SOURCE LINE # 363
00051E BEA008         CMP      R10,#08H
000521 4003        R  JC       $ + 5H
000523 020000      R  LJMP     ?C0025
                                                ; SOURCE LINE # 365
000526 0A3A           MOVZ     WR6,R10
000528 1B36           DEC      WR6,#04H
00052A 3E34           SLL      WR6
00052C 3E34           SLL      WR6
00052E 7CB7           MOV      R11,R7           ; A=R11
000530 7E1F0000    R  MOV      DR4,pCalRegs
000534 69410028       MOV      WR8,@DR4+0x28
000538 7003        R  JNZ      $ + 5H
00053A 020000      R  LJMP     ?C0058
               ?C0051:
00053D 1E44           SRL      WR8
00053F 14             DEC      A                ; A=R11
000540 78FB           JNE      ?C0051
               ?C0052:
                                                ; SOURCE LINE # 366
000542 020000      R  LJMP     ?C0058
               ?C0025:
                                                ; SOURCE LINE # 369
000545 0A3A           MOVZ     WR6,R10
000547 9E340008       SUB      WR6,#08H
00054B 3E34           SLL      WR6
00054D 3E34           SLL      WR6
00054F 7CB7           MOV      R11,R7           ; A=R11
000551 7E1F0000    R  MOV      DR4,pCalRegs
000555 6941002A       MOV      WR8,@DR4+0x2A
000559 7003        R  JNZ      $ + 5H
00055B 020000      R  LJMP     ?C0054
               ?C0053:
00055E 1E44           SRL      WR8
000560 14             DEC      A                ; A=R11
000561 78FB           JNE      ?C0053
               ?C0054:
               ?C0058:
000563 5E44000F       ANL      WR8,#0FH
000567 7E5002         MOV      R5,#02H
00056A AC5A           MUL      R5,R10
00056C 69330006       MOV      WR6,@DR12+0x6
000570 2D32           ADD      WR6,WR4
000572 6D22           XRL      WR4,WR4
000574 1B1A40         MOV      @DR4,WR8
                                                ; SOURCE LINE # 370
                                                ; SOURCE LINE # 371
               ?C0018:
000577 7CBA           MOV      R11,R10          ; A=R11
000579 04             INC      A                ; A=R11
00057A 7AB30000    R  MOV      i,R11            ; A=R11
00057E 7E730000    R  MOV      R7,i
000582 BE700B         CMP      R7,#0BH
000585 5003        R  JNC      $ + 5H
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 146 

000587 020000      R  LJMP     ?C0021
                                                ; SOURCE LINE # 373
00058A A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 375
00058D DA3B           POP      DR12
00058F AA             ERET     
;       FUNCTION DrvCal_KmID? (END)

;       FUNCTION DrvCal_CRC16? (BEGIN)
                                                ; SOURCE LINE # 399
000590 7CAB           MOV      R10,R11          ; A=R11
;---- Variable 'Area' assigned to Register 'R10' ----
;---- Variable 'usLen' assigned to Register 'WR4' ----
;---- Variable 'usSrc1Addr' assigned to Register 'WR6' ----
                                                ; SOURCE LINE # 400
                                                ; SOURCE LINE # 403
000592 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 406
000595 7E0F0000    R  MOV      DR0,pCalRegs
000599 79300004       MOV      @DR0+0x4,WR6
                                                ; SOURCE LINE # 407
00059D 7E0F0000    R  MOV      DR0,pCalRegs
0005A1 7920000C       MOV      @DR0+0xC,WR4
                                                ; SOURCE LINE # 410
0005A5 A200        R  MOV      C,type
0005A7 E4             CLR      A                ; A=R11
0005A8 33             RLC      A                ; A=R11
0005A9 0A3B           MOVZ     WR6,R11          ; A=R11
0005AB 7D13           MOV      WR2,WR6
0005AD 7C23           MOV      R2,R3
0005AF 6C33           XRL      R3,R3
0005B1 3E14           SLL      WR2
0005B3 3E14           SLL      WR2
0005B5 7E1F0000    R  MOV      DR4,pCalRegs
0005B9 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 412
0005BC 1BA0           DEC      R10,#01H
0005BE 6819           JE       ?C0030
0005C0 1BA0           DEC      R10,#01H
0005C2 6825           JE       ?C0031
0005C4 1BA0           DEC      R10,#01H
0005C6 682E           JE       ?C0032
0005C8 1BA0           DEC      R10,#01H
0005CA 6849           JE       ?C0033
0005CC 0BA2           INC      R10,#04H
0005CE 7865           JNE      ?C0027
                                                ; SOURCE LINE # 414
               ?C0028:
                                                ; SOURCE LINE # 415
0005D0 7E0F0000    R  MOV      DR0,pCalRegs
0005D4 0B0A30         MOV      WR6,@DR0
                                                ; SOURCE LINE # 416
                                                ; SOURCE LINE # 417
0005D7 802B           SJMP     ?C0060
                                                ; SOURCE LINE # 419
               ?C0030:
                                                ; SOURCE LINE # 420
0005D9 7E0F0000    R  MOV      DR0,pCalRegs
0005DD 0B0A30         MOV      WR6,@DR0
0005E0 4E340100       ORL      WR6,#0100H
0005E4 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 421
                                                ; SOURCE LINE # 422
0005E7 801B           SJMP     ?C0060
                                                ; SOURCE LINE # 424
               ?C0031:
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 147 

                                                ; SOURCE LINE # 425
0005E9 7E0F0000    R  MOV      DR0,pCalRegs
0005ED 0B0A30         MOV      WR6,@DR0
0005F0 4E340100       ORL      WR6,#0100H
                                                ; SOURCE LINE # 426
                                                ; SOURCE LINE # 427
0005F4 802A           SJMP     ?C0061
                                                ; SOURCE LINE # 429
               ?C0032:
                                                ; SOURCE LINE # 430
0005F6 7E0F0000    R  MOV      DR0,pCalRegs
0005FA 0B0A30         MOV      WR6,@DR0
0005FD 4E340300       ORL      WR6,#0300H
000601 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 431
               ?C0060:
000604 7E0F0000    R  MOV      DR0,pCalRegs
000608 2E140038       ADD      WR2,#038H
00060C 0B0A30         MOV      WR6,@DR0
00060F 5E34FEFF       ANL      WR6,#0FEFFH
                                                ; SOURCE LINE # 432
000613 801D           SJMP     ?C0062
                                                ; SOURCE LINE # 434
               ?C0033:
                                                ; SOURCE LINE # 435
000615 7E0F0000    R  MOV      DR0,pCalRegs
000619 0B0A30         MOV      WR6,@DR0
00061C 4E340300       ORL      WR6,#0300H
               ?C0061:
000620 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 436
000623 7E0F0000    R  MOV      DR0,pCalRegs
000627 2E140038       ADD      WR2,#038H
00062B 0B0A30         MOV      WR6,@DR0
00062E 4E340100       ORL      WR6,#0100H
               ?C0062:
000632 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 437
                                                ; SOURCE LINE # 438
                                                ; SOURCE LINE # 439
                                                ; SOURCE LINE # 440
               ?C0027:
                                                ; SOURCE LINE # 442
000635 7E340090       MOV      WR6,#090H
000639 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 444
00063D 7E1F0000    R  MOV      DR4,pCalRegs
000641 6931002C       MOV      WR6,@DR4+0x2C
;---- Variable 'value' assigned to Register 'WR6' ----
                                                ; SOURCE LINE # 446
000645 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 447
                                                ; SOURCE LINE # 448
000648 AA             ERET     
;       FUNCTION DrvCal_CRC16? (END)

;       FUNCTION DrvCal_MatrixMul2? (BEGIN)
                                                ; SOURCE LINE # 547
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 550
000649 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 553
00064C 69300006       MOV      WR6,@DR0+0x6
000650 7E2F0000    R  MOV      DR8,pCalRegs
000654 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 554
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 148 

000658 69300008       MOV      WR6,@DR0+0x8
00065C 7E2F0000    R  MOV      DR8,pCalRegs
000660 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 555
000664 6930000A       MOV      WR6,@DR0+0xA
000668 7E2F0000    R  MOV      DR8,pCalRegs
00066C 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 556
000670 7E0B70         MOV      R7,@DR0
000673 0A37           MOVZ     WR6,R7
000675 7D23           MOV      WR4,WR6
000677 7C45           MOV      R4,R5
000679 6C55           XRL      R5,R5
00067B 29700001       MOV      R7,@DR0+0x1
00067F 2D32           ADD      WR6,WR4
000681 7E2F0000    R  MOV      DR8,pCalRegs
000685 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 557
000689 29700002       MOV      R7,@DR0+0x2
00068D 0A37           MOVZ     WR6,R7
00068F 7E2F0000    R  MOV      DR8,pCalRegs
000693 7932000E       MOV      @DR8+0xE,WR6
                                                ; SOURCE LINE # 559
000697 30000D         JNB      MulMode,?C0035
                                                ; SOURCE LINE # 561
00069A 7E2F0000    R  MOV      DR8,pCalRegs
00069E 0B2A30         MOV      WR6,@DR8
0006A1 4E342000       ORL      WR6,#02000H
                                                ; SOURCE LINE # 562
0006A5 8046           SJMP     ?C0063
               ?C0035:
                                                ; SOURCE LINE # 563
0006A7 200046         JB       MulMode,?C0036
                                                ; SOURCE LINE # 565
0006AA 7E2F0000    R  MOV      DR8,pCalRegs
0006AE 2E540038       ADD      WR10,#038H
0006B2 0B2A30         MOV      WR6,@DR8
0006B5 5E34DFFF       ANL      WR6,#0DFFFH
0006B9 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 566
0006BC 29700003       MOV      R7,@DR0+0x3
0006C0 0A37           MOVZ     WR6,R7
0006C2 7D23           MOV      WR4,WR6
0006C4 7C45           MOV      R4,R5
0006C6 6C55           XRL      R5,R5
0006C8 3E24           SLL      WR4
0006CA 3E24           SLL      WR4
0006CC 3E24           SLL      WR4
0006CE 3E24           SLL      WR4
0006D0 3E24           SLL      WR4
0006D2 7E2F0000    R  MOV      DR8,pCalRegs
0006D6 2E540038       ADD      WR10,#038H
0006DA 0B2A30         MOV      WR6,@DR8
0006DD 4D32           ORL      WR6,WR4
0006DF 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 567
0006E2 7E2F0000    R  MOV      DR8,pCalRegs
0006E6 0B2A30         MOV      WR6,@DR8
0006E9 5E34DFFF       ANL      WR6,#0DFFFH
               ?C0063:
0006ED 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 568
               ?C0036:
                                                ; SOURCE LINE # 570
0006F0 6930000C       MOV      WR6,@DR0+0xC
0006F4 9A000000    R  ECALL    DrvCal_Cmd?
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 149 

                                                ; SOURCE LINE # 572
0006F8 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 573
0006FB AA             ERET     
;       FUNCTION DrvCal_MatrixMul2? (END)

;       FUNCTION DrvCal_MatrixCompensation? (BEGIN)
                                                ; SOURCE LINE # 691
;---- Variable 'Cfg' assigned to Register 'R7' ----
0006FC 7C6B           MOV      R6,R11           ; A=R11
;---- Variable 'Thr' assigned to Register 'R6' ----
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 694
0006FE A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 697
000701 69200006       MOV      WR4,@DR0+0x6
000705 7E2F0000    R  MOV      DR8,pCalRegs
000709 79220004       MOV      @DR8+0x4,WR4
                                                ; SOURCE LINE # 698
00070D 69200008       MOV      WR4,@DR0+0x8
000711 7E2F0000    R  MOV      DR8,pCalRegs
000715 79220006       MOV      @DR8+0x6,WR4
                                                ; SOURCE LINE # 699
000719 6920000A       MOV      WR4,@DR0+0xA
00071D 7E2F0000    R  MOV      DR8,pCalRegs
000721 79220008       MOV      @DR8+0x8,WR4
                                                ; SOURCE LINE # 702
000725 7E0B50         MOV      R5,@DR0
000728 0A25           MOVZ     WR4,R5
00072A 7D52           MOV      WR10,WR4
00072C 7CAB           MOV      R10,R11          ; A=R11
00072E E4             CLR      A                ; A=R11
00072F 29500001       MOV      R5,@DR0+0x1
000733 2D25           ADD      WR4,WR10
000735 7E2F0000    R  MOV      DR8,pCalRegs
000739 7922000C       MOV      @DR8+0xC,WR4
                                                ; SOURCE LINE # 704
00073D 6D22           XRL      WR4,WR4
00073F 7E2F0000    R  MOV      DR8,pCalRegs
000743 1B2A20         MOV      @DR8,WR4
                                                ; SOURCE LINE # 706
000746 29B00003       MOV      R11,@DR0+0x3     ; A=R11
00074A 6003        R  JZ       $ + 5H
00074C 020000      R  LJMP     ?C0038
                                                ; SOURCE LINE # 708
00074F 7E7F0000    R  MOV      DR28,pCalRegs
000753 2EF40038       ADD      WR30,#038H
000757 0B7A20         MOV      WR4,@DR28
00075A 5E24BFFF       ANL      WR4,#0BFFFH
00075E 1B7A20         MOV      @DR28,WR4
                                                ; SOURCE LINE # 711
000761 0A26           MOVZ     WR4,R6
000763 7C45           MOV      R4,R5
000765 6C55           XRL      R5,R5
000767 0A37           MOVZ     WR6,R7
000769 4D32           ORL      WR6,WR4
00076B 7E7F0000    R  MOV      DR28,pCalRegs
00076F 79370010       MOV      @DR28+0x10,WR6
                                                ; SOURCE LINE # 712
000773 020000      R  LJMP     ?C0039
               ?C0038:
                                                ; SOURCE LINE # 713
000776 B40102      R  CJNE     A,#01H,$ + 5H    ; A=R11
000779 8003        R  SJMP     $ + 5H
00077B 020000      R  LJMP     ?C0039
                                                ; SOURCE LINE # 715
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 150 

00077E 7E2F0000    R  MOV      DR8,pCalRegs
000782 2E540038       ADD      WR10,#038H
000786 0B2A20         MOV      WR4,@DR8
000789 4E244000       ORL      WR4,#04000H
00078D 1B2A20         MOV      @DR8,WR4
                                                ; SOURCE LINE # 718
000790 0A26           MOVZ     WR4,R6
000792 7E2F0000    R  MOV      DR8,pCalRegs
000796 79220010       MOV      @DR8+0x10,WR4
                                                ; SOURCE LINE # 721
00079A 0A37           MOVZ     WR6,R7
00079C 7D23           MOV      WR4,WR6
00079E 7C45           MOV      R4,R5
0007A0 6C55           XRL      R5,R5
0007A2 3E24           SLL      WR4
0007A4 3E24           SLL      WR4
0007A6 7E2F0000    R  MOV      DR8,pCalRegs
0007AA 0B2A30         MOV      WR6,@DR8
0007AD 4D32           ORL      WR6,WR4
0007AF 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 722
               ?C0039:
                                                ; SOURCE LINE # 725
0007B2 6D33           XRL      WR6,WR6
0007B4 7E2F0000    R  MOV      DR8,pCalRegs
0007B8 7932000E       MOV      @DR8+0xE,WR6
                                                ; SOURCE LINE # 727
0007BC 7E2F0000    R  MOV      DR8,pCalRegs
0007C0 2E54000E       ADD      WR10,#0EH
0007C4 0B2A30         MOV      WR6,@DR8
0007C7 4E340083       ORL      WR6,#083H
0007CB 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 728
0007CE 6D33           XRL      WR6,WR6
0007D0 7E2F0000    R  MOV      DR8,pCalRegs
0007D4 7932000A       MOV      @DR8+0xA,WR6
                                                ; SOURCE LINE # 731
0007D8 6930000C       MOV      WR6,@DR0+0xC
0007DC 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 733
0007E0 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 734
0007E3 AA             ERET     
;       FUNCTION DrvCal_MatrixCompensation? (END)

;       FUNCTION DrvCal_LDS? (BEGIN)
                                                ; SOURCE LINE # 746
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 749
0007E4 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 752
0007E7 69300006       MOV      WR6,@DR0+0x6
0007EB 7E2F0000    R  MOV      DR8,pCalRegs
0007EF 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 753
0007F3 69300008       MOV      WR6,@DR0+0x8
0007F7 7E2F0000    R  MOV      DR8,pCalRegs
0007FB 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 754
0007FF 6930000A       MOV      WR6,@DR0+0xA
000803 7E2F0000    R  MOV      DR8,pCalRegs
000807 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 755
00080B 7E0B70         MOV      R7,@DR0
00080E 0A37           MOVZ     WR6,R7
000810 7D23           MOV      WR4,WR6
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 151 

000812 7C45           MOV      R4,R5
000814 6C55           XRL      R5,R5
000816 29700001       MOV      R7,@DR0+0x1
00081A 2D32           ADD      WR6,WR4
00081C 7E2F0000    R  MOV      DR8,pCalRegs
000820 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 758
000824 6D55           XRL      WR10,WR10
000826 7E1F0000    R  MOV      DR4,pCalRegs
00082A 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 759
00082D 6930000C       MOV      WR6,@DR0+0xC
000831 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 761
000835 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 762
000838 AA             ERET     
;       FUNCTION DrvCal_LDS? (END)

;       FUNCTION DrvCal_MDS? (BEGIN)
                                                ; SOURCE LINE # 774
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 777
000839 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 780
00083C 69300006       MOV      WR6,@DR0+0x6
000840 7E2F0000    R  MOV      DR8,pCalRegs
000844 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 781
000848 69300008       MOV      WR6,@DR0+0x8
00084C 7E2F0000    R  MOV      DR8,pCalRegs
000850 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 782
000854 6930000A       MOV      WR6,@DR0+0xA
000858 7E2F0000    R  MOV      DR8,pCalRegs
00085C 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 783
000860 7E0B70         MOV      R7,@DR0
000863 0A37           MOVZ     WR6,R7
000865 7D23           MOV      WR4,WR6
000867 7C45           MOV      R4,R5
000869 6C55           XRL      R5,R5
00086B 29700001       MOV      R7,@DR0+0x1
00086F 2D32           ADD      WR6,WR4
000871 7E2F0000    R  MOV      DR8,pCalRegs
000875 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 786
000879 6D55           XRL      WR10,WR10
00087B 7E1F0000    R  MOV      DR4,pCalRegs
00087F 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 787
000882 6930000C       MOV      WR6,@DR0+0xC
000886 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 789
00088A A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 790
00088D AA             ERET     
;       FUNCTION DrvCal_MDS? (END)

;       FUNCTION DrvCal_Noise? (BEGIN)
                                                ; SOURCE LINE # 803
00088E 7CA5           MOV      R10,R5
;---- Variable 'Rx_Len' assigned to Register 'R10' ----
;---- Variable 'Tx_Len' assigned to Register 'R11' ----
;---- Variable 'usSrc1Addr' assigned to Register 'WR6' ----
                                                ; SOURCE LINE # 804
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 152 

                                                ; SOURCE LINE # 807
000890 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 810
000893 7E0F0000    R  MOV      DR0,pCalRegs
000897 79300004       MOV      @DR0+0x4,WR6
                                                ; SOURCE LINE # 811
00089B 0A3B           MOVZ     WR6,R11          ; A=R11
00089D 7D23           MOV      WR4,WR6
00089F 7C45           MOV      R4,R5
0008A1 6C55           XRL      R5,R5
0008A3 0A3A           MOVZ     WR6,R10
0008A5 2D32           ADD      WR6,WR4
0008A7 7E0F0000    R  MOV      DR0,pCalRegs
0008AB 7930000C       MOV      @DR0+0xC,WR6
                                                ; SOURCE LINE # 813
0008AF 6D11           XRL      WR2,WR2
0008B1 7E1F0000    R  MOV      DR4,pCalRegs
0008B5 1B1A10         MOV      @DR4,WR2
                                                ; SOURCE LINE # 814
0008B8 7E340080       MOV      WR6,#080H
0008BC 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 816
0008C0 7E1F0000    R  MOV      DR4,pCalRegs
0008C4 6931002E       MOV      WR6,@DR4+0x2E
;---- Variable 'Noise' assigned to Register 'WR6' ----
                                                ; SOURCE LINE # 818
0008C8 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 819
                                                ; SOURCE LINE # 820
0008CB AA             ERET     
;       FUNCTION DrvCal_Noise? (END)

;       FUNCTION DrvCal_MatrixAMov? (BEGIN)
                                                ; SOURCE LINE # 830
0008CC CA69           PUSH     WR12
0008CE CAF8           PUSH     R15
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 831
                                                ; SOURCE LINE # 832
0008D0 A9A6CB         MOV      C,CALCKEN
0008D3 E4             CLR      A                ; A=R11
0008D4 33             RLC      A                ; A=R11
0008D5 7CFB           MOV      R15,R11          ; A=R11
;---- Variable 'CALCKEN_BAK' assigned to Register 'R15' ----
                                                ; SOURCE LINE # 833
0008D7 7E2F0000    R  MOV      DR8,pCalRegs
0008DB 0B2A30         MOV      WR6,@DR8
0008DE 7D63           MOV      WR12,WR6
;---- Variable 'ucCalCmd' assigned to Register 'WR12' ----
                                                ; SOURCE LINE # 835
0008E0 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 837
0008E3 5E347FFF       ANL      WR6,#07FFFH
0008E7 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 839
0008EA 7E0B70         MOV      R7,@DR0
0008ED 0A37           MOVZ     WR6,R7
0008EF 7D23           MOV      WR4,WR6
0008F1 7C45           MOV      R4,R5
0008F3 6C55           XRL      R5,R5
0008F5 29700001       MOV      R7,@DR0+0x1
0008F9 2D32           ADD      WR6,WR4
0008FB 7E2F0000    R  MOV      DR8,pCalRegs
0008FF 79320042       MOV      @DR8+0x42,WR6
                                                ; SOURCE LINE # 840
000903 69300002       MOV      WR6,@DR0+0x2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 153 

000907 7E2F0000    R  MOV      DR8,pCalRegs
00090B 79320046       MOV      @DR8+0x46,WR6
                                                ; SOURCE LINE # 841
00090F 69300004       MOV      WR6,@DR0+0x4
000913 7E0F0000    R  MOV      DR0,pCalRegs
000917 7930004A       MOV      @DR0+0x4A,WR6
                                                ; SOURCE LINE # 842
00091B 7E0F0000    R  MOV      DR0,pCalRegs
00091F 2E140038       ADD      WR2,#038H
000923 0B0A30         MOV      WR6,@DR0
000926 5E34FF00       ANL      WR6,#0FF00H
00092A 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 843
00092D 7E0F0000    R  MOV      DR0,pCalRegs
000931 2E140038       ADD      WR2,#038H
                                                ; SOURCE LINE # 844
000935 7E0F0000    R  MOV      DR0,pCalRegs
000939 2E140038       ADD      WR2,#038H
00093D 0B0A30         MOV      WR6,@DR0
000940 4E340010       ORL      WR6,#010H
000944 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 845
000947 7E0F0000    R  MOV      DR0,pCalRegs
00094B 2E140038       ADD      WR2,#038H
00094F 0B0A30         MOV      WR6,@DR0
000952 4E340001       ORL      WR6,#01H
000956 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 848
000959 020000      R  LJMP     ?C0042
               ?C0044:
                                                ; SOURCE LINE # 850
00095C 7E140000    R  MOV      WR2,#WORD0 ?SC_0032
000960 7E040000    R  MOV      WR0,#WORD2 ?SC_0032
000964 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 852
000968 7E0F0000    R  MOV      DR0,pCalRegs
00096C 69300038       MOV      WR6,@DR0+0x38
000970 7D23           MOV      WR4,WR6
000972 5E240020       ANL      WR4,#020H
000976 BE240020       CMP      WR4,#020H
00097A 6803        R  JE       $ + 5H
00097C 020000      R  LJMP     ?C0042
                                                ; SOURCE LINE # 854
00097F 2E140038       ADD      WR2,#038H
000983 4E340002       ORL      WR6,#02H
000987 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 855
00098A D200        R  SETB     g_bAmoveResumeFlag
                                                ; SOURCE LINE # 856
               ?C0042:
00098C 7E0F0000    R  MOV      DR0,pCalRegs
000990 69300038       MOV      WR6,@DR0+0x38
000994 7D23           MOV      WR4,WR6
000996 5E240080       ANL      WR4,#080H
00099A BE240080       CMP      WR4,#080H
00099E 78BC           JNE      ?C0044
                                                ; SOURCE LINE # 858
0009A0 E4             CLR      A                ; A=R11
0009A1 7AB30000    R  MOV      g_ucAmoveStart,R11
                                                ; SOURCE LINE # 860
0009A5 2E140038       ADD      WR2,#038H
0009A9 4E340004       ORL      WR6,#04H
0009AD 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 861
0009B0 7E0F0000    R  MOV      DR0,pCalRegs
0009B4 2E140038       ADD      WR2,#038H
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 154 

0009B8 0B0A30         MOV      WR6,@DR0
0009BB 5E34FF00       ANL      WR6,#0FF00H
0009BF 1B0A30         MOV      @DR0,WR6
                                                ; SOURCE LINE # 862
0009C2 7E1F0000    R  MOV      DR4,pCalRegs
0009C6 1B1A60         MOV      @DR4,WR12
                                                ; SOURCE LINE # 864
0009C9 200003      R  JB       g_bAmoveResumeFlag,$ + 6H
0009CC 020000      R  LJMP     ?C0047
                                                ; SOURCE LINE # 866
0009CF 7E140000    R  MOV      WR2,#WORD0 ?SC_0015
0009D3 7E040000    R  MOV      WR0,#WORD2 ?SC_0015
0009D7 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 867
0009DB 7E140000    R  MOV      WR2,#WORD0 ?SC_0000
0009DF 7E040000    R  MOV      WR0,#WORD2 ?SC_0000
0009E3 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 868
0009E7 7E140000    R  MOV      WR2,#WORD0 ?SC_0000
0009EB 7E040000    R  MOV      WR0,#WORD2 ?SC_0000
0009EF 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 869
0009F3 C200        R  CLR      g_bAmoveResumeFlag
                                                ; SOURCE LINE # 870
               ?C0047:
                                                ; SOURCE LINE # 875
0009F5 2EF0FF         ADD      R15,#0FFH
0009F8 A996CB         MOV      CALCKEN,C
                                                ; SOURCE LINE # 876
0009FB DAF8           POP      R15
0009FD DA69           POP      WR12
0009FF AA             ERET     
;       FUNCTION DrvCal_MatrixAMov? (END)

;       FUNCTION DrvCal_MatrixAvg? (BEGIN)
                                                ; SOURCE LINE # 892
;---- Variable 'usAvgMode' assigned to Register 'R11' ----
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 895
000A00 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 898
000A03 69300006       MOV      WR6,@DR0+0x6
000A07 7E7F0000    R  MOV      DR28,pCalRegs
000A0B 79370004       MOV      @DR28+0x4,WR6
                                                ; SOURCE LINE # 899
000A0F 69300008       MOV      WR6,@DR0+0x8
000A13 7E7F0000    R  MOV      DR28,pCalRegs
000A17 79370006       MOV      @DR28+0x6,WR6
                                                ; SOURCE LINE # 900
000A1B 6930000A       MOV      WR6,@DR0+0xA
000A1F 7E7F0000    R  MOV      DR28,pCalRegs
000A23 79370008       MOV      @DR28+0x8,WR6
                                                ; SOURCE LINE # 901
000A27 7E0BA0         MOV      R10,@DR0
000A2A 0A3A           MOVZ     WR6,R10
000A2C 7D23           MOV      WR4,WR6
000A2E 7C45           MOV      R4,R5
000A30 6C55           XRL      R5,R5
000A32 29A00001       MOV      R10,@DR0+0x1
000A36 0A3A           MOVZ     WR6,R10
000A38 2D32           ADD      WR6,WR4
000A3A 7E7F0000    R  MOV      DR28,pCalRegs
000A3E 7937000C       MOV      @DR28+0xC,WR6
                                                ; SOURCE LINE # 903
000A42 7E7F0000    R  MOV      DR28,pCalRegs
000A46 2EF40038       ADD      WR30,#038H
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 155 

000A4A 0B7A30         MOV      WR6,@DR28
000A4D 5E34BFFF       ANL      WR6,#0BFFFH
000A51 1B7A30         MOV      @DR28,WR6
                                                ; SOURCE LINE # 904
000A54 0A3B           MOVZ     WR6,R11          ; A=R11
000A56 7D23           MOV      WR4,WR6
000A58 7C45           MOV      R4,R5
000A5A 6C55           XRL      R5,R5
000A5C 3E24           SLL      WR4
000A5E 3E24           SLL      WR4
000A60 3E24           SLL      WR4
000A62 3E24           SLL      WR4
000A64 3E24           SLL      WR4
000A66 3E24           SLL      WR4
000A68 7E2F0000    R  MOV      DR8,pCalRegs
000A6C 2E540038       ADD      WR10,#038H
000A70 0B2A30         MOV      WR6,@DR8
000A73 4D32           ORL      WR6,WR4
000A75 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 905
000A78 29700004       MOV      R7,@DR0+0x4
000A7C 0A37           MOVZ     WR6,R7
000A7E 7D53           MOV      WR10,WR6
000A80 7CAB           MOV      R10,R11          ; A=R11
000A82 E4             CLR      A                ; A=R11
000A83 3E54           SLL      WR10
000A85 29700005       MOV      R7,@DR0+0x5
000A89 0A47           MOVZ     WR8,R7
000A8B 7C89           MOV      R8,R9
000A8D 6C99           XRL      R9,R9
000A8F 3E44           SLL      WR8
000A91 3E44           SLL      WR8
000A93 4D45           ORL      WR8,WR10
000A95 29700003       MOV      R7,@DR0+0x3
000A99 0A57           MOVZ     WR10,R7
000A9B 7CAB           MOV      R10,R11          ; A=R11
000A9D E4             CLR      A                ; A=R11
000A9E 4D54           ORL      WR10,WR8
000AA0 7E1F0000    R  MOV      DR4,pCalRegs
000AA4 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 906
000AA7 7E2F0000    R  MOV      DR8,pCalRegs
000AAB 0B2A30         MOV      WR6,@DR8
000AAE 4E348000       ORL      WR6,#08000H
000AB2 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 907
000AB5 6930000C       MOV      WR6,@DR0+0xC
000AB9 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 909
000ABD A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 910
000AC0 AA             ERET     
;       FUNCTION DrvCal_MatrixAvg? (END)

;       FUNCTION DrvCal_MatrixMaxMin? (BEGIN)
                                                ; SOURCE LINE # 922
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 925
000AC1 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 928
000AC4 69300006       MOV      WR6,@DR0+0x6
000AC8 7E2F0000    R  MOV      DR8,pCalRegs
000ACC 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 929
000AD0 6930000A       MOV      WR6,@DR0+0xA
000AD4 7E2F0000    R  MOV      DR8,pCalRegs
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 156 

000AD8 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 930
000ADC 7E0B70         MOV      R7,@DR0
000ADF 0A37           MOVZ     WR6,R7
000AE1 7D23           MOV      WR4,WR6
000AE3 7C45           MOV      R4,R5
000AE5 6C55           XRL      R5,R5
000AE7 29700001       MOV      R7,@DR0+0x1
000AEB 2D32           ADD      WR6,WR4
000AED 7E2F0000    R  MOV      DR8,pCalRegs
000AF1 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 931
000AF5 29700004       MOV      R7,@DR0+0x4
000AF9 0A37           MOVZ     WR6,R7
000AFB 7D53           MOV      WR10,WR6
000AFD 7CAB           MOV      R10,R11          ; A=R11
000AFF E4             CLR      A                ; A=R11
000B00 3E54           SLL      WR10
000B02 29700005       MOV      R7,@DR0+0x5
000B06 0A47           MOVZ     WR8,R7
000B08 7C89           MOV      R8,R9
000B0A 6C99           XRL      R9,R9
000B0C 3E44           SLL      WR8
000B0E 3E44           SLL      WR8
000B10 4D45           ORL      WR8,WR10
000B12 29700003       MOV      R7,@DR0+0x3
000B16 0A57           MOVZ     WR10,R7
000B18 7CAB           MOV      R10,R11          ; A=R11
000B1A E4             CLR      A                ; A=R11
000B1B 4D54           ORL      WR10,WR8
000B1D 7E1F0000    R  MOV      DR4,pCalRegs
000B21 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 932
000B24 7E2F0000    R  MOV      DR8,pCalRegs
000B28 0B2A30         MOV      WR6,@DR8
000B2B 4E348000       ORL      WR6,#08000H
000B2F 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 933
000B32 6930000C       MOV      WR6,@DR0+0xC
000B36 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 935
000B3A A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 936
000B3D AA             ERET     
;       FUNCTION DrvCal_MatrixMaxMin? (END)

;       FUNCTION DrvCal_MatrixCount? (BEGIN)
                                                ; SOURCE LINE # 945
;---- Variable 'ssMax' assigned to Register 'WR4' ----
;---- Variable 'ssMin' assigned to Register 'WR6' ----
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 946
                                                ; SOURCE LINE # 947
                                                ; SOURCE LINE # 949
000B3E A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 952
000B41 69500006       MOV      WR10,@DR0+0x6
000B45 7E7F0000    R  MOV      DR28,pCalRegs
000B49 79570004       MOV      @DR28+0x4,WR10
                                                ; SOURCE LINE # 953
000B4D 7E0BB0         MOV      R11,@DR0         ; A=R11
000B50 0A5B           MOVZ     WR10,R11         ; A=R11
000B52 7D45           MOV      WR8,WR10
000B54 7C89           MOV      R8,R9
000B56 6C99           XRL      R9,R9
000B58 29B00001       MOV      R11,@DR0+0x1     ; A=R11
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 157 

000B5C 2D54           ADD      WR10,WR8
000B5E 7E7F0000    R  MOV      DR28,pCalRegs
000B62 7957000C       MOV      @DR28+0xC,WR10
                                                ; SOURCE LINE # 954
000B66 7E2F0000    R  MOV      DR8,pCalRegs
000B6A 7922000E       MOV      @DR8+0xE,WR4
                                                ; SOURCE LINE # 955
000B6E 7E2F0000    R  MOV      DR8,pCalRegs
000B72 79320010       MOV      @DR8+0x10,WR6
                                                ; SOURCE LINE # 957
000B76 6D55           XRL      WR10,WR10
000B78 7E1F0000    R  MOV      DR4,pCalRegs
000B7C 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 958
000B7F 7E2F0000    R  MOV      DR8,pCalRegs
000B83 0B2A30         MOV      WR6,@DR8
000B86 4E348000       ORL      WR6,#08000H
000B8A 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 959
000B8D 6930000C       MOV      WR6,@DR0+0xC
000B91 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 961
000B95 7E1F0000    R  MOV      DR4,pCalRegs
000B99 6931003A       MOV      WR6,@DR4+0x3A
;---- Variable 'usNum' assigned to Register 'WR6' ----
                                                ; SOURCE LINE # 963
000B9D A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 964
                                                ; SOURCE LINE # 965
000BA0 AA             ERET     
;       FUNCTION DrvCal_MatrixCount? (END)

;       FUNCTION DrvCal_MatrixSubConst? (BEGIN)
                                                ; SOURCE LINE # 975
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 978
000BA1 A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 981
000BA4 69300006       MOV      WR6,@DR0+0x6
000BA8 7E2F0000    R  MOV      DR8,pCalRegs
000BAC 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 982
000BB0 69300008       MOV      WR6,@DR0+0x8
000BB4 7E2F0000    R  MOV      DR8,pCalRegs
000BB8 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 983
000BBC 6930000A       MOV      WR6,@DR0+0xA
000BC0 7E2F0000    R  MOV      DR8,pCalRegs
000BC4 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 984
000BC8 7E0B70         MOV      R7,@DR0
000BCB 0A37           MOVZ     WR6,R7
000BCD 7D23           MOV      WR4,WR6
000BCF 7C45           MOV      R4,R5
000BD1 6C55           XRL      R5,R5
000BD3 29700001       MOV      R7,@DR0+0x1
000BD7 2D32           ADD      WR6,WR4
000BD9 7E2F0000    R  MOV      DR8,pCalRegs
000BDD 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 986
000BE1 29700003       MOV      R7,@DR0+0x3
000BE5 0A37           MOVZ     WR6,R7
000BE7 7D43           MOV      WR8,WR6
000BE9 7C89           MOV      R8,R9
000BEB 6C99           XRL      R9,R9
000BED 29700005       MOV      R7,@DR0+0x5
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 158 

000BF1 0A57           MOVZ     WR10,R7
000BF3 7CAB           MOV      R10,R11          ; A=R11
000BF5 E4             CLR      A                ; A=R11
000BF6 3E54           SLL      WR10
000BF8 3E54           SLL      WR10
000BFA 2D54           ADD      WR10,WR8
000BFC 7E1F0000    R  MOV      DR4,pCalRegs
000C00 1B1A50         MOV      @DR4,WR10
                                                ; SOURCE LINE # 987
000C03 7E2F0000    R  MOV      DR8,pCalRegs
000C07 0B2A30         MOV      WR6,@DR8
000C0A 4E348000       ORL      WR6,#08000H
000C0E 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 988
000C11 6930000C       MOV      WR6,@DR0+0xC
000C15 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 990
000C19 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 991
000C1C AA             ERET     
;       FUNCTION DrvCal_MatrixSubConst? (END)

;       FUNCTION DrvCal_MatrixCMP? (BEGIN)
                                                ; SOURCE LINE # 1002
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 1005
000C1D A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 1008
000C20 69300006       MOV      WR6,@DR0+0x6
000C24 7E2F0000    R  MOV      DR8,pCalRegs
000C28 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 1009
000C2C 69300008       MOV      WR6,@DR0+0x8
000C30 7E2F0000    R  MOV      DR8,pCalRegs
000C34 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 1010
000C38 6930000A       MOV      WR6,@DR0+0xA
000C3C 7E2F0000    R  MOV      DR8,pCalRegs
000C40 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 1011
000C44 7E0B70         MOV      R7,@DR0
000C47 0A37           MOVZ     WR6,R7
000C49 7D23           MOV      WR4,WR6
000C4B 7C45           MOV      R4,R5
000C4D 6C55           XRL      R5,R5
000C4F 29700001       MOV      R7,@DR0+0x1
000C53 2D32           ADD      WR6,WR4
000C55 7E2F0000    R  MOV      DR8,pCalRegs
000C59 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 1012
000C5D 7E2F0000    R  MOV      DR8,pCalRegs
000C61 2E540038       ADD      WR10,#038H
000C65 0B2A30         MOV      WR6,@DR8
000C68 5E34BFFF       ANL      WR6,#0BFFFH
000C6C 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 1013
000C6F 29700004       MOV      R7,@DR0+0x4
000C73 0A37           MOVZ     WR6,R7
000C75 7D23           MOV      WR4,WR6
000C77 7C45           MOV      R4,R5
000C79 6C55           XRL      R5,R5
000C7B 3E24           SLL      WR4
000C7D 3E24           SLL      WR4
000C7F 3E24           SLL      WR4
000C81 3E24           SLL      WR4
000C83 3E24           SLL      WR4
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 159 

000C85 3E24           SLL      WR4
000C87 7E2F0000    R  MOV      DR8,pCalRegs
000C8B 2E540038       ADD      WR10,#038H
000C8F 0B2A30         MOV      WR6,@DR8
000C92 4D32           ORL      WR6,WR4
000C94 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 1015
000C97 7E2F0000    R  MOV      DR8,pCalRegs
000C9B 0B2A30         MOV      WR6,@DR8
000C9E 5E34FEFF       ANL      WR6,#0FEFFH
000CA2 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 1016
000CA5 29B00003       MOV      R11,@DR0+0x3     ; A=R11
000CA9 5401           ANL      A,#01H           ; A=R11
000CAB 0A3B           MOVZ     WR6,R11          ; A=R11
000CAD 7D23           MOV      WR4,WR6
000CAF 7C45           MOV      R4,R5
000CB1 6C55           XRL      R5,R5
000CB3 2E248000       ADD      WR4,#08000H
000CB7 7E2F0000    R  MOV      DR8,pCalRegs
000CBB 0B2A30         MOV      WR6,@DR8
000CBE 4D32           ORL      WR6,WR4
000CC0 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 1018
000CC3 6930000C       MOV      WR6,@DR0+0xC
000CC7 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 1020
000CCB A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 1021
000CCE AA             ERET     
;       FUNCTION DrvCal_MatrixCMP? (END)

;       FUNCTION DrvCal_MatrixMul3? (BEGIN)
                                                ; SOURCE LINE # 1033
;---- Variable 'pMcMP' assigned to Register 'DR0' ----
                                                ; SOURCE LINE # 1036
000CCF A9D6CB         SETB     CALCKEN
                                                ; SOURCE LINE # 1039
000CD2 69300006       MOV      WR6,@DR0+0x6
000CD6 7E2F0000    R  MOV      DR8,pCalRegs
000CDA 79320004       MOV      @DR8+0x4,WR6
                                                ; SOURCE LINE # 1040
000CDE 69300008       MOV      WR6,@DR0+0x8
000CE2 7E2F0000    R  MOV      DR8,pCalRegs
000CE6 79320006       MOV      @DR8+0x6,WR6
                                                ; SOURCE LINE # 1041
000CEA 6930000A       MOV      WR6,@DR0+0xA
000CEE 7E2F0000    R  MOV      DR8,pCalRegs
000CF2 79320008       MOV      @DR8+0x8,WR6
                                                ; SOURCE LINE # 1042
000CF6 7E0B70         MOV      R7,@DR0
000CF9 0A37           MOVZ     WR6,R7
000CFB 7D23           MOV      WR4,WR6
000CFD 7C45           MOV      R4,R5
000CFF 6C55           XRL      R5,R5
000D01 29700001       MOV      R7,@DR0+0x1
000D05 2D32           ADD      WR6,WR4
000D07 7E2F0000    R  MOV      DR8,pCalRegs
000D0B 7932000C       MOV      @DR8+0xC,WR6
                                                ; SOURCE LINE # 1043
000D0F 29700002       MOV      R7,@DR0+0x2
000D13 0A37           MOVZ     WR6,R7
000D15 7E2F0000    R  MOV      DR8,pCalRegs
000D19 7932000E       MOV      @DR8+0xE,WR6
                                                ; SOURCE LINE # 1044
000D1D 7E2F0000    R  MOV      DR8,pCalRegs
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 160 

000D21 0B2A30         MOV      WR6,@DR8
000D24 4E348000       ORL      WR6,#08000H
000D28 1B2A30         MOV      @DR8,WR6
                                                ; SOURCE LINE # 1045
000D2B 6930000C       MOV      WR6,@DR0+0xC
000D2F 9A000000    R  ECALL    DrvCal_Cmd?
                                                ; SOURCE LINE # 1047
000D33 A9C6CB         CLR      CALCKEN
                                                ; SOURCE LINE # 1048
000D36 AA             ERET     
;       FUNCTION DrvCal_MatrixMul3? (END)

C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 161 

Name                                    Class    Space Type   Offset   Size
---------------------------------------------------------------------------

Addr_PRESCAN_TIME. . . . . . . . . . .  enum           int    000034H  2
Addr_DISCHARGE_TIME. . . . . . . . . .  enum           int    000035H  2
BIT_LCD_BUSY_RISE_WAKE_EN0 . . . . . .  enum           int    00000EH  2
FP32 . . . . . . . . . . . . . . . . .  type           float  000000H  4
FW_CFG_IOVOLTAGE_NE_OFFSET . . . . . .  enum           int    000003H  2
BIT_LCD_3D_MODE_RISE_CLR1. . . . . . .  enum           int    000003H  2
BIT_LCD_BUSY_RISE_FLAG0. . . . . . . .  enum           int    00000EH  2
UINT8. . . . . . . . . . . . . . . . .  type           uchar  000000H  1
ENUM_BIT_ASM_INT_CLR1. . . . . . . . .  type           int    000000H  2
LCD_OTP_XBUS_CLK_NE_ADDR . . . . . . .  enum           int    009871H  2
ST_LcdWrapRegisters. . . . . . . . . .  type           struct 000000H  10
  rdata_lo_byte. . . . . . . . . . . .  member         ushort 000000H  2
  rdata_ho_byte. . . . . . . . . . . .  member         ushort 000002H  2
  lcd_regfile_ctrl . . . . . . . . . .  member         ushort 000004H  2
  xbus_cmd . . . . . . . . . . . . . .  member         ushort 000006H  2
  xbus_rld_data. . . . . . . . . . . .  member         ushort 000008H  2
ENUM_BIT_ASM_INT_CLR0. . . . . . . . .  type           int    000000H  2
BIT_LCD_LPF_MODE_EN_FALL_EN1 . . . . .  enum           int    00000DH  2
SINT8. . . . . . . . . . . . . . . . .  type           char   000000H  1
BIT_LCD_SYNC_MISS_FALL_EN0 . . . . . .  enum           int    00000AH  2
FW_CFG_SPI_CLK_NE_OFFSET . . . . . . .  enum           int    000007H  2
ST_CalKmIdParam. . . . . . . . . . . .  type           struct 000000H  8
  ucLastPoint. . . . . . . . . . . . .  member         uchar  000000H  1
  ucCurrPoint. . . . . . . . . . . . .  member         uchar  000001H  1
  usLastIdPosAddr. . . . . . . . . . .  member         ushort 000002H  2
  usCurrIdPosAddr. . . . . . . . . . .  member         ushort 000004H  2
  usCalOut . . . . . . . . . . . . . .  member         ushort 000006H  2
LCD_OTP_MASTER_I2C_ADDR. . . . . . . .  enum           int    009866H  2
BIT_LCD_RUN_RISE_CLR0. . . . . . . . .  enum           int    000000H  2
BIT_LCD_BUSY_RISE_EN0. . . . . . . . .  enum           int    00000EH  2
ST_FrameData . . . . . . . . . . . . .  type           struct 000000H  5506
  CalBaseAddr. . . . . . . . . . . . .  member         array  000000H  1296
  CalBaseAddr1 . . . . . . . . . . . .  member         array  000510H  1296
  CalBaseAddr2 . . . . . . . . . . . .  member         array  000A20H  1296
  ScDiff . . . . . . . . . . . . . . .  member         array  000F30H  1296
  LastIdPos. . . . . . . . . . . . . .  member         array  001440H  40
  CurrIdPos. . . . . . . . . . . . . .  member         array  001468H  40
  CalOut . . . . . . . . . . . . . . .  member         array  001490H  242
BIT_LCD_VMID_STA . . . . . . . . . . .  enum           int    000007H  2
BIT_LCD_VDO_MODE_RISE_CLR1 . . . . . .  enum           int    000007H  2
Addr_AFE_SYS_CFG1. . . . . . . . . . .  enum           int    000005H  2
Addr_AFE_SYS_CFG0. . . . . . . . . . .  enum           int    000004H  2
BIT_LCD_DSTB_STA . . . . . . . . . . .  enum           int    00000DH  2
BIT_LCD_VEND_STA . . . . . . . . . . .  enum           int    000006H  2
Union_Spi0Reg. . . . . . . . . . . . .  type           union  000000H  14
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  14
  offset . . . . . . . . . . . . . . .  member         array  000000H  14
ST_AsmRegisters. . . . . . . . . . . .  type           struct 000000H  82
  usAsmIntFlag0. . . . . . . . . . . .  member         ushort 000000H  2
  usAsmIntFlag1. . . . . . . . . . . .  member         ushort 000002H  2
  usAsmIntClr0 . . . . . . . . . . . .  member         ushort 000004H  2
  usAsmIntClr1 . . . . . . . . . . . .  member         ushort 000006H  2
  usAsmIntEn0. . . . . . . . . . . . .  member         ushort 000008H  2
  usAsmIntEn1. . . . . . . . . . . . .  member         ushort 00000AH  2
  usAsmIntWakeEn0. . . . . . . . . . .  member         ushort 00000CH  2
  usAsmIntWakeEn1. . . . . . . . . . .  member         ushort 00000EH  2
  usAsmIntSta. . . . . . . . . . . . .  member         ushort 000010H  2
  usAsmScanSta0. . . . . . . . . . . .  member         ushort 000012H  2
  usAsmScanSta1. . . . . . . . . . . .  member         ushort 000014H  2
  usAsmScanSta2. . . . . . . . . . . .  member         ushort 000016H  2
  usAsmScanSta3. . . . . . . . . . . .  member         ushort 000018H  2
  usAsmScanCtrl. . . . . . . . . . . .  member         ushort 00001AH  2
  usAsmScanCfg0. . . . . . . . . . . .  member         ushort 00001CH  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 162 

  usAsmScanCfg1. . . . . . . . . . . .  member         ushort 00001EH  2
  usAsmTpFrameCfg0 . . . . . . . . . .  member         ushort 000020H  2
  usAsmTpFrameCfg1 . . . . . . . . . .  member         ushort 000022H  2
  usAsmTpFrameCfg2 . . . . . . . . . .  member         ushort 000024H  2
  usAsmTpFrameCfg3 . . . . . . . . . .  member         ushort 000026H  2
  usAsmScanDly . . . . . . . . . . . .  member         ushort 000028H  2
  usAsmStbMaseL. . . . . . . . . . . .  member         ushort 00002AH  2
  usAsmStbMaseH. . . . . . . . . . . .  member         ushort 00002CH  2
  usAsmAramBaseL . . . . . . . . . . .  member         ushort 00002EH  2
  usAsmAramBaseR . . . . . . . . . . .  member         ushort 000030H  2
  usAsmAramBaseKey . . . . . . . . . .  member         ushort 000032H  2
  usAsmAramCBL . . . . . . . . . . . .  member         ushort 000034H  2
  usAsmAramCBR . . . . . . . . . . . .  member         ushort 000036H  2
  usAsmAramCBKey . . . . . . . . . . .  member         ushort 000038H  2
  usAsmReserve0. . . . . . . . . . . .  member         ushort 00003AH  2
  usAsmReserve1. . . . . . . . . . . .  member         ushort 00003CH  2
  usAsmReserve2. . . . . . . . . . . .  member         ushort 00003EH  2
  usAsmHwMonCrtl0. . . . . . . . . . .  member         ushort 000040H  2
  usAsmHwMonCtrl1. . . . . . . . . . .  member         ushort 000042H  2
  usAsmHwMonCfg0 . . . . . . . . . . .  member         ushort 000044H  2
  usAsmHwMonCfg1 . . . . . . . . . . .  member         ushort 000046H  2
  usAsmHwMonCfg2 . . . . . . . . . . .  member         ushort 000048H  2
  usAsmHwMonCfg3 . . . . . . . . . . .  member         ushort 00004AH  2
  usAsmHwMonCfg4 . . . . . . . . . . .  member         ushort 00004CH  2
  usAsmHwMonTimer. . . . . . . . . . .  member         ushort 00004EH  2
  usAsmVreshCfgLcdon . . . . . . . . .  member         ushort 000050H  2
Addr_AFE_ANA_ADC_CFG3. . . . . . . . .  enum           int    000024H  2
Addr_AFE_ANA_ADC_CFG2. . . . . . . . .  enum           int    000023H  2
BIT_LCD_BUSY_FALL_WAKE_EN0 . . . . . .  enum           int    00000FH  2
ENUM_BIT_ASM_WAKE_EN1. . . . . . . . .  type           int    000000H  2
LCD_OTP_MASTER_I2C_NE_ADDR . . . . . .  enum           int    009867H  2
Addr_AFE_ANA_ADC_CFG1. . . . . . . . .  enum           int    000022H  2
Addr_UNDERFLOW_THR . . . . . . . . . .  enum           int    000049H  2
BIT_LCD_3D_MODE_FALL_CLR1. . . . . . .  enum           int    000004H  2
ENUM_BIT_ASM_WAKE_EN0. . . . . . . . .  type           int    000000H  2
FW_CFG_SPI_IOMODE_OFFSET . . . . . . .  enum           int    00000CH  2
Addr_AFE_ANA_ADC_CFG0. . . . . . . . .  enum           int    000021H  2
BIT_LCD_BUSY_FALL_FLAG0. . . . . . . .  enum           int    00000FH  2
BIT_LCD_DSTB_RISE_WAKE_EN0 . . . . . .  enum           int    00000BH  2
BIT_LCD_PANEL_CONFLICT_STA . . . . . .  enum           int    00000EH  2
Addr_KEY_MONITOR_THRESHOLD . . . . . .  enum           int    00000CH  2
BIT_LCD_ODD_EVEN_RISE_CLR1 . . . . . .  enum           int    000009H  2
BIT_HW_MON_TIMEOUT_WAKE_EN1. . . . . .  enum           int    00000EH  2
LCD_OTP_REG_ADDR . . . . . . . . . . .  enum           int    009866H  2
Addr_TEST_P1_CFG2. . . . . . . . . . .  enum           int    00003FH  2
BIT_LCD_DSTB_RISE_FLAG0. . . . . . . .  enum           int    00000BH  2
BIT_LCD_IDLE_MODE_STA. . . . . . . . .  enum           int    000002H  2
Addr_TEST_P0_CFG2. . . . . . . . . . .  enum           int    00003CH  2
Addr_TEST_P1_CFG1. . . . . . . . . . .  enum           int    00003EH  2
BIT_LCD_VBLANK_WAKE_EN0. . . . . . . .  enum           int    000002H  2
BIT_LCD_FRAME_END_STA. . . . . . . . .  enum           int    00000BH  2
Addr_TEST_P0_CFG1. . . . . . . . . . .  enum           int    00003BH  2
Addr_TEST_P1_CFG0. . . . . . . . . . .  enum           int    00003DH  2
Addr_TEST_P0_CFG0. . . . . . . . . . .  enum           int    00003AH  2
BIT_LCD_VBLANK_FLAG0 . . . . . . . . .  enum           int    000002H  2
ENUM_AFE_ADDR. . . . . . . . . . . . .  type           int    000000H  2
BIT_LCD_STB_TICK_CLR1. . . . . . . . .  enum           int    00000BH  2
BIT_LCD_IDLE_MODE_RISE_WAKE_EN1. . . .  enum           int    000005H  2
BIT_LCD_RUN_FALL_CLR0. . . . . . . . .  enum           int    000001H  2
BIT_LCD_RUN_CLR1 . . . . . . . . . . .  enum           int    000002H  2
BIT_LCD_BUSY_FALL_EN0. . . . . . . . .  enum           int    00000FH  2
BIT_LCD_IDLE_MODE_RISE_FLAG1 . . . . .  enum           int    000005H  2
ST_CalMcPeakInfo . . . . . . . . . . .  type           struct 000000H  14
  ucMcPosPeakNum . . . . . . . . . . .  member         uchar  000000H  1
  ucMcNegPeakNum . . . . . . . . . . .  member         uchar  000001H  1
  ucMcPosAreaChNum . . . . . . . . . .  member         ushort 000002H  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 163 

  ucMcNegAreaChNum . . . . . . . . . .  member         ushort 000004H  2
  usMCminValue . . . . . . . . . . . .  member         ushort 000006H  2
  usMCminPos . . . . . . . . . . . . .  member         ushort 000008H  2
  usMCmaxValue . . . . . . . . . . . .  member         ushort 00000AH  2
  usMCmaxPos . . . . . . . . . . . . .  member         ushort 00000CH  2
BIT_LCD_DSTB_RISE_EN0. . . . . . . . .  enum           int    00000BH  2
BIT_LCD_TCH_DET_STA. . . . . . . . . .  enum           int    00000AH  2
BIT_HW_MON_TIMEOUT_EN1 . . . . . . . .  enum           int    00000EH  2
P2_ECC_L . . . . . . . . . . . . . . .  enum           int    000009H  2
FW_CFG_SPI_IOMODE_NE_OFFSET. . . . . .  enum           int    00000DH  2
BIT_LCD_ARAM_RDY_CLR0. . . . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_CLR1 . . . . . .  enum           int    000008H  2
P1_ECC_L . . . . . . . . . . . . . . .  enum           int    000005H  2
BIT_LCD_SYNC_MISS_RISE_CLR0. . . . . .  enum           int    000009H  2
BIT_LCD_VBLANK_EN0 . . . . . . . . . .  enum           int    000002H  2
FW_CFG_XBUS_CLK_OFFSET . . . . . . . .  enum           int    00000AH  2
ST_CalRegisters. . . . . . . . . . . .  type           struct 000000H  78
  rCmd . . . . . . . . . . . . . . . .  member         ushort 000000H  2
  rDmaLen. . . . . . . . . . . . . . .  member         ushort 000002H  2
  rS1Addr. . . . . . . . . . . . . . .  member         ushort 000004H  2
  rS2Addr. . . . . . . . . . . . . . .  member         ushort 000006H  2
  rOutAddr . . . . . . . . . . . . . .  member         ushort 000008H  2
  rPar . . . . . . . . . . . . . . . .  member         ushort 00000AH  2
  rSize. . . . . . . . . . . . . . . .  member         ushort 00000CH  2
  rPThd. . . . . . . . . . . . . . . .  member         ushort 00000EH  2
  rNThd. . . . . . . . . . . . . . . .  member         ushort 000010H  2
  rAThd. . . . . . . . . . . . . . . .  member         ushort 000012H  2
  rDmask . . . . . . . . . . . . . . .  member         ushort 000014H  2
  rPaCnt . . . . . . . . . . . . . . .  member         ushort 000016H  2
  rNaCnt . . . . . . . . . . . . . . .  member         ushort 000018H  2
  rPsCnt . . . . . . . . . . . . . . .  member         ushort 00001AH  2
  rNsCnt . . . . . . . . . . . . . . .  member         ushort 00001CH  2
  rMaxV. . . . . . . . . . . . . . . .  member         ushort 00001EH  2
  rMaxPos. . . . . . . . . . . . . . .  member         ushort 000020H  2
  rMinV. . . . . . . . . . . . . . . .  member         ushort 000022H  2
  rMinPos. . . . . . . . . . . . . . .  member         ushort 000024H  2
  rID0 . . . . . . . . . . . . . . . .  member         ushort 000026H  2
  rID1 . . . . . . . . . . . . . . . .  member         ushort 000028H  2
  rID2 . . . . . . . . . . . . . . . .  member         ushort 00002AH  2
  rCrc . . . . . . . . . . . . . . . .  member         ushort 00002CH  2
  rChk . . . . . . . . . . . . . . . .  member         ushort 00002EH  2
  rNaThd . . . . . . . . . . . . . . .  member         ushort 000030H  2
  rTxRxNum . . . . . . . . . . . . . .  member         ushort 000032H  2
  rDivShift. . . . . . . . . . . . . .  member         ushort 000034H  2
  rSubabsMax . . . . . . . . . . . . .  member         ushort 000036H  2
  rInt . . . . . . . . . . . . . . . .  member         ushort 000038H  2
  rCntNum. . . . . . . . . . . . . . .  member         ushort 00003AH  2
  rDmaskA. . . . . . . . . . . . . . .  member         ushort 00003CH  2
  rTxRxNumAm . . . . . . . . . . . . .  member         ushort 00003EH  2
  rTxRxNumAs . . . . . . . . . . . . .  member         ushort 000040H  2
  rSizeAm. . . . . . . . . . . . . . .  member         ushort 000042H  2
  rSizeAs. . . . . . . . . . . . . . .  member         ushort 000044H  2
  rS1AddrA . . . . . . . . . . . . . .  member         ushort 000046H  2
  rS2AddrA . . . . . . . . . . . . . .  member         ushort 000048H  2
  rOutAddrA. . . . . . . . . . . . . .  member         ushort 00004AH  2
  rSel . . . . . . . . . . . . . . . .  member         ushort 00004CH  2
Addr_ADC_CFG . . . . . . . . . . . . .  enum           int    000045H  2
Addr_OVERFLOW_CLR_FRAMENUM . . . . . .  enum           int    00004EH  2
P2_ECC_H . . . . . . . . . . . . . . .  enum           int    000008H  2
Addr_OVERFLOW_UPBOUND. . . . . . . . .  enum           int    00004AH  2
P1_ECC_H . . . . . . . . . . . . . . .  enum           int    000004H  2
Addr_OVER_POINT_FRAME. . . . . . . . .  enum           int    00004BH  2
BIT_LCD_IDLE_MODE_RISE_EN1 . . . . . .  enum           int    000005H  2
Addr_ALL_GATE_OFF_L_CFG. . . . . . . .  enum           int    00002EH  2
BIT_LCD_VMID_WAKE_EN0. . . . . . . . .  enum           int    000004H  2
Addr_ADC_DATA0 . . . . . . . . . . . .  enum           int    000046H  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 164 

BIT_LCD_VMID_FLAG0 . . . . . . . . . .  enum           int    000004H  2
ST_CalMcMacParam . . . . . . . . . . .  type           struct 000000H  10
  ucRxStart. . . . . . . . . . . . . .  member         uchar  000000H  1
  ucTxStart. . . . . . . . . . . . . .  member         uchar  000001H  1
  ucRxLen. . . . . . . . . . . . . . .  member         uchar  000002H  1
  ucTxLen. . . . . . . . . . . . . . .  member         uchar  000003H  1
  ucNoise. . . . . . . . . . . . . . .  member         uchar  000004H  1
  ucMode . . . . . . . . . . . . . . .  member         uchar  000005H  1
  usDiffAddr . . . . . . . . . . . . .  member         ushort 000006H  2
  usCalOutAddr . . . . . . . . . . . .  member         ushort 000008H  2
Addr_AFE_DUMMY_SCAN_CFG. . . . . . . .  enum           int    000008H  2
BIT_LCD_ODD_EVEN_FALL_CLR1 . . . . . .  enum           int    00000AH  2
BIT_LCD_VEND_WAKE_EN0. . . . . . . . .  enum           int    000003H  2
Addr_MCAP_LPFIR_COF7 . . . . . . . . .  enum           int    000057H  2
BIT_LCD_DSTB_FLAG1 . . . . . . . . . .  enum           int    000001H  2
FW_CFG_BKUP_I2C_FLASH_ADDR . . . . . .  enum           int    001120H  2
Addr_ACC_OFFSET. . . . . . . . . . . .  enum           int    00000AH  2
Addr_MCAP_LPFIR_COF6 . . . . . . . . .  enum           int    000056H  2
BIT_LCD_VEND_FLAG0 . . . . . . . . . .  enum           int    000003H  2
BIT_LCD_DSTB_FAIL_WAKE_EN0 . . . . . .  enum           int    00000CH  2
P2_ECC_NE_L. . . . . . . . . . . . . .  enum           int    00000BH  2
Addr_MCAP_LPFIR_COF5 . . . . . . . . .  enum           int    000055H  2
BIT_LCD_VSTART_CLR0. . . . . . . . . .  enum           int    000005H  2
P1_ECC_NE_L. . . . . . . . . . . . . .  enum           int    000007H  2
Addr_MCAP_LPFIR_COF4 . . . . . . . . .  enum           int    000054H  2
BIT_LCD_DSTB_FAIL_FLAG0. . . . . . . .  enum           int    00000CH  2
FW_CFG_XBUS_CLK_NE_OFFSET. . . . . . .  enum           int    00000BH  2
Addr_KEY_SAMPLE_INTERVAL_6 . . . . . .  enum           int    000042H  2
Addr_MCAP_LPFIR_COF3 . . . . . . . . .  enum           int    000053H  2
Addr_MCAP_LPFIR_COF2 . . . . . . . . .  enum           int    000052H  2
BIT_LCD_PANEL_CONFLICT_WAKE_EN0. . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_WAKE_EN1. . . .  enum           int    000006H  2
P2_ECC_NE_H. . . . . . . . . . . . . .  enum           int    00000AH  2
APP_LEN_H. . . . . . . . . . . . . . .  enum           int    000012H  2
Addr_MCAP_LPFIR_COF1 . . . . . . . . .  enum           int    000051H  2
BIT_LCD_VMID_EN0 . . . . . . . . . . .  enum           int    000004H  2
P1_ECC_NE_H. . . . . . . . . . . . . .  enum           int    000006H  2
Addr_MCAP_LPFIR_COF0 . . . . . . . . .  enum           int    000050H  2
BIT_LCD_PANEL_CONFLICT_FLAG0 . . . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_FLAG1 . . . . .  enum           int    000006H  2
BIT_LCD_DSTB_EN1 . . . . . . . . . . .  enum           int    000001H  2
BIT_LCD_FRAME_END_WAKE_EN0 . . . . . .  enum           int    000007H  2
ENUM_FW_CFG_BKUP_FLASH_ADDR. . . . . .  type           int    000000H  2
BIT_LCD_VEND_EN0 . . . . . . . . . . .  enum           int    000003H  2
BIT_LCD_FRAME_END_FLAG0. . . . . . . .  enum           int    000007H  2
BIT_LCD_SYNC_MISS_FALL_CLR0. . . . . .  enum           int    00000AH  2
BIT_LCD_DSTB_FAIL_EN0. . . . . . . . .  enum           int    00000CH  2
LCD_OTP_SYS_CLK_ADDR . . . . . . . . .  enum           int    00986EH  2
BIT_LCD_BUSY_RISE_CLR0 . . . . . . . .  enum           int    00000EH  2
BIT_LCD_PANEL_CONFLICT_EN0 . . . . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_EN1 . . . . . .  enum           int    000006H  2
BIT_LCD_TCH_DET_WAKE_EN0 . . . . . . .  enum           int    000006H  2
Addr_AFE_SD_VOM_OPT_P1_P2_CFG. . . . .  enum           int    000027H  2
Addr_ALL_GATE_STOP_L_CFG . . . . . . .  enum           int    00002FH  2
Addr_NORMAL_SIGNAL_UPTHR . . . . . . .  enum           int    00004CH  2
Addr_AFE_ANA_SH_CFG6 . . . . . . . . .  enum           int    000020H  2
BIT_LCD_TCH_DET_FLAG0. . . . . . . . .  enum           int    000006H  2
APP_LEN_H_NE . . . . . . . . . . . . .  enum           int    000014H  2
Addr_AFE_ANA_SH_CFG5 . . . . . . . . .  enum           int    00001FH  2
Addr_ANA_STATIC_CFG3 . . . . . . . . .  enum           int    000039H  2
BIT_LCD_FRAME_END_EN0. . . . . . . . .  enum           int    000007H  2
Addr_AFE_ANA_SH_CFG4 . . . . . . . . .  enum           int    00001EH  2
Addr_ANA_STATIC_CFG2 . . . . . . . . .  enum           int    000038H  2
ENUM_LCD_OTP_ADDR. . . . . . . . . . .  type           int    000000H  2
ST_XSIRegisters. . . . . . . . . . . .  type           struct 000000H  10
  Wdata. . . . . . . . . . . . . . . .  member         ushort 000000H  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 165 

  Rdata. . . . . . . . . . . . . . . .  member         ushort 000002H  2
  Clksel . . . . . . . . . . . . . . .  member         ushort 000004H  2
  Stop . . . . . . . . . . . . . . . .  member         ushort 000006H  2
  Tx_int . . . . . . . . . . . . . . .  member         ushort 000008H  2
Addr_AFE_ANA_SH_CFG3 . . . . . . . . .  enum           int    00001DH  2
Addr_ANA_STATIC_CFG1 . . . . . . . . .  enum           int    000037H  2
BIT_LCD_3D_MODE_STA. . . . . . . . . .  enum           int    000001H  2
FW_CFG_I2C_FLASH_ADDR. . . . . . . . .  enum           int    000F80H  2
Addr_AFE_ANA_SH_CFG2 . . . . . . . . .  enum           int    00001CH  2
Addr_ANA_STATIC_CFG0 . . . . . . . . .  enum           int    000036H  2
Addr_RAWDATA_OFFSET_L. . . . . . . . .  enum           int    000044H  2
ST_Spi1DmaRegisters. . . . . . . . . .  type           struct 000000H  14
  dma_ctrl . . . . . . . . . . . . . .  member         ushort 000000H  2
  timeout_ctrl . . . . . . . . . . . .  member         ushort 000002H  2
  addr_h . . . . . . . . . . . . . . .  member         ushort 000004H  2
  start_addr_l . . . . . . . . . . . .  member         ushort 000006H  2
  end_addr_l . . . . . . . . . . . . .  member         ushort 000008H  2
  dma_crc. . . . . . . . . . . . . . .  member         ushort 00000AH  2
  dma_srcr . . . . . . . . . . . . . .  member         ushort 00000CH  2
Addr_PANEL_MODE_CFG2 . . . . . . . . .  enum           int    000003H  2
Addr_AFE_ANA_SH_CFG1 . . . . . . . . .  enum           int    00001BH  2
ST_Spi0DmaRegisters. . . . . . . . . .  type           struct 000000H  14
  dma_ctrl . . . . . . . . . . . . . .  member         ushort 000000H  2
  timeout_ctrl . . . . . . . . . . . .  member         ushort 000002H  2
  addr_h . . . . . . . . . . . . . . .  member         ushort 000004H  2
  start_addr_l . . . . . . . . . . . .  member         ushort 000006H  2
  end_addr_l . . . . . . . . . . . . .  member         ushort 000008H  2
  dma_crc. . . . . . . . . . . . . . .  member         ushort 00000AH  2
  dma_srcr . . . . . . . . . . . . . .  member         ushort 00000CH  2
Addr_PANEL_MODE_CFG1 . . . . . . . . .  enum           int    000002H  2
Addr_AFE_ANA_SH_CFG0 . . . . . . . . .  enum           int    00001AH  2
ST_CalMcMatrixParam. . . . . . . . . .  type           struct 000000H  14
  ucTxLen. . . . . . . . . . . . . . .  member         uchar  000000H  1
  ucRxLen. . . . . . . . . . . . . . .  member         uchar  000001H  1
  ucShift. . . . . . . . . . . . . . .  member         uchar  000002H  1
  ucCfg. . . . . . . . . . . . . . . .  member         uchar  000003H  1
  ucDataType . . . . . . . . . . . . .  member         uchar  000004H  1
  ucLineCfg. . . . . . . . . . . . . .  member         uchar  000005H  1
  usSrc1Addr . . . . . . . . . . . . .  member         ushort 000006H  2
  usSrc2Addr . . . . . . . . . . . . .  member         ushort 000008H  2
  usDstAddr. . . . . . . . . . . . . .  member         ushort 00000AH  2
  usCalCmd . . . . . . . . . . . . . .  member         ushort 00000CH  2
Addr_PANEL_MODE_CFG0 . . . . . . . . .  enum           int    000001H  2
Addr_MCAP_SCAN_CFG . . . . . . . . . .  enum           int    000040H  2
BIT_LCD_TCH_DET_EN0. . . . . . . . . .  enum           int    000006H  2
BIT_LCD_3D_MODE_RISE_WAKE_EN1. . . . .  enum           int    000003H  2
Addr_NORMAL_SIGNAL_DWTHR . . . . . . .  enum           int    00004DH  2
LCD_OTP_SYS_CLK_NE_ADDR. . . . . . . .  enum           int    00986FH  2
BIT_LCD_3D_MODE_RISE_FLAG1 . . . . . .  enum           int    000003H  2
BIT_LCD_STB_TICK_STA . . . . . . . . .  enum           int    000009H  2
BIT_LCD_RUN_STA. . . . . . . . . . . .  enum           int    000000H  2
ENUM_FW_CFG_FLASH_ADDR . . . . . . . .  type           int    000000H  2
ENUM_BIT_ASM_INT_FLAG1 . . . . . . . .  type           int    000000H  2
ENUM_BIT_ASM_INT_FLAG0 . . . . . . . .  type           int    000000H  2
Addr_AFE_BASE_TRACK_CFG. . . . . . . .  enum           int    000009H  2
Union_AsmReg . . . . . . . . . . . . .  type           union  000000H  82
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  82
  offset . . . . . . . . . . . . . . .  member         array  000000H  82
BIT_LCD_VDO_MODE_STA . . . . . . . . .  enum           int    000003H  2
LCD_OTP_SPI_CLK_ADDR . . . . . . . . .  enum           int    00986CH  2
Addr_AFE_GIPL_P1_P2_CFG. . . . . . . .  enum           int    000026H  2
BIT_LCD_RUN_RISE_WAKE_EN0. . . . . . .  enum           int    000000H  2
Addr_MCAP_SCANSR . . . . . . . . . . .  enum           int    000041H  2
BIT_LCD_BUSY_FALL_CLR0 . . . . . . . .  enum           int    00000FH  2
BIT_LCD_3D_MODE_RISE_EN1 . . . . . . .  enum           int    000003H  2
Addr_AFE_SX_P1_P2_CFG. . . . . . . . .  enum           int    000028H  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 166 

BIT_LCD_RUN_RISE_FLAG0 . . . . . . . .  enum           int    000000H  2
BIT_LCD_DSTB_RISE_CLR0 . . . . . . . .  enum           int    00000BH  2
ENUM_BIT_ASM_INT_EN1 . . . . . . . . .  type           int    000000H  2
FW_CFG_VENDOR_OFFSET . . . . . . . . .  enum           int    000004H  2
Addr_AFE_GIPH_P1_P2_CFG. . . . . . . .  enum           int    000025H  2
BIT_HW_MON_TIMEOUT_CLR1. . . . . . . .  enum           int    00000EH  2
ENUM_BIT_ASM_INT_EN0 . . . . . . . . .  type           int    000000H  2
BIT_LCD_VDO_MODE_RISE_WAKE_EN1 . . . .  enum           int    000007H  2
UINT16 . . . . . . . . . . . . . . . .  type           ushort 000000H  2
BIT_LCD_VDO_MODE_RISE_FLAG1. . . . . .  enum           int    000007H  2
BIT_LCD_VBLANK_CLR0. . . . . . . . . .  enum           int    000002H  2
SINT16 . . . . . . . . . . . . . . . .  type           short  000000H  2
UINT32 . . . . . . . . . . . . . . . .  type           ulong  000000H  4
Addr_MCAP_INIT_SAMPL_CFG . . . . . . .  enum           int    000047H  2
BIT_LPF_MODE_EN_RISE_CLR1. . . . . . .  enum           int    00000CH  2
BIT_LCD_ODD_EVEN_STA . . . . . . . . .  enum           int    000004H  2
SINT32 . . . . . . . . . . . . . . . .  type           long   000000H  4
Addr_OVERFLOW_THR. . . . . . . . . . .  enum           int    000048H  2
BIT_LCD_VSTART_STA . . . . . . . . . .  enum           int    000008H  2
Addr_AFE_ANA_CA_CFG2 . . . . . . . . .  enum           int    000011H  2
BIT_LCD_IDLE_MODE_RISE_CLR1. . . . . .  enum           int    000005H  2
BIT_LCD_RUN_RISE_EN0 . . . . . . . . .  enum           int    000000H  2
Addr_AFE_ANA_CA_CFG1 . . . . . . . . .  enum           int    000010H  2
BIT_LCD_3D_MODE_FALL_WAKE_EN1. . . . .  enum           int    000004H  2
APP_LEN. . . . . . . . . . . . . . . .  enum           int    000000H  2
LCD_OTP_SPI_CLK_NE_ADDR. . . . . . . .  enum           int    00986DH  2
Addr_AFE_ANA_CA_CFG0 . . . . . . . . .  enum           int    00000FH  2
Addr_TEST_MODE_FLAG. . . . . . . . . .  enum           int    000033H  2
FW_CFG_BKUP_START_FLASH_ADDR . . . . .  enum           int    001120H  2
Union_LcdReg . . . . . . . . . . . . .  type           union  000000H  10
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  10
  offset . . . . . . . . . . . . . . .  member         array  000000H  10
BIT_LCD_3D_MODE_FALL_FLAG1 . . . . . .  enum           int    000004H  2
BIT_LCD_ODD_EVEN_RISE_WAKE_EN1 . . . .  enum           int    000009H  2
ST_CalMcPeakDetectParam. . . . . . . .  type           struct 000000H  18
  ucRxLen. . . . . . . . . . . . . . .  member         uchar  000000H  1
  ucTxLen. . . . . . . . . . . . . . .  member         uchar  000001H  1
  ucMaxPeakNum . . . . . . . . . . . .  member         uchar  000002H  1
  ucSearchMod. . . . . . . . . . . . .  member         uchar  000003H  1
  usDiffAddr . . . . . . . . . . . . .  member         ushort 000004H  2
  usCalOutAddr . . . . . . . . . . . .  member         ushort 000006H  2
  usNegOutAddr . . . . . . . . . . . .  member         ushort 000008H  2
  usPosThd . . . . . . . . . . . . . .  member         short  00000AH  2
  usNegThd . . . . . . . . . . . . . .  member         short  00000CH  2
  usAreaThd. . . . . . . . . . . . . .  member         ushort 00000EH  2
  usNegAreaThd . . . . . . . . . . . .  member         short  000010H  2
Addr_TP_MONITOR_THRESHOLD. . . . . . .  enum           int    00000BH  2
BIT_LCD_VDO_MODE_RISE_EN1. . . . . . .  enum           int    000007H  2
Addr_CB_ADJUST_THLD. . . . . . . . . .  enum           int    000032H  2
BIT_LCD_ODD_EVEN_RISE_FLAG1. . . . . .  enum           int    000009H  2
FW_CFG_VENDOR_NE_OFFSET. . . . . . . .  enum           int    000005H  2
Union_CalReg . . . . . . . . . . . . .  type           union  000000H  78
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  78
  offset . . . . . . . . . . . . . . .  member         array  000000H  78
Addr_AFE_ANA_K2_CFG1 . . . . . . . . .  enum           int    00000EH  2
Addr_AFE_P1_P2_DLY_CFG1. . . . . . . .  enum           int    000019H  2
Addr_AFE_P1_P2_DLY_CFG0. . . . . . . .  enum           int    000018H  2
BIT_LCD_STB_TICK_WAKE_EN1. . . . . . .  enum           int    00000BH  2
BIT_LCD_SYNC_MISS_STA. . . . . . . . .  enum           int    00000CH  2
Addr_AFE_ANA_K1_CFG0 . . . . . . . . .  enum           int    00000DH  2
BIT_LCD_RUN_FALL_WAKE_EN0. . . . . . .  enum           int    000001H  2
BIT_LCD_STB_TICK_FLAG1 . . . . . . . .  enum           int    00000BH  2
BIT_LCD_VMID_CLR0. . . . . . . . . . .  enum           int    000004H  2
BIT_LCD_3D_MODE_FALL_EN1 . . . . . . .  enum           int    000004H  2
FW_CFG_I2C_OFFSET. . . . . . . . . . .  enum           int    000000H  2
BIT_LCD_RUN_FALL_FLAG0 . . . . . . . .  enum           int    000001H  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 167 

BIT_LCD_RUN_FLAG1. . . . . . . . . . .  enum           int    000002H  2
BIT_LCD_DSTB_CLR1. . . . . . . . . . .  enum           int    000001H  2
BIT_LCD_ODD_EVEN_RISE_EN1. . . . . . .  enum           int    000009H  2
BIT_LCD_LPF_MODE_EN_RISE_WAKE_EN1. . .  enum           int    00000CH  2
APP_NE_LEN . . . . . . . . . . . . . .  enum           int    000002H  2
Addr_ALL_GATE_ON_L_CFG . . . . . . . .  enum           int    00002DH  2
BIT_LCD_VEND_CLR0. . . . . . . . . . .  enum           int    000003H  2
BIT_LCD_ARAM_RDY_WAKE_EN0. . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_WAKE_EN1 . . . .  enum           int    000008H  2
FW_CFG_SYS_CLK_OFFSET. . . . . . . . .  enum           int    000008H  2
Addr_RAWSHIFTCAF . . . . . . . . . . .  enum           int    000043H  2
BIT_LCD_SYNC_MISS_RISE_WAKE_EN0. . . .  enum           int    000009H  2
Addr_AFE_SCAN_CFG1 . . . . . . . . . .  enum           int    000007H  2
Addr_ALL_GATE_H_CFG. . . . . . . . . .  enum           int    000030H  2
BIT_LCD_ARAM_RDY_FLAG0 . . . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_FLAG1. . . . . .  enum           int    000008H  2
BIT_LCD_DSTB_FAIL_CLR0 . . . . . . . .  enum           int    00000CH  2
LCD_OTP_SPI_IOMODE_ADDR. . . . . . . .  enum           int    009872H  2
Addr_AFE_SCAN_CFG0 . . . . . . . . . .  enum           int    000006H  2
BIT_LCD_SYNC_MISS_RISE_FLAG0 . . . . .  enum           int    000009H  2
BIT_LPF_MODE_EN_FALL_CLR1. . . . . . .  enum           int    00000DH  2
size_t . . . . . . . . . . . . . . . .  type           uint   000000H  2
Addr_AFE_MOUT_GIPL_CFG . . . . . . . .  enum           int    00002AH  2
Addr_MCAP_LPFIR_CFG. . . . . . . . . .  enum           int    00004FH  2
BIT_LCD_STB_TICK_EN1 . . . . . . . . .  enum           int    00000BH  2
ENUM_FW_CFG_OFFSET . . . . . . . . . .  type           int    000000H  2
BIT_LCD_PANEL_CONFLICT_CLR0. . . . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_CLR1. . . . . .  enum           int    000006H  2
BIT_LCD_RUN_FALL_EN0 . . . . . . . . .  enum           int    000001H  2
BIT_LCD_RUN_EN1. . . . . . . . . . . .  enum           int    000002H  2
Addr_RPT_RAWDATA_NUM . . . . . . . . .  enum           int    000031H  2
FW_CFG_START_FLASH_ADDR. . . . . . . .  enum           int    000F80H  2
Addr_AFE_MOUT_GIPH_CFG . . . . . . . .  enum           int    000029H  2
BIT_LCD_FRAME_END_CLR0 . . . . . . . .  enum           int    000007H  2
BIT_LCD_LPF_MODE_EN_RISE_EN1 . . . . .  enum           int    00000CH  2
BIT_LCD_ODD_EVEN_FALL_WAKE_EN1 . . . .  enum           int    00000AH  2
FW_CFG_I2C_NE_OFFSET . . . . . . . . .  enum           int    000001H  2
BIT_LCD_ARAM_RDY_EN0 . . . . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_EN1. . . . . . .  enum           int    000008H  2
Addr_AFE_GOUT_GIPL_CFG . . . . . . . .  enum           int    00002CH  2
BIT_LCD_ODD_EVEN_FALL_FLAG1. . . . . .  enum           int    00000AH  2
BIT_LCD_SYNC_MISS_RISE_EN0 . . . . . .  enum           int    000009H  2
BIT_LCD_VSTART_WAKE_EN0. . . . . . . .  enum           int    000005H  2
FW_CFG_SYS_CLK_NE_OFFSET . . . . . . .  enum           int    000009H  2
ST_CalMatrixAMov . . . . . . . . . . .  type           struct 000000H  8
  ucS1TxLen. . . . . . . . . . . . . .  member         uchar  000000H  1
  ucS1RxLen. . . . . . . . . . . . . .  member         uchar  000001H  1
  usSrc1Addr . . . . . . . . . . . . .  member         ushort 000002H  2
  usDstAddr. . . . . . . . . . . . . .  member         ushort 000004H  2
  usDmaMask. . . . . . . . . . . . . .  member         ushort 000006H  2
FW_CFG_IOVOLTAGE_OFFSET. . . . . . . .  enum           int    000002H  2
BIT_LCD_VSTART_FLAG0 . . . . . . . . .  enum           int    000005H  2
ST_PeakData. . . . . . . . . . . . . .  type           struct 000000H  132
  aucMcPosPeak . . . . . . . . . . . .  member         array  000000H  60
  aucMcNegPeak . . . . . . . . . . . .  member         array  00003CH  60
  aucMcPeakValid . . . . . . . . . . .  member         array  000078H  4
  ucMcPosPeakNum . . . . . . . . . . .  member         uchar  00007CH  1
  ucMcNegPeakNum . . . . . . . . . . .  member         uchar  00007DH  1
  ucCurrPeakNum. . . . . . . . . . . .  member         uchar  00007EH  1
  ucLastPeakNum. . . . . . . . . . . .  member         uchar  00007FH  1
  ucMcPosAreaChNum . . . . . . . . . .  member         ushort 000080H  2
  ucMcNegAreaChNum . . . . . . . . . .  member         ushort 000082H  2
ENUM_APP_INFO. . . . . . . . . . . . .  type           int    000000H  2
LCD_OTP_SPI_IOMODE_NE_ADDR . . . . . .  enum           int    009873H  2
Addr_AFE_ANA_P1_P2_CFG5. . . . . . . .  enum           int    000017H  2
Addr_AFE_GOUT_GIPH_CFG . . . . . . . .  enum           int    00002BH  2
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 168 

Addr_AFE_ANA_P1_P2_CFG4. . . . . . . .  enum           int    000016H  2
BIT_LCD_TCH_DET_CLR0 . . . . . . . . .  enum           int    000006H  2
LCD_OTP_XBUS_CLK_ADDR. . . . . . . . .  enum           int    009870H  2
Addr_AFE_ANA_P1_P2_CFG3. . . . . . . .  enum           int    000015H  2
Addr_AFE_ANA_P1_P2_CFG2. . . . . . . .  enum           int    000014H  2
BOOLEAN. . . . . . . . . . . . . . . .  type     bit   bit    000000H  1
Addr_AFE_ANA_P1_P2_CFG1. . . . . . . .  enum           int    000013H  2
BIT_LCD_ODD_EVEN_FALL_EN1. . . . . . .  enum           int    00000AH  2
BIT_LCD_LPF_MODE_EN_FALL_WAKE_EN1. . .  enum           int    00000DH  2
BIT_LCD_BUSY_STA . . . . . . . . . . .  enum           int    00000FH  2
FW_CFG_SPI_CLK_OFFSET. . . . . . . . .  enum           int    000006H  2
Union_XSIReg . . . . . . . . . . . . .  type           union  000000H  10
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  10
  offset . . . . . . . . . . . . . . .  member         array  000000H  10
Addr_AFE_ANA_P1_P2_CFG0. . . . . . . .  enum           int    000012H  2
FP64 . . . . . . . . . . . . . . . . .  type           float  000000H  4
BIT_LCD_SYNC_MISS_FALL_WAKE_EN0. . . .  enum           int    00000AH  2
BIT_LCD_VSTART_EN0 . . . . . . . . . .  enum           int    000005H  2
ENUM_BIT_ASM_INT_STA0. . . . . . . . .  type           int    000000H  2
BIT_LCD_SYNC_MISS_FALL_FLAG0 . . . . .  enum           int    00000AH  2
BIT_LCD_VBLANK_STA . . . . . . . . . .  enum           int    000005H  2
RTCCON1. . . . . . . . . . . . . . . .  sfr      data  uchar  0B6H     1
CGUCON8. . . . . . . . . . . . . . . .  sfr      data  uchar  0BFH     1
CGUCON6. . . . . . . . . . . . . . . .  sfr      data  uchar  0CEH     1
CGUCON5. . . . . . . . . . . . . . . .  sfr      data  uchar  0CDH     1
CGUCON4. . . . . . . . . . . . . . . .  sfr      data  uchar  0CCH     1
CGUCON3. . . . . . . . . . . . . . . .  sfr      data  uchar  0CBH     1
CGUCON2. . . . . . . . . . . . . . . .  sfr      data  uchar  0CAH     1
CALCKEN. . . . . . . . . . . . . . . .  absbit   data  bit    0CBH.6   1
CGUCON1. . . . . . . . . . . . . . . .  sfr      data  uchar  0C8H     1
CGUCON0. . . . . . . . . . . . . . . .  sfr      data  uchar  0C9H     1
MEMBIST_ERRMAP2. . . . . . . . . . . .  sfr      data  uchar  0D9H     1
MEMBIST_ERRMAP1. . . . . . . . . . . .  sfr      data  uchar  0D8H     1
ANACON9. . . . . . . . . . . . . . . .  sfr      data  uchar  0B0H     1
ANACON8. . . . . . . . . . . . . . . .  sfr      data  uchar  0A0H     1
MEMBIST_FINISH2. . . . . . . . . . . .  sfr      data  uchar  0D5H     1
ANACON7. . . . . . . . . . . . . . . .  sfr      data  uchar  0C7H     1
MEMBIST_FINISH1. . . . . . . . . . . .  sfr      data  uchar  0D4H     1
SFTRST . . . . . . . . . . . . . . . .  sfr      data  uchar  0E9H     1
P1SEL. . . . . . . . . . . . . . . . .  sfr      data  uchar  0EEH     1
ANACON3. . . . . . . . . . . . . . . .  sfr      data  uchar  0C3H     1
P0SEL. . . . . . . . . . . . . . . . .  sfr      data  uchar  0ECH     1
ANACON2. . . . . . . . . . . . . . . .  sfr      data  uchar  0C2H     1
ANACON1. . . . . . . . . . . . . . . .  sfr      data  uchar  0C1H     1
P1MOD. . . . . . . . . . . . . . . . .  sfr      data  uchar  0EDH     1
SYSCON . . . . . . . . . . . . . . . .  sfr      data  uchar  098H     1
P1DIR. . . . . . . . . . . . . . . . .  sfr      data  uchar  0ADH     1
P0MOD. . . . . . . . . . . . . . . . .  sfr      data  uchar  0EBH     1
P0DIR. . . . . . . . . . . . . . . . .  sfr      data  uchar  0ACH     1
P1BUF. . . . . . . . . . . . . . . . .  sfr      data  uchar  094H     1
P0BUF. . . . . . . . . . . . . . . . .  sfr      data  uchar  080H     1
TESTCON3 . . . . . . . . . . . . . . .  sfr      data  uchar  0E4H     1
TESTCON2 . . . . . . . . . . . . . . .  sfr      data  uchar  0E3H     1
IWKSTA . . . . . . . . . . . . . . . .  sfr      data  uchar  0E5H     1
WDTREL . . . . . . . . . . . . . . . .  sfr      data  uchar  09AH     1
TESTCON1 . . . . . . . . . . . . . . .  sfr      data  uchar  0E2H     1
TESTCON0 . . . . . . . . . . . . . . .  sfr      data  uchar  0E1H     1
WDTCON . . . . . . . . . . . . . . . .  sfr      data  uchar  099H     1
AIF. . . . . . . . . . . . . . . . . .  sfr      data  uchar  0C0H     1
AIE. . . . . . . . . . . . . . . . . .  sfr      data  uchar  0E8H     1
FT_EN_REG. . . . . . . . . . . . . . .  sfr      data  uchar  0BDH     1
RTCCON . . . . . . . . . . . . . . . .  sfr      data  uchar  09EH     1
LED_EN . . . . . . . . . . . . . . . .  sfr      data  uchar  0FEH     1
CNTCON . . . . . . . . . . . . . . . .  sfr      data  uchar  0B9H     1
MEMBIST_FAIL2. . . . . . . . . . . . .  sfr      data  uchar  0D7H     1
MEMBIST_FAIL1. . . . . . . . . . . . .  sfr      data  uchar  0D6H     1
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 169 

MEMBIST_EN2. . . . . . . . . . . . . .  sfr      data  uchar  0D3H     1
MEMBIST_EN1. . . . . . . . . . . . . .  sfr      data  uchar  0D2H     1
TDIV . . . . . . . . . . . . . . . . .  sfr      data  uchar  09BH     1
XDP_STA. . . . . . . . . . . . . . . .  sfr      data  uchar  0EFH     1
TCON . . . . . . . . . . . . . . . . .  sfr      data  uchar  088H     1
TMOD . . . . . . . . . . . . . . . . .  sfr      data  uchar  089H     1
SPI0CON5 . . . . . . . . . . . . . . .  sfr      data  uchar  0A7H     1
SPI1CON4 . . . . . . . . . . . . . . .  sfr      data  uchar  0B2H     1
SPI1CON3 . . . . . . . . . . . . . . .  sfr      data  uchar  0B1H     1
SPI0CON3 . . . . . . . . . . . . . . .  sfr      data  uchar  0A5H     1
SPI1CON2 . . . . . . . . . . . . . . .  sfr      data  uchar  0B4H     1
ANACON . . . . . . . . . . . . . . . .  sfr      data  uchar  0EAH     1
PCON . . . . . . . . . . . . . . . . .  sfr      data  uchar  087H     1
SPI0CON2 . . . . . . . . . . . . . . .  sfr      data  uchar  0A3H     1
DSV_CON. . . . . . . . . . . . . . . .  sfr      data  uchar  0DAH     1
AIPL . . . . . . . . . . . . . . . . .  sfr      data  uchar  0F8H     1
I2CSEL . . . . . . . . . . . . . . . .  sfr      data  uchar  095H     1
SSCG_CON0. . . . . . . . . . . . . . .  sfr      data  uchar  0F5H     1
AIPH . . . . . . . . . . . . . . . . .  sfr      data  uchar  0F7H     1
I2C_STATE. . . . . . . . . . . . . . .  sfr      data  uchar  0FDH     1
I2CCON . . . . . . . . . . . . . . . .  sfr      data  uchar  090H     1
UARTCON. . . . . . . . . . . . . . . .  sfr      data  uchar  0A9H     1
P0_7 . . . . . . . . . . . . . . . . .  absbit   data  bit    080H.7   1
IPL0 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0B8H     1
IPH0 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0B7H     1
IEN1 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0DFH     1
IEN0 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0A8H     1
I2CSTOP. . . . . . . . . . . . . . . .  sfr      data  uchar  093H     1
SPI1CON. . . . . . . . . . . . . . . .  sfr      data  uchar  0B3H     1
SPI0CON. . . . . . . . . . . . . . . .  sfr      data  uchar  0A2H     1
memset?? . . . . . . . . . . . . . . .  extern   ecode funct  000000H  
printf?. . . . . . . . . . . . . . . .  extern   ecode funct  000000H  
DrvCal_LDS?. . . . . . . . . . . . . .  public   ecode funct  0007E4H  85
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_MDS?. . . . . . . . . . . . . .  public   ecode funct  000839H  85
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_MatrixAMov? . . . . . . . . . .  public   ecode funct  0008CCH  308
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  CALCKEN_BAK. . . . . . . . . . . . .  *reg*          uchar  R15      1
  ucCalCmd . . . . . . . . . . . . . .  *reg*          ushort WR12     2
DrvCal_MatrixCompensation? . . . . . .  public   ecode funct  0006FCH  232
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  Thr. . . . . . . . . . . . . . . . .  *reg*          uchar  R6       1
  Cfg. . . . . . . . . . . . . . . . .  *reg*          uchar  R7       1
DrvCal_Noise?. . . . . . . . . . . . .  public   ecode funct  00088EH  62
  usSrc1Addr . . . . . . . . . . . . .  *reg*          ushort WR6      2
  Tx_Len . . . . . . . . . . . . . . .  *reg*          uchar  R11      1
  Rx_Len . . . . . . . . . . . . . . .  *reg*          uchar  R10      1
  Noise. . . . . . . . . . . . . . . .  *reg*          ushort WR6      2
DrvCal_MatrixCount?. . . . . . . . . .  public   ecode funct  000B3EH  99
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  ssMin. . . . . . . . . . . . . . . .  *reg*          short  WR6      2
  ssMax. . . . . . . . . . . . . . . .  *reg*          short  WR4      2
  usNum. . . . . . . . . . . . . . . .  *reg*          ushort WR6      2
DrvCal_MatrixProc? . . . . . . . . . .  public   ecode funct  0000FEH  112
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_Mac?. . . . . . . . . . . . . .  public   ecode funct  000376H  125
  pMacParm . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_Cmd?. . . . . . . . . . . . . .  public   ecode funct  000049H  181
  cmd. . . . . . . . . . . . . . . . .  *reg*          ushort WR6      2
DrvCal_Init? . . . . . . . . . . . . .  public   ecode funct  000000H  73
  ucTxNum. . . . . . . . . . . . . . .  *reg*          uchar  R11      1
  ucRxNum. . . . . . . . . . . . . . .  *reg*          uchar  R7       1
  usDmask. . . . . . . . . . . . . . .  *reg*          ushort WR4      2
  usDmaskA . . . . . . . . . . . . . .  *reg*          ushort WR2      2
DrvCal_MatrixAvg?. . . . . . . . . . .  public   ecode funct  000A00H  193
C251 COMPILER V5.4.0.1,  Drv_Cal                                                           23/05/17  14:19:51  PAGE 170 

  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  usAvgMode. . . . . . . . . . . . . .  *reg*          uchar  R11      1
DrvCal_MatrixAmp?. . . . . . . . . . .  public   ecode funct  00016EH  94
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  mul. . . . . . . . . . . . . . . . .  *reg*          short  WR6      2
DrvCal_MatrixDiv?. . . . . . . . . . .  public   ecode funct  0001CCH  85
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  div. . . . . . . . . . . . . . . . .  *reg*          uchar  R11      1
DrvCal_MatrixMul?. . . . . . . . . . .  public   ecode funct  000221H  111
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  K_Num. . . . . . . . . . . . . . . .  *reg*          uchar  R11      1
DrvCal_MatrixSubConst? . . . . . . . .  public   ecode funct  000BA1H  124
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_McPeak? . . . . . . . . . . . .  public   ecode funct  000290H  230
  pMcPDP . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  pMcPI. . . . . . . . . . . . . . . .  *reg*          ptr    DR12     4
DrvCal_CRC16?. . . . . . . . . . . . .  public   ecode funct  000590H  185
  usSrc1Addr . . . . . . . . . . . . .  *reg*          ushort WR6      2
  usLen. . . . . . . . . . . . . . . .  *reg*          ushort WR4      2
  Area . . . . . . . . . . . . . . . .  *reg*          uchar  R10      1
  type . . . . . . . . . . . . . . . .  param    bit   bit    000000H  1
  value. . . . . . . . . . . . . . . .  *reg*          ushort WR6      2
DrvCal_KmID? . . . . . . . . . . . . .  public   ecode funct  0003F3H  413
  pKmIDParm. . . . . . . . . . . . . .  *reg*          ptr    DR12     4
  i. . . . . . . . . . . . . . . . . .  auto     edata uchar  000000H  1
  j. . . . . . . . . . . . . . . . . .  auto     edata uchar  000001H  1
  MaxPoint . . . . . . . . . . . . . .  auto     edata uchar  000002H  1
DrvCal_MatrixMaxMin? . . . . . . . . .  public   ecode funct  000AC1H  125
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_MatrixCMP?. . . . . . . . . . .  public   ecode funct  000C1DH  178
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
DrvCal_MatrixMul2? . . . . . . . . . .  public   ecode funct  000649H  179
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
  MulMode. . . . . . . . . . . . . . .  param    bit   bit    000000H  1
DrvCal_MatrixMul3? . . . . . . . . . .  public   ecode funct  000CCFH  104
  pMcMP. . . . . . . . . . . . . . . .  *reg*          ptr    DR0      4
pCalRegs . . . . . . . . . . . . . . .  public   edata ptr    000000H  4
g_ucAmoveStart . . . . . . . . . . . .  public   edata uchar  000004H  1
g_ucCalStartFlag . . . . . . . . . . .  public   edata uchar  000005H  1
g_bAmoveResumeFlag . . . . . . . . . .  public   bit   bit    000000H  1
g_bCalResumeFlag . . . . . . . . . . .  public   bit   bit    000001H  1
?DrvCal_CRC16??BIT . . . . . . . . . .  public   bit   bit    000000H  1
?DrvCal_MatrixMul2??BIT. . . . . . . .  public   bit   bit    000000H  1


Module Information          Static   Overlayable
------------------------------------------------
  code size            =    ------     ------
  ecode size           =      3383     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =         6          3
  bit size             =         2          2
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =       107     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
