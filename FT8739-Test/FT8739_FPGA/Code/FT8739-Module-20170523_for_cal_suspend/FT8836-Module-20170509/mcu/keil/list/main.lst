C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 1   


C251 COMPILER V5.4.0.1, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN .\obj\main.obj
COMPILER INVOKED BY: D:\software\Keil\C251\BIN\C251.EXE ..\..\src\source\main.c XSMALL ROM(HUGE) OPTIMIZE(9,SPEED) BROWS
                    -E INCDIR(..\..\src\include;..\..\src\include\Debug;..\..\src\include\Drv;..\..\src\include\task;..\..\src\include\config
                    -) STRING(FAR) DEFINE(_FT8836_) DEBUG CODE LISTINCLUDE SYMBOLS PRINT(.\list\main.lst) PREPRINT(.\list\main.i) OBJECT(.\ob
                    -j\main.obj) 

stmt  level    source

    1          /*******************************************************************************
    2          * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3          *
    4          * File Name: main.c
    5          *
    6          *    Author: xinkunpeng
    7          *
    8          *   Created: 2013-11-11
    9          *
   10          *  Abstract:
   11          *
   12          * Reference:
   13          *
   14          * Version: 0.2: Transplant from FT5422 by linjianjun
   15          *******************************************************************************/
   16          
   17          /*******************************************************************************
   18          * 1.Included header files
   19          *******************************************************************************/
   20          #include <intrins.h>
    1       =1 /*--------------------------------------------------------------------------
    2       =1 INTRINS.H
    3       =1 
    4       =1 Intrinsic functions for C251 Version 3.
    5       =1 Copyright (c) 1995-2001 Keil Elektronik GmbH and Keil Software, Inc.
    6       =1 All rights reserved.
    7       =1 --------------------------------------------------------------------------*/
    8       =1 
    9       =1 #pragma SAVE
   10       =1 #pragma PARM251
   11       =1 
   12       =1 #if __C251__ >= 200
   13       =1 #pragma FUNCTIONS(STATIC)
   14       =1 /* intrinsic functions are reentrant, but need static attribute */
   15       =1 #endif
   16       =1 
   17       =1 extern void          _nop_     (void);
   18       =1 extern bit           _testbit_ (bit);
   19       =1 extern unsigned char _cror_    (unsigned char, unsigned char);
   20       =1 extern unsigned int  _iror_    (unsigned int,  unsigned char);
   21       =1 extern unsigned long _lror_    (unsigned long, unsigned char);
   22       =1 extern unsigned char _crol_    (unsigned char, unsigned char);
   23       =1 extern unsigned int  _irol_    (unsigned int,  unsigned char);
   24       =1 extern unsigned long _lrol_    (unsigned long, unsigned char);
   25       =1 extern unsigned char _chkfloat_  (float x)  reentrant;
   26       =1 extern unsigned char _chkdouble_ (double x) reentrant;
   27       =1 
   28       =1 #pragma RESTORE
   21          #include "CfgGlobal.h"
    1       =1 /*******************************************************************************
    2       =1 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =1 *
    4       =1 * File Name: CfgGlobal.h
    5       =1 *
    6       =1 *    Author: xinkunpeng
    7       =1 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 2   

    8       =1 *   Created: 2014-04-18
    9       =1 *
   10       =1 *  Abstract:
   11       =1 *
   12       =1 * Reference: Transplant from FT5422 by xinkunpeng
   13       =1 *
   14       =1 *   Version: 0.2
   15       =1 *
   16       =1 *******************************************************************************/
   17       =1 #ifndef GLOBAL_CONFIG_H
   18       =1 #define GLOBAL_CONFIG_H
   19       =1 
   20       =1 /*******************************************************************************
   21       =1 * 2.Global constant and macro definitions using #define
   22       =1 *******************************************************************************/
   23       =1 
   24       =1 #define _SPI_FLASH_EN                   1      // spi flash--±ÿ–Îø™
   25       =1 #define _LCD_RELOAD_EN                  1      // APP¥”Flashµº»ÎLCD_config
   26       =1 
   27       =1 #define TEST_MODE                       1
   28       =1 
   29       =1 #if TEST_MODE
   30       =1 #define _TEST_SFR_EN                    0       /* test the SFR read and write */
   31       =1 #define _TEST_DRAM_EN                   0       /* test dram read and write */
   32       =1 #define _TEST_PROM_EN                   0       /* test prom read only */   
   33       =1 #define _TEST_ARAM_EN                   0       /* test asmram read and write */
   34       =1 #define _TEST_XSI_REG_EN                0       /* XSIºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   35       =1 #define _TEST_SPI0_REG_EN               0       /* SPI0ºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */ 
   36       =1 #define _TEST_XBUS_REG_EN               0       /* XBUSºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   37       =1 #define _TEST_ASM_REG_EN                0       /* ASMºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   38       =1 #define _TEST_CAL_REG_EN                0       /* CALºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   39       =1 #define _TEST_AFE_REG_EN                0       /* AFEºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   40       =1 #define _TEST_LCD_REG_EN                0       /* LCDºƒ¥Ê∆˜∂¡–¥≤‚ ‘ */
   41       =1 #define _TEST_SPI_EN                    0       /* test SPI read  */
   42       =1 #define _TEST_LED_EN                    0       /* test the led */ 
   43       =1 #define _TEST_I2C_EN                    0       /* test I2C read and clk */
   44       =1 #define _TEST_AFE_RAM_EN                0       /* test the AFE ram buffer,≤‚ ‘Ã´∫ƒ ±º‰◊Ó∫√µ•∂¿Ω¯––≤‚ ‘ *
             -/
   45       =1 #else
            =1 #define _TEST_SFR_EN                    1
            =1 #define _TEST_DRAM_EN                   1
            =1 #define _TEST_PROM_EN                   1
            =1 #define _TEST_ARAM_EN                   1
            =1 #define _TEST_SPI0_REG_EN               1
            =1 #define _TEST_XSI_REG_EN                1
            =1 #define _TEST_ASM_REG_EN                1      
            =1 #define _TEST_XBUS_REG_EN               1
            =1 #define _TEST_CAL_REG_EN                1
            =1 #define _TEST_AFE_REG_EN                1
            =1 #define _TEST_LCD_REG_EN                0
            =1 #define _TEST_SPI_EN                    1
            =1 #define _TEST_LED_EN                    1
            =1 #define _TEST_I2C_EN                    1
            =1 #define _TEST_AFE_RAM_EN                1
            =1 #endif
   62       =1 #define _TEST_UART_EN                   0
   63       =1 #define _TEST_SOFT_RST_EN               0     /* »Ìº˛∏¥Œª≤‚ ‘*/
   64       =1 #define _TEST_WDT_EN                    0     /* WDTµ•∂¿Ω¯––≤‚ ‘ */
   65       =1 #define _TEST_RTC_EN                    0     /* ∫ÕCNT÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */
   66       =1 #define _TEST_CNT_EN                    0     /* ∫ÕRTC÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */
   67       =1 #define _TEST_GPIO_EN                   0     /* gpio–Ë“™≈–∂œ∆‰input output“‘º∞∏ﬂµÕµÁ∆Ω«–ªªµƒ◊¥Ã¨£¨–Ë∑÷±
             -µ•∂¿Ω¯––≤‚ ‘ */
   68       =1 #define _TEST_TIMER_EN                  0     /* Timerµ•∂¿Ω¯––≤‚ ‘ */ 
   69       =1 #define _TEST_GPIO_WK_EN                0     /* int0÷–∂œªΩ–—‘¥π˝∂‡,µ•∂¿Ω¯––≤‚ ‘ */
   70       =1 #define _TEST_I2C_WK_EN                 0     /* ∫ÕI2C÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */ 
   71       =1 #define _TEST_INT_NEST_EN               0     /* ÷–∂œ«∂Ã◊≤‚ ‘,µ•∂¿Ω¯––≤‚ ‘  */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 3   

   72       =1 #define _TEST_XSI_EN                    0     /* XSI∂¡–¥øΩª˙≤‚ ‘£¨µ•∂¿≤‚ ‘ */
   73       =1 #define _TEST_CAL_EN                    1     /* CALƒ£øÈ,≤‚ ‘ƒ£øÈΩœ∂‡,µ•∂¿Ω¯––≤‚ ‘ */
   74       =1 #define _TEST_AFE_EN                    0     /* AFEƒ£øÈ,≤‚ ‘ƒ⁄»›Ωœ∂‡,µ•∂¿Ω¯––≤‚ ‘ */
   75       =1 #define _TEST_ROMBOOT_EN                0     /* romboot test π”√À˘–Ëœ‡πÿ≤‚ ‘bin */
   76       =1 #define _TEST_XBUS_EN                   0     /* XBUS∂¡–¥≤‚ ‘*/
   77       =1 #define _TEST_ROMECC_EN                 0     /* º∆À„ecc∫Õprom membistµƒΩ·π˚±»Ωœ*/
   78       =1 #define _TEST_SPI0_EN                   0     /* test SPI0   */
   79       =1 #define _TEST_SPI0_DMA_EN               0     /* test SPI0_dma */
   80       =1 #define _TEST_SPI0_WK_EN                0     /* ∫ÕSPI0,I2C÷–∂œ≥ÂÕª£¨µ•∂¿Ω¯––≤‚ ‘ */   
   81       =1 #define _TEST_DEBUGOUT_EN               0     /* ≤‚ ‘ƒ⁄≤ø–≈∫≈£¨µ•∂¿Ω¯––≤‚ ‘*/
   82       =1 /*******************************************************************************
   83       =1 * 1.Included files
   84       =1 *******************************************************************************/
   85       =1 #include "Typedef.h"
    1       =2 /*******************************************************************************
    2       =2  * Focaltech Systems (R)
    3       =2  * All Rights Reserved
    4       =2  *
    5       =2  * Project:     FT8836
    6       =2  * File:        DataType.h
    7       =2  *
    8       =2  * VERSION        DATE              AUTHOR
    9       =2  * V0.2           2014-04-18        xinkunpeng
   10       =2  *******************************************************************************/
   11       =2 #ifndef __DATATYPE_H__
   12       =2 #define __DATATYPE_H__
   13       =2 
   14       =2 /*******************************************************************************
   15       =2 * 1.Included files
   16       =2 *******************************************************************************/
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * 2.Global constant and macro definitions using #define
   20       =2 *******************************************************************************/
   21       =2 /* This is the header file CONV51.H */
   22       =2 #ifdef __C251__       // __C251__ is a define of C251
   23       =2 #define DRAM data     // data can be mapped directly to the 251 data space
   24       =2 #define IRAM near     // idata uses MOV Ri, use 251 near instead
   25       =2 #define XRAM near     // xdata uses MOVX or MOV @DR56, use 251 near instead
   26       =2 #define PRAM near     // pdata uses MOVX Ri, use 251 near instead
   27       =2 #define CROM code     // code uses MOVC A, use 251 const instead
   28       =2 #define ECODE ecode
   29       =2 #else
            =2 #define DRAM data     // if you compile with C51 the memory spaces are
            =2 #define IRAM idata    // mapped to the previous definitions
            =2 #define XRAM xdata
            =2 #define PRAM pdata
            =2 #define CROM code
            =2 #endif
   36       =2 
   37       =2 #define SFR         sfr
   38       =2 #define SBIT        sbit
   39       =2 
   40       =2 #define VALID       1
   41       =2 #define INVALID     0
   42       =2 
   43       =2 #define TRUE        1
   44       =2 #define FALSE       0
   45       =2 
   46       =2 #define ENABLE      1
   47       =2 #define DISABLE     0
   48       =2 
   49       =2 #define ON  1
   50       =2 #define OFF 0
   51       =2 
   52       =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 4   

   53       =2 #define BITn(n)     ((UINT16)1<<(n))
   54       =2 
   55       =2 /*******************************************************************************
   56       =2 * 3.Global structures, unions and enumerations using typedef
   57       =2 *******************************************************************************/
   58       =2 /*Data Types(Compiler Specific) in C251*/
   59       =2 typedef bit  BOOLEAN;
   60       =2 typedef unsigned char  UINT8;
   61       =2 typedef signed   char  SINT8;
   62       =2 typedef unsigned short UINT16;
   63       =2 typedef signed   short SINT16;
   64       =2 typedef unsigned long  UINT32;
   65       =2 typedef signed   long  SINT32;
   66       =2 typedef float          FP32;
   67       =2 typedef double         FP64;
   68       =2 /*******************************************************************************
   69       =2 * 4.Global variable extern declarations
   70       =2 *******************************************************************************/
   71       =2 
   72       =2 /*******************************************************************************
   73       =2 * 5.Global function prototypes
   74       =2 *******************************************************************************/
   75       =2 
   76       =2 #endif/* DATATYPE_H */
   77       =2 
   86       =1 #include "FT8836.h"
    1       =2 /*******************************************************************************
    2       =2  * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2  *
    4       =2  * File Name: FT8836.h
    5       =2  *
    6       =2  *    Author: 
    7       =2  *
    8       =2  *   Created: 2016-07-11
    9       =2  *
   10       =2  *  Abstract: 1. In this file, sfrs(special function registers) and their bits
   11       =2  *            are defined for chip ft8626 based on platform C251.
   12       =2  *
   13       =2  *            2. Please note that there are some differences in the way the
   14       =2  *            instructions address bits between the two architectures MCS251 and
   15       =2  *            MCS51. The MCS251 does not have bit addresses as MCS51 does. A bit
   16       =2  *            can be addressed by name or by its location within a certain
   17       =2  *            register, but not by a bit address.
   18       =2  *
   19       =2  *            Table: Addressing Modes for Bit Instructions
   20       =2  *            -------------------------------------------------------------------
   21       =2  *            Architecture Variants Bit Address Memory/SFR Address Comments
   22       =2  *            -------------------------------------------------------------------
   23       =2  *            MCS251       Memory -- NA ------- 20H.0-7FH.7        does not have
   24       =2  *            (bit)        SFR ----- NA ------- All defined SFRs   bit addresses
   25       =2  *            -------------------------------------------------------------------
   26       =2  *            MCS 51       Memory -- 00H-7FH -- 20H.0-7FH.7        not all SFRs
   27       =2  *            (bit51)      SFR ----- 80H-F8H -- XXH.0-XXH.7, where have bit
   28       =2  *                                              XX = 80,88,90,98,  addresses.
   29       =2  *                                              ..., F0, F8.
   30       =2  *            -------------------------------------------------------------------
   31       =2  *
   32       =2  *            3. This file is only used by library and driver of project ft5412.
   33       =2  *
   34       =2  * Reference: 1. Intel 8xc251sx User's Manual (8xc251sx_um.pdf)
   35       =2  *            2. Keil C251 help document
   36       =2  *
   37       =2  *******************************************************************************/
   38       =2 #ifndef __FT8836_H__
   39       =2 #define __FT8836_H__
   40       =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 5   

   41       =2 /* Conditional Compiler Options */
   42       =2 
   43       =2 /* Conditional Compiler Options */
   44       =2 /*******************************************************************************
   45       =2  * 1.Included files
   46       =2  *******************************************************************************/
   47       =2 
   48       =2 /*******************************************************************************
   49       =2  * 2.Global constant and macro definitions using #define
   50       =2  *******************************************************************************/
   51       =2 /******************************************************************************/
   52       =2 /* byte Registers */
   53       =2 
   54       =2 /*80-87*/
   55       =2 SFR P0BUF           = 0x80;   /*PoBuf*/
   56       =2 SFR SP              = 0x81; 
   57       =2 SFR DPL             = 0x82;
   58       =2 SFR DPH             = 0x83;
   59       =2 SFR DPXL            = 0x84;
   60       =2 SFR PCON            = 0x87;
   61       =2 
   62       =2 /*88-8F*/
   63       =2 SFR TCON            = 0x88;
   64       =2 SFR TMOD            = 0x89;
   65       =2 SFR TL0             = 0x8A;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL0[7:0]X4us,◊Ó¥Û÷µ≤ªƒ‹≥¨π˝1ms“≤æÕ «Àµ◊Ó¥
             -Û÷µŒ™8°ØhF9,¥Û”⁄¥À÷µ ±Ω´«ø÷∆Œ™8°ØhF9. */
   66       =2 SFR TL1             = 0x8B;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL1[7:0]X4us */
   67       =2 SFR TH0             = 0x8C;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH0[7:0]X1ms,TH0[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
   68       =2 SFR TH1             = 0x8D;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH1[7:0]X1ms,TH1[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
   69       =2 
   70       =2 /*90-97*/
   71       =2 SFR I2CCON          = 0x90;
   72       =2 SFR I2CBUF          = 0x91;
   73       =2 SFR I2CADDR         = 0x92;
   74       =2 SFR I2CSTOP         = 0x93;
   75       =2 SFR P1BUF           = 0x94;   /*P1Buf*/
   76       =2 SFR I2CSEL          = 0x95;
   77       =2 SFR MMCON           = 0x97;
   78       =2 
   79       =2 /*98-9F*/
   80       =2 SFR SYSCON          = 0x98;
   81       =2 SFR WDTCON          = 0x99;
   82       =2 SFR WDTREL          = 0x9A;
   83       =2 SFR TDIV            = 0x9B;
   84       =2 SFR RTCIVL          = 0x9C; /*rtcº∆ ˝÷’÷πµÕ8Œª*/      
   85       =2 SFR RTCIVH          = 0x9D; /*rtcº∆ ˝÷’÷π∏ﬂ8Œª*/
   86       =2 SFR RTCCON          = 0x9E;
   87       =2 SFR RTCSLN          = 0x9F; /*rtc  ±º‰∆¨∏ˆ ˝*/
   88       =2 
   89       =2 /*A0-A7*/
   90       =2 SFR ANACON8         = 0xA0;
   91       =2 SFR SPI0CON         = 0xA2;
   92       =2 SFR SPI0CON2        = 0xA3;
   93       =2 SFR SPI0BUF         = 0xA4;
   94       =2 SFR SPI0CON3        = 0xA5;
   95       =2 SFR SPI0CON4        = 0xA6; 
   96       =2 SFR SPI0CON5        = 0xA7;
   97       =2 
   98       =2 /*A8-AF*/
   99       =2 SFR IEN0            = 0xA8;
  100       =2 SFR UARTCON         = 0xA9;
  101       =2 SFR UARTBUF         = 0xAA;
  102       =2 SFR UART_RELL       = 0xAB;
  103       =2 SFR P0DIR           = 0xAC;   /*P0ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 6   

  104       =2 SFR P1DIR           = 0xAD;   /*P1ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
  105       =2 SFR UART_RELH       = 0xAE;
  106       =2 SFR UART_SDA        = 0xAF;
  107       =2 
  108       =2 /*B0-B7*/
  109       =2 SFR ANACON9         = 0xB0;
  110       =2 SFR SPI1CON3        = 0xB1;
  111       =2 SFR SPI1CON4        = 0xB2;
  112       =2 SFR SPI1CON         = 0xB3;
  113       =2 SFR SPI1CON2        = 0xB4;
  114       =2 SFR SPI1BUF         = 0xB5;
  115       =2 SFR RTCCON1         = 0xB6;
  116       =2 SFR IPH0            = 0xB7; 
  117       =2 
  118       =2 /*B8-BF*/
  119       =2 SFR IPL0            = 0xB8;
  120       =2 SFR CNTCON          = 0xB9;
  121       =2 SFR CNTIVL          = 0xBA;  /*CNTº∆ ˝÷’÷πµÕ8Œª*/
  122       =2 SFR CNTIVM          = 0xBB;  /*CNTº∆ ˝÷’÷π÷–º‰8Œª*/
  123       =2 SFR CNTIVH          = 0xBC;  /*CNTº∆ ˝÷’÷π∏ﬂ8Œª*/
  124       =2 SFR FT_EN_REG       = 0xBD;  /*lcd otp to tp soc*/
  125       =2 SFR SPH             = 0xBE;
  126       =2 SFR CGUCON8         = 0xBF;
  127       =2 
  128       =2 /*C0-C7*/
  129       =2 SFR AIF            = 0xC0;
  130       =2 SFR ANACON1        = 0xC1;
  131       =2 SFR ANACON2        = 0xC2;
  132       =2 SFR ANACON3        = 0xC3;
  133       =2 SFR ANACON4        = 0xC4;
  134       =2 SFR ANACON5        = 0xC5;
  135       =2 SFR ANACON6        = 0xC6;
  136       =2 SFR ANACON7        = 0xC7;
  137       =2 
  138       =2 /*C8-CF*/
  139       =2 SFR CGUCON1        = 0xC8;
  140       =2 SFR CGUCON0        = 0xC9;
  141       =2 SFR CGUCON2        = 0xCA;
  142       =2 SFR CGUCON3        = 0xCB;
  143       =2 SFR CGUCON4        = 0xCC;
  144       =2 SFR CGUCON5        = 0xCD;
  145       =2 SFR CGUCON6        = 0xCE;
  146       =2 SFR CGUCON7        = 0xCF;
  147       =2 
  148       =2 /* D1-D7 */
  149       =2 SFR MEMBIST_EN1         = 0xD2;
  150       =2 SFR MEMBIST_EN2         = 0xD3;
  151       =2 SFR MEMBIST_FINISH1     = 0xD4;
  152       =2 SFR MEMBIST_FINISH2     = 0xD5;
  153       =2 SFR MEMBIST_FAIL1       = 0xD6;
  154       =2 SFR MEMBIST_FAIL2       = 0xD7;
  155       =2 
  156       =2 /* D8-DF */
  157       =2 SFR MEMBIST_ERRMAP1     = 0xD8;
  158       =2 SFR MEMBIST_ERRMAP2     = 0xD9;
  159       =2 SFR DSV_CON             = 0xDA;
  160       =2 SFR MEMBIST_ROMCRC0     = 0xDB;
  161       =2 SFR MEMBIST_ROMCRC1     = 0xDC; 
  162       =2 SFR MEMBIST_ROMCRC2     = 0xDD;
  163       =2 SFR MEMBIST_ROMCRC3     = 0xDE;
  164       =2 SFR IEN1                = 0xDF;
  165       =2 
  166       =2 /*E0-E7*/
  167       =2 SFR TESTCON0            = 0xE1;
  168       =2 SFR TESTCON1            = 0xE2;
  169       =2 SFR TESTCON2            = 0xE3;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 7   

  170       =2 SFR TESTCON3            = 0xE4;
  171       =2 SFR IWKSTA              = 0xE5;
  172       =2 SFR POR_STA             = 0xE6; /*POR∏¥ŒªºÏ≤È*/
  173       =2 SFR RST_STA             = 0xE7; /*Pin reset∏¥ŒªºÏ≤È*/
  174       =2 
  175       =2 
  176       =2 /*E8-EF*/
  177       =2 SFR AIE                 = 0xE8;
  178       =2 SFR SFTRST              = 0xE9;
  179       =2 SFR ANACON              = 0xEA;
  180       =2 SFR P0MOD               = 0xEB; /*0:P0 use as gpio;1:po use as function define*/
  181       =2 SFR P0SEL               = 0xEC; /*0:P0 as OD port; 1:P0 as PUSH-PULL port*/
  182       =2 SFR P1MOD               = 0xED; /*0:P1 use as gpio;1:p1 use as function define*/
  183       =2 SFR P1SEL               = 0xEE; /*0:P1 as OD port; 1:P1 as PUSH-PULL port*/
  184       =2 SFR XDP_STA             = 0xEF;
  185       =2 
  186       =2 /*F0-F7*/
  187       =2 SFR CNT_MASK            = 0xF1; /* 3'b00:porrst_cnt;3'b01:wdtrst_cnt;3'h02:extrst_cnt;3'h03:lcdrst_cnt;3'
             -b04:esd_cnt;3'h05:lvd_cnt*/
  188       =2 SFR CNT_STA             = 0xF2; /* ∏˘æ›cnt_maskµƒ÷µ£¨∂¿¥¶≤ªÕ¨µƒcnt÷µ*/
  189       =2 SFR SSCG_CON0           = 0xF5;
  190       =2 SFR SSCG_CON1           = 0xF6; /* sscg_step:sscg increase/decrease period(500us/step). sscg trim code wi
             -ll increase in every(500ns*(step+1))*/
  191       =2 SFR AIPH                = 0xF7;
  192       =2 
  193       =2 /*F8-FF*/
  194       =2 SFR AIPL                = 0xF8;
  195       =2 SFR I2C_CMD0            = 0xF9; /* i2c hid command byte1 */
  196       =2 SFR I2C_CMD1            = 0xFA; /* i2c hid command byte2 */
  197       =2 SFR I2C_CMD2            = 0xFB; /* i2c hid command byte3 */
  198       =2 SFR I2C_CMD3            = 0xFC; /* i2c hid command byte4 */
  199       =2 SFR I2C_STATE           = 0xFD; /* i2C hid ÷–∂œ±Í÷æºƒ¥Ê∆˜ */
  200       =2 SFR LED_EN              = 0xFE; /* 4∏ˆLEDµ∆ πƒ‹; bit3~bit0”––ß,√øbit∑÷±∂‘”¶“ª∏ˆLED πƒ‹ */
  201       =2 SFR LED_H_NUM           = 0xFF; /* led PWM≤®∏ﬂµÁ∆Ω≥÷–¯µƒ÷‹∆⁄ ˝£¨0~63ø…≈‰£¨0¥˙±Ì1∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨63¥˙±Ì64
             -∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨º¥“ª÷±Œ™∏ﬂ£ª*/
  202       =2 
  203       =2 
  204       =2 /******************************************************************************/
  205       =2 /* bit Registers */
  206       =2 
  207       =2 /*SSCG_CON0*/
  208       =2 /*bit5-4  sscg_amp */   /*sscg amplitude. Control the output sequence of DA_TRIM[2:0]. Clock stable time 
             -between each trim code is located in range 100ns-200ns*/
  209       =2 SBIT SSCG_SCAN_EN           = SSCG_CON0^1; /*0:stop sscg when scan 1:contiune sscg when scan(sync with sc
             -an)*/
  210       =2 SBIT SSCG_EN                = SSCG_CON0^0; /*0:disable sscg  1:enable sscg*/
  211       =2 
  212       =2 /*SPI0CON*/
  213       =2 SBIT SPI0RX_OVF_FLAG        = SPI0CON^6;  /*rx_reg_overflow±Í÷æŒª£¨spi0Ω” ’ÕÍ ˝æ›rx_regŒ™¬˙ ±£¨”≤º˛÷√1*/
  214       =2 SBIT SPI0TX_UNF_FLAG        = SPI0CON^5;  /*tx_reg_underflow±Í÷æŒª£¨spi0∑¢ÀÕ ˝æ› ±rx_regŒ™ø’ ±£¨”≤º˛÷√1*/
  215       =2 SBIT SPI0_START             = SPI0CON^4;  /*SPI0µƒslvelœ¬Ωµ—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
  216       =2 SBIT SPI0_STOP              = SPI0CON^3;  /*SPI0µƒslvel…œ…˝—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
  217       =2 SBIT DMA_END_FLAG           = SPI0CON^2;  /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û±Í÷æŒª£¨»Ìº˛«Â¡„*/
  218       =2 SBIT SPI0RI                 = SPI0CON^1;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
  219       =2 SBIT SPI0TI                 = SPI0CON^0;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
  220       =2 
  221       =2 /*SPI0CON2*/
  222       =2 SBIT SPI0TX_AUTO_CLR        = SPI0CON2^7; /* «∑Ò◊‘∂Ø«Â≥˝ti÷–∂œ±Í÷æŒª£ª0:–Ë“™»Ìº˛«Â£ª1:»Ìº˛‘⁄–¥tx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
  223       =2 SBIT SPI0RX_AUTO_CLR        = SPI0CON2^6; /* «∑Ò◊‘∂Ø«Â≥˝ri÷–∂œ±Í÷æŒª. 0:–Ë“™»Ìº˛«Â; 1:»Ìº˛‘⁄∂¡rx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
  224       =2 SBIT SPI0_EDGE_SEL          = SPI0CON2^5; /*0:sck…œ…˝—ÿ ‰≥ˆ;1:sckœ¬Ωµ—ÿ ‰≥ˆ*/
  225       =2 SBIT SPI0_BUSY              = SPI0CON2^4; /*0:µÕµÁ∆Ω◊¥Ã¨£¨÷ªƒ‹∂¡≤ªƒ‹–¥;1:SPI0’˝‘⁄º§ªÓ◊¥Ã¨*/
  226       =2 SBIT SPI0_STOP_EI           = SPI0CON2^3; /*spi_stop÷–∂œ«Î«Û–≈∫≈ πƒ‹*/
  227       =2 SBIT DMA_END_EI             = SPI0CON2^2; /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û πƒ‹*/
  228       =2 SBIT SPI0RI_EN              = SPI0CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 8   

  229       =2 SBIT SPI0TI_EN              = SPI0CON2^0; /*0:Ω˚÷π≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈*/
  230       =2 
  231       =2 /*SPI0CON3*/
  232       =2 SBIT SPI0_WKEN              = SPI0CON3^7; /*spi wake upπ¶ƒ‹ πƒ‹Œª.0:disable;1:enable*/
  233       =2 SBIT SPI0_RI_PULSE_SEL      = SPI0CON3^4; /*0:rx_reg load at ti_ri_pulse falling edg;1:rx_reg load at ri_
             -pulse rising edge*/
  234       =2 //SBIT SPI0_CLR_NUM           = SPI0CON3^4; /*write 1 to clear byte num*/
  235       =2 /*spi0con3[3:0] dummy_byte_num csœ¬Ωµ—ÿø™ º≤Â»Îµƒdummy byte ˝*/
  236       =2 
  237       =2 /*SPI0CON4*/
  238       =2 /*SPI0CON4[7:6] byte_num_rd_sel  byte_num∂¡≥ˆ—°‘Ò.2'b00:byte_num_h; 2'b01:byte_num_m; 2'b10:byte_num_l */
  239       =2 /*SPI0CON4[5:0] byte_num_rd byte_num 6bit,”…byte_numæˆ∂®*/
  240       =2 
  241       =2 /*SPI0CON5*/
  242       =2 SBIT SPI0RX_OVF_CLR         = SPI0CON5^6;  /*–¥1«Â≥˝rx_reg_overflow±Í÷æŒª*/
  243       =2 SBIT SPI0TX_UNF_CLR         = SPI0CON5^5;  /*–¥1«Â≥˝tx_reg_underflow±Í÷æŒª*/
  244       =2 SBIT SPI0_START_CLR         = SPI0CON5^4;  /*–¥1«Â≥˝spi0 start*/
  245       =2 SBIT SPI0_STOP_CLR          = SPI0CON5^3;  /*–¥1«Â≥˝spi0 stop*/
  246       =2 SBIT DMA_END_CLR            = SPI0CON5^2;  /*–¥1«Â≥˝dma end flag*/
  247       =2 SBIT SPI0RI_CLR             = SPI0CON5^1;  /*–¥1«Â≥˝SPI0RT*/
  248       =2 SBIT SPI0TI_CLR             = SPI0CON5^0;  /*–¥1«Â≥˝SPI0TI*/
  249       =2 
  250       =2 
  251       =2 /*SPICLKDIV: 000:4∑÷∆µ;001:6∑÷∆µ;010:8∑÷∆µ;011:12∑÷∆µ;100:16∑÷∆µ;101:18∑÷∆µ;110:20∑÷∆µ;111:24∑÷∆µ*/
  252       =2 /*SPI1CON*/
  253       =2 SBIT SPI1TI                  = SPI1CON^7;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
  254       =2 SBIT SPI1RI                  = SPI1CON^6;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
  255       =2 SBIT SPI1CKM                 = SPI1CON^5;  /*SPI1CLKDIV÷–º‰Œª*/
  256       =2 SBIT SPI1CKL                 = SPI1CON^4;  /*SPI1CLKDIVµÕŒª*/
  257       =2 SBIT SPI1PH                  = SPI1CON^3;  /*0:÷±Ω”∑¢ÀÕ ˝æ›,ª∫¥Ê∞Î∏ˆcycleΩ” ’ ˝æ›;1:÷±Ω”Ω” ’ ˝æ›,ª∫¥Ê∞Î∏ˆ
             -cycle∑¢ÀÕ ˝æ›*/
  258       =2 SBIT SPI1PO                  = SPI1CON^2;  /*0:low idle; 1:high idle*/
  259       =2 SBIT SPI1MAS                 = SPI1CON^1;  /*0:slave mode; 1:master mode*/ 
  260       =2 SBIT SPI1_SLVSLELEN          = SPI1CON^0;  /*0:masterƒ£ Ωœ¬µƒslvselo ‹ƒ⁄≤ø∆Ù∂Øøÿ÷∆;1:masterƒ£ Ωœ¬slvselo 
             -‹SPI1CON2[2]øÿ÷∆*/
  261       =2 
  262       =2 /*SPI1CON2*/
  263       =2 SBIT SPI1TX_AUTO_CLR         = SPI1CON2^7; /*0:»Ìº˛◊‘∂Ø«Âti÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡rx reg ±”≤º˛◊‘«Â*/
  264       =2 SBIT SPI1RX_AUTO_CLR         = SPI1CON2^6; /*0:»Ìº˛◊‘∂Ø«Âri÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡tx reg ±”≤º˛◊‘«Â*/
  265       =2 SBIT SPI1_BUSY               = SPI1CON2^5; /*0:µÕµÁ∆Ω◊¥Ã¨,÷ªƒ‹∂¡;1:SPI1’˝¥¶”⁄active*/ 
  266       =2 SBIT SPI1_STOP               = SPI1CON2^4; 
  267       =2 SBIT SPI1_START              = SPI1CON2^3;
  268       =2 SBIT SPI1SLVELO              = SPI1CON2^2; /*µ±SPI1CON[0]Œ™1 ±,master◊¥Ã¨œ¬∏√Œª÷±Ω” ‰≥ˆSPI1µƒslvsel£ªµ±SP
             -I1CON[0]Œ™0 ±£¨∏√ŒªŒﬁ–ß*/
  269       =2 SBIT SPI1RI_EN               = SPI1CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
  270       =2 SBIT SPI1TI_EN               = SPI1CON2^0; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
  271       =2 
  272       =2 /*SPI1CON3*/
  273       =2 SBIT SPI1MODE_SELH           = SPI1CON3^7; /*1:”√IO0-IO2¥´ ‰ ˝æ›;0:∏˘æ›SPI1CON3[6]◊¥Ã¨æˆ∂®*/
  274       =2 SBIT SPI1MODE_SELL           = SPI1CON3^6; /*»ÙSPI1MODE_SELHŒ™0,‘Ú0:”√IO0¥´ ‰;1:”√IO0,IO1¥´ ‰*/
  275       =2 SBIT SPI1_SW_IO_ENH          = SPI1CON3^5; /*IO0,IO1∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO0,IO1∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
  276       =2 SBIT SPI1_SW_IO_ENL          = SPI1CON3^4; /*IO2,IO3∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO2,IO3∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
  277       =2 SBIT SW_1BYTE_LATER          = SPI1CON3^2; /*dual/quad spi»Ìº˛«–ªª ±º‰.0:¡¢º¥«–ªª;1:‘⁄œ¬∏ˆbyte ˝æ›¥´ ‰Ω· 
             -¯“‘∫Ûµƒµ⁄“ª∏ˆshift_out_sck_edg÷Æ«∞ÕÍ≥…«–ªª*/
  278       =2 SBIT SPI1_SW_DIR             = SPI1CON3^1; /*dual/quad spi ±»Ìº˛«–ªªioµƒ∑ΩœÚ.0: ‰≥ˆ;1: ‰»Î*/
  279       =2 SBIT SPI1_SW_EN              = SPI1CON3^0; /*dual/quad spi »Ìº˛io∑ΩœÚ«–ªª πƒ‹£¨–¥1”––ß.”≤º˛‘⁄«–ªª÷Æ∫Û◊‘«Â
             -*/
  280       =2 
  281       =2 /*SPI1CON4*/
  282       =2 SBIT SPI1IOSW_CKDLY_EN      = SPI1CON4^4; /*¥´ ‰IO«–ªª∑ΩœÚ ± 0:«–ªª∑ΩœÚ≤ª—” ±;1:«–ªª∑ΩœÚ—”≥§2∏ˆclk cycle*
             -/
  283       =2 SBIT SPI1_CURR_MODE         = SPI1CON4^3; /*spi master/slave mode◊¥Ã¨Œª.1:ƒø«∞Œ™master mode.0:ƒø«∞Œ¥slave
             - mode */
  284       =2 SBIT SPI1CKH                = SPI1CON4^2; /*SPI1CLKDIV∏ﬂŒª*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 9   

  285       =2 /*spi1con[1:0] sample_phase_sel*/ /*≤…—˘ ±÷”—”≥Ÿ—°‘Ò. 00:Œﬁ—”≥Ÿ;01:—”≥Ÿ1∏ˆclk cycle; 10:—”≥Ÿ2∏ˆclk cycle;
             - 11:—”≥Ÿ3∏ˆclk cycle*/
  286       =2 
  287       =2 
  288       =2 /*UARTCON*/
  289       =2 SBIT UART_MODE              = UARTCON^7; /*uartƒ£ Ω…Ë∂®. 0:9bitƒ£ Ω; 1:8bitƒ£ Ω*/
  290       =2 SBIT UART_SM21              = UARTCON^5; /*1:‘⁄9bit“ª∂‘∂‡Õ®–≈ƒ£ Ωœ¬;0:‘⁄9bitµ„∂‘µ„ƒ£ Ω*/  
  291       =2 SBIT UART_REN1              = UARTCON^4; /*Ω” ’ «ƒ‹øÿ÷∆Œª.1:‘ –ÌΩ” ’;0:Ω˚÷πΩ” ’*/
  292       =2 SBIT UART_TB81              = UARTCON^3; /*‘⁄9bitƒ£ Ωœ¬£¨the content of∑¢ÀÕµƒµ⁄9bit*/
  293       =2 SBIT UART_RB81              = UARTCON^2;   
  294       =2 SBIT UART_TI                = UARTCON^1;
  295       =2 SBIT UART_RI                = UARTCON^0;
  296       =2 
  297       =2 /* RTCCON */
  298       =2 SBIT RTC_START              = RTCCON^7;
  299       =2 SBIT RTC_INT_EN_ASM         = RTCCON^6;   /* ≤˙…˙÷–∂œ∏¯asm πƒ‹.1:¥Úø™;0:πÿ±’ */
  300       =2 SBIT RTC_START_STA          = RTCCON^5;   /* RTC∆Ù∂Ø◊¥Ã¨.1:rtc∆Ù∂Ø≥…π¶ªÚø’œ–;0:rtc’˝‘⁄∆Ù∂ØªÚ’˝‘⁄∏¥Œª*/
  301       =2 SBIT RTC_CLR                = RTCCON^4;
  302       =2 SBIT RTC_INT_EN_CPU         = RTCCON^2;   /* ≤˙…˙÷–∂œ∏¯cpu πƒ‹.1:¥Úø™;0:πÿ±’ */
  303       =2 SBIT RTC_AUTO_MODE          = RTCCON^1;   /* rtc≤ª–Ë“™◊ˆclr£¨◊‘∂Ø÷ÿ∏¥º∆ ˝*/
  304       =2 SBIT RTC_WP                 = RTCCON^0;
  305       =2 
  306       =2 /* RTCCON1 */
  307       =2 //[2:1] LCD_SRC_SEL lcd start sourc—°‘Ò. 2'b00:vstart;2'b01:vmdi;2'b10:vend;2'b11:vblank
  308       =2 SBIT LCD_SRC_SEL_H          = RTCCON1^2;
  309       =2 SBIT LCD_SRC_SEL_L          = RTCCON1^1;
  310       =2 SBIT LCD_START_EN           = RTCCON1^0;   /* lcd vstart/wmid.vend/vblank ∆Ù∂Ørtc πƒ‹–≈∫≈ */ 
  311       =2 
  312       =2 /*SYSCON*/
  313       =2 SBIT REMAP                  = SYSCON^7;
  314       =2 SBIT ESD_RST_EN             = SYSCON^6;   /* esd∑¢…˙ ±–Ë≤ª–Ë“™rstœµÕ≥.1:±Ì æ–Ë“™rstœµÕ≥;0:±Ì æ≤ªrstœµÕ≥*/
  315       =2 SBIT BUS_SEL                = SYSCON^5;   /* RO. pad bus_sel */
  316       =2 SBIT WDT                    = SYSCON^4;   /* wdt πƒ‹ */
  317       =2 SBIT UART1                  = SYSCON^3;   /* uart1 */
  318       =2 SBIT UART0                  = SYSCON^2;   /* uart0: 2'b01: GPIO6; 2'b10: GPIO7; 2'b11: GPIO1.5; 2'b00: ∆‰
             -À˚;  */
  319       =2 SBIT LVD_INT_CLR            = SYSCON^1;   /* –¥1«Â≥˝lvdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
  320       =2 SBIT ESD_INT_CLR            = SYSCON^0;   /* –¥1«Â≥˝esdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
  321       =2 
  322       =2 
  323       =2 /*IWKSTA*/
  324       =2 SBIT GPIO_INT               = IWKSTA^7; /* p0.6 pinΩ≈÷–∂œªΩ–—±Í÷æ*/
  325       =2 SBIT LCD_ESD_WK_INT         = IWKSTA^6; /* lcd esd wakeup÷–∂œªΩ–—±Í÷æ */
  326       =2 SBIT LCD_LVD_WK_INT         = IWKSTA^5; /* lcd lvd wakeup÷–∂œªΩ–—±Í÷æ */
  327       =2 SBIT LCD_GPIO_WK_INT        = IWKSTA^4; /* lcd gpio wakeup status */
  328       =2 SBIT LCD_RELOAD_FLASH       = IWKSTA^3; /* LCD initial code reload */
  329       =2 SBIT ASM_MON_INT            = IWKSTA^2; /* asm monitor÷–∂œªΩ–—±Í÷æ */
  330       =2 SBIT I2C_MON_INT            = IWKSTA^1; /* i2c monitor÷–∂œªΩ–—±Í÷æ */
  331       =2 SBIT RTC_CNT_INT            = IWKSTA^0; /* RTC or CNT÷–∂œªΩ–—±Í÷æ */
  332       =2 
  333       =2 /*SFTRST*/
  334       =2 SBIT SOFT_RST               = SFTRST^7; /*∂¡:»Ì∏¥Œª±Í÷æ*/
  335       =2 SBIT WDT_RST                = SFTRST^6; /*∂¡:wdt∏¥Œª±Í÷æ*/
  336       =2 SBIT EXT_RST                = SFTRST^5; /*∂¡:Õ‚≤ø∏¥Œª±Í÷æ*/
  337       =2 SBIT POR_RST                = SFTRST^4; /*por∏¥Œª±Í÷æ*/
  338       =2 SBIT FLASH_HOLD_STA         = SFTRST^3; /*flash hold state*/
  339       =2 SBIT REMAP_RST              = SFTRST^1; /*∂¡:¥Úø™remap∏¥Œª πƒ‹*/
  340       =2 /*SFTRST[0] */              /*µ±»´–¥1 «≤˙…˙∏¥Œª;»´–¥0 «≤˙…˙remap∏¥Œª;µ±∂¡ ± ±»Ì∏¥Œª±Í÷æ*/
  341       =2 
  342       =2 /* ANACON */
  343       =2 SBIT ARAM_SEL               = ANACON^7;  /* 1: mcuøÿ÷∆aram; 0: afeøÿ÷∆aram */
  344       =2 SBIT LCD_DSTAB_IOLOW        = ANACON^6;  /* lcd dstab∑¢…˙ ±,øÿ÷∆TPµΩLCD DPµƒ–≈∫≈ «∑Ò ‰≥ˆŒ™µÕ£¨¥”∂¯ΩµµÕ¬©µ
             -Á 1:  ‰≥ˆŒ™µÕ£¨0: ≤ª ‰≥ˆŒ™µÕ */
  345       =2 SBIT I2C_WK_RST             = ANACON^5;  /* 0:Reset I2C monitor interrupt;1: release*/
  346       =2 SBIT I2C_SF_RST             = ANACON^4;  /* I2C module soft reset */
  347       =2 SBIT XSI_SEL                = ANACON^3;  /* xsi0/xsi1 accessing clock switch select. 0:MCU;1:AFE. */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 10  

  348       =2 SBIT AFE_RST                = ANACON^2;  /* afe sub-system soft reset including asm*/
  349       =2 SBIT FlASH_HOLD             = ANACON^1;  /* external SPI flash hold,1:hold state '0';0:hold state '1' */
  350       =2 SBIT GPIO_INT_SEL           = ANACON^0;  /* GPIO Interrupt source selecetion.1:GPIO interrupt is from p0.
             -7;0:GPIO interrupt is from p0.6 */
  351       =2 
  352       =2 /* XDP_STATUS*/
  353       =2 SBIT LVD_STA                = XDP_STA^6;  /* R0.lvdµƒstatus */
  354       =2 SBIT ESD_FLAG               = XDP_STA^5;  /* RW.esd∑¢…˙±Í÷æ.1:±Ì æ”–∑¢…˙esd ¬º˛;0:±Ì æ√ª”–∑¢…˙esd ¬º˛.»Ìº
             -˛ø…«Â≥˝*/
  355       =2 SBIT LVD_FLAG               = XDP_STA^4;  /* RW.lvd∑¢…˙±Í÷æ.1:”–lvd ¬º˛;0:√ª”–lvd ¬º˛.»Ìº˛ø…«Â≥˝ */
  356       =2 SBIT ESD_STA                = XDP_STA^3;  /* RO.xdp esd status */
  357       =2 SBIT LVD_VDDI_STA           = XDP_STA^2;  /* RO.lvd_vddi status */
  358       =2 SBIT LVD_AVDD_STA           = XDP_STA^1;  /* RO.lvd_avdd status */
  359       =2 SBIT LVD_AVEE_STA           = XDP_STA^0;  /* RO.lvd_avee status */
  360       =2 
  361       =2 /* TEST_CON0 */
  362       =2 SBIT TEST_OUT0_EN           = TESTCON0^7; 
  363       =2 /*TEST_CON0[6:0]*/          /*Test out0 control */
  364       =2 
  365       =2 /* TEST_CON1 */
  366       =2 SBIT TEST_OUT1_EN           = TESTCON1^7; 
  367       =2 /*TEST_CON1[6:0]*/          /*Test out1 control */
  368       =2 
  369       =2 /* TEST_CON2 */
  370       =2 SBIT TEST_OUT2_EN           = TESTCON2^7; 
  371       =2 /*TEST_CON2[6:0]*/          /*Test out2 control */
  372       =2 
  373       =2 /* TEST_CON0 */
  374       =2 SBIT TEST_OUT3_EN           = TESTCON3^7; 
  375       =2 /*TEST_CON3[6:0]*/          /*Test out3 control */
  376       =2 
  377       =2 /* DSV_CON */
  378       =2 SBIT UART_INH               = DSV_CON^6;       /* selection of uart rx port*/
  379       =2 SBIT UART_INL               = DSV_CON^5;       /* 2'b00/2'b11:disable uart rxd;2'b01:p0.6;2'b10:p0.7*/
  380       =2 SBIT SPI_REPLACE_STA        = DSV_CON^4;       /* spi1 «∑ÒÃÊ¥˙spi0◊˜Œ™slaveµƒ◊¥Ã¨Œª;1:spi1◊˜Œ™slave;0:spi
             -1≤ª◊˜Œ™slave*/
  381       =2 SBIT SPI_REPLACE_SEL        = DSV_CON^3;       /* spi1◊˜Œ™slaveµƒøÿ÷∆£¨‘⁄spi_replace_en=1 ±∆◊˜”√.1:spi1Ã
             -Êªªspi0◊˜Œ™slave;0:spi1≤ªÃÊªªspi0 */
  382       =2 SBIT SPI_REPLACE_EN         = DSV_CON^2;       /* spi1◊˜Œ™slaveµƒøÿ÷∆.1:spi1 «∑ÒŒ™slave ‹spi_replace_selø
             -ÿ÷∆;*/
  383       =2 SBIT DSV_EN6_STA            = DSV_CON^1;       /* lcd ‰≥ˆµƒdsv_en6µƒ◊¥Ã¨ */
  384       =2 SBIT DSV_EN                 = DSV_CON^0;       /* dsv en reg */
  385       =2 
  386       =2 /*FT_EN_REG*/
  387       =2 SBIT PDB                    = FT_EN_REG^6;     /* lcd to tp,µ±¥Úø™≈˙∆¿ºÏ≤‚ ±,ºÏ≤‚Ω·π˚.1:∆¡∆∆;0:∆¡√ª∆∆*/
  388       =2 SBIT PDB_EN                 = FT_EN_REG^5;     /* tp to lcd.1:ø™∆Ù∆∆∆¡ºÏ≤‚ */
  389       =2 SBIT DMA_REQ_INT_MASK       = FT_EN_REG^4;     /* dma_req∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_reqŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
  390       =2 SBIT DMA_ACK_INT_MASK       = FT_EN_REG^3;     /* dma_ack∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_ackŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
  391       =2 SBIT TEST_CLK_EN            = FT_EN_REG^2;     /*  ±÷”≤‚ ‘ ‰≥ˆ πƒ‹,GPIO6 ‰≥ˆ */
  392       =2 SBIT XSI_SEL_STA            = FT_EN_REG^1;     /* anacon[3] xsi clk swtich result.1:AFE can control xsi;0
             -:MCU can control xsi*/
  393       =2 SBIT FT_EN                  = FT_EN_REG^0;     /* lcd otp to tp soc */
  394       =2 
  395       =2 /* ANACON1 */
  396       =2 SBIT POWERGATING_CTRL       = ANACON1^7; /* Œﬁavdd∫Õavee ±,øÿ÷∆afeµƒsx switch∑≈µÁ.1:»°æˆ”⁄dsv_en,dsv_enŒ™
             -1 ±,≤ª∑≈µÁ.dsv_enŒ™0 ±,∑≈µÁ.0:≤ª∑≈µÁ */
  397       =2 /* [6:4] vreftp_sel. vREF_TP voltage selection bits.0:2v; 1:2.5v; 2:3v; 3:3.5v; 4:4v; 5:4.5v; 6:5v; 7:4.5
             -v*/
  398       =2 SBIT VREFTP_BUF_SEL_M       = ANACON1^3; /* vref_tp/vdd5 slew rate control bit,output to xtp.0: no sr con
             -trol,vref_tp rise quickly.1:with sr control,set 1 for t32clk and then set to 0*/
  399       =2 SBIT VREFTP_BUF_SH_M        = ANACON1^2; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xtp.vref_tp/vdd5 sample/hold sign
             -al.0:hold; 1:enable*/
  400       =2 SBIT VREFTP_BUF_EN_M        = ANACON1^1; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xtp.vref_tp buf enable signal.0:disa
             -ble;1:enable*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 11  

  401       =2 SBIT VREFTP_SETOP_EN_M      = ANACON1^0; /* vref_tp setting opµƒenable, ‰≥ˆ∏¯xtp.vref_tp volatge setting 
             -op enable singal.0:disable;1:enable */
  402       =2 
  403       =2 /* ANACON2 */
  404       =2 SBIT REFBG_EN               = ANACON2^7; /* tpµƒbandgapµƒenbale.…®√Ë ±,“ª∂®“™¥Úø™.afe ref enable signal.0
             -:disable;1:enable */
  405       =2 SBIT VREFTP_BUF_SEL         = ANACON2^6; /* vref_tp/vdd5 slew rate control bit,output to xae_l,xafe_r.0:n
             -o sr control,vref_tp rise quickly;1:with sr control,set 1 for 16 t32clk and then set to 0*/
  406       =2 SBIT VREFTP_BUF_SH          = ANACON2^5; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp/vdd5 sample
             -/hold signal.0:hold; 1:enable*/
  407       =2 SBIT VREFTP_BUF_EN          = ANACON2^4; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp buf enable sig
             -nal.0:disable;1:enable*/
  408       =2 SBIT VREFTP_SETOP_EN        = ANACON2^3; /* vref tp setting opµƒenable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp volatg
             -e setting op enable singal.0:disable;1:enable */
  409       =2 SBIT VDD5_SETOP_EN          = ANACON2^2; /* vdd5 volatage setting op enable signal.0:disable;1:enable*/
  410       =2 SBIT VDD5_BUF_EN            = ANACON2^1; /* vdd5 buf enable signal.0:disable;1:enable*/
  411       =2 SBIT VDD5_SECTRL            = ANACON2^0; /* vdd5 slew rate control bit.0:no sr control,vref_tp rise quick
             -ly.1:with sr control,set 1 for 16 t32clk and the set to 0*/
  412       =2 
  413       =2 /* ANACON3 */
  414       =2 SBIT DSV_EN_ALLON           = ANACON3^7; /* dsv_en «∑Ò ±øÃ¥Úø™.1: ±øÃ¥Úø™;0:”……œµÁ ±–Úæˆ∂®*/
  415       =2 SBIT LR_SEL                 = ANACON3^6; /* select p1_af and p2_af from left or right afe controller.1:ri
             -ght;0:left*/
  416       =2 SBIT VCOM_OPT_SEL           = ANACON3^5; /* ”√”⁄øÿ÷∆vcom_optµƒ ‰≥ˆ.0:«ø÷∆ ‰≥ˆŒ™vcom.1:lcd term ±Œ™vcom,tp
             - term ±,Œ™afd*/
  417       =2 SBIT BGP_MASK               = ANACON3^4; /* ”√”⁄øÿ÷∆∫⁄∆¡ ±lcdµƒbandgapø™πÿ.¡¡∆¡ ±,¥Àø™πÿ”…lcdøÿ÷∆,∫⁄∆¡ ±,
             -”…tpøÿ÷∆.dsvƒ£ Ωœ¬,∂ØÃ¨«–ªª,”√”⁄Ω⁄ °π¶∫ƒ.1:ø™∆Ùlcdµƒbandgap,tp…®√Ë ±,–Ë“™ø™∆Ù¥Àø™πÿ.0:πÿ±’lcdµƒbandgap,tp≤ª…®√Ë ±,ø…“‘πÿ
             -±’¥Àø™πÿ*/
  418       =2 SBIT LVD_MASK               = ANACON3^3; /* ”√”⁄øÿ÷∆ «∑Òø™∆Ùavdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑.dsvƒ£ Ωœ¬,dsv_en πƒ‹ 
             -±,ø…ø™∆Ù,dsv_en≤ª πƒ‹,–Ë“™πÿ±’avdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑,“‘∑≈ŒÛ¥•∑¢lvd’Ï≤‚µÁ¬∑.1:ø™∆ÙµÙµÁ’Ï≤‚µÁ¬∑.0:πÿ±’*/
  419       =2 
  420       =2 /* ANACON7*/
  421       =2 SBIT VREFTP_LOADREGU        = ANACON7^7; /* vreftp output buffer driving ability control signal.1:enhance
             - the driving ability to about 55mA.0:use default value about 37mA driving ability at least*/
  422       =2 SBIT DSV_EN_MASK            = ANACON7^6; /* dsv_en–≈∫≈µƒ—°‘Ò–≈∫≈.0:asm…˙≥…µƒdsv_en–≈∫≈Œﬁ–ß,”…mcuæˆ∂® «∑Ò∆
             -Ù∂Ødsv_en;1:asm…˙≥Ωπ˝µƒdsv_en–≈∫≈”––ß*/
  423       =2 SBIT NVDD2_MASK             = ANACON7^5; /* NVDD2‘⁄∫⁄∆¡ ±µƒ πƒ‹–≈∫≈.nvdd2¡¡∆¡ ± ‹lcdøÿ÷∆,∫⁄∆¡ ±, ‹tpøÿ÷∆.
             -0:πÿ±’nvdd2;1:ø™∆Ùnvdd2*/
  424       =2 SBIT VRGEN_EN               = ANACON7^4; /* 32k ±÷”µÁ‘¥«–ªªπ¶ƒ‹.0:—°‘Ò¿¥◊‘∆´÷√.1:—°‘Òlcd¿¥µƒbandgap∆´÷√.∫
             -⁄∆¡ ±,¥ÀbitŒª“ª∂®–Ë“™≈‰÷√Œ™0,¡¡∆¡ø…≈‰÷√0£¨“≤ø…≈‰÷√≥…1*/
  425       =2 /* [3:0] VRFE_VDD_TPS. VDDD 1.2V setting. 0:  1.3v; 
  426       =2                                           1:  1v;
  427       =2                                           2:  1.025v;
  428       =2                                           3:  1.05v;
  429       =2                                           4:  1.075v;
  430       =2                                           5:  1.1v;
  431       =2                                           6:  1.125v;
  432       =2                                           7:  1.150v;
  433       =2                                           8:  1.175v;
  434       =2                                           9:  1.2v
  435       =2                                           10: 1.225v
  436       =2                                           11: 1.25v
  437       =2                                           12: 1.275v
  438       =2                                           13: 1.325v
  439       =2                                           14: 1.35v
  440       =2                                           15: 1.375v*/
  441       =2 
  442       =2 /* ANACON8 */
  443       =2 SBIT VDD_TP_N2_MASK         = ANACON8^7; /* reg_en_vdd_tp_n2–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  444       =2 SBIT VDD_TP_N1_MASK         = ANACON8^6; /* reg_en_vdd_tp_n1–≈∫≈¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  445       =2 SBIT VREFTP_SETOP_EN_M_MASK = ANACON8^5; /* vreftp_setop_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  446       =2 SBIT VREFTP_BUF_EN_M_MASK   = ANACON8^4; /* vreftp_buf_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  447       =2 SBIT VREFTP_SH_MASK         = ANACON8^3; /* vreftp_sh–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  448       =2 SBIT VREFTP_SRCTRL_M_MASK   = ANACON8^2; /* vreftp_srctrl_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  449       =2 SBIT BGP_MASK_MASK          = ANACON8^1; /* bgp_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  450       =2 SBIT NVDD2_MASK_MASK        = ANACON8^0; /* nvdd2_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 12  

  451       =2 
  452       =2 /* ANACON9 */
  453       =2 SBIT VDD_TP_N3_MASK         = ANACON9^7; /* reg_en_vdd_tp_n3–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  454       =2 SBIT REGBG_EN_MASK          = ANACON9^6; /* reg_en1–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  455       =2 SBIT VREFTP_SETOP_EN_MASK   = ANACON9^5; /* vreftp_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  456       =2 SBIT VREFTP_BUF_EN_MASK     = ANACON9^4; /* vreftp_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  457       =2 SBIT VREFTP_SRCTRL_MASK     = ANACON9^3; /* vreftp_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  458       =2 SBIT VDD5_SETOP_EN_MASK     = ANACON9^2; /* vdd5_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  459       =2 SBIT VDD5_BUF_EN_MASK       = ANACON9^1; /* vdd5_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  460       =2 SBIT VDD5_SRCTRL_MASK       = ANACON9^0; /* vdd5_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
  461       =2 
  462       =2 /* PCON */
  463       =2 SBIT SMOD1                  = PCON^7;
  464       =2 SBIT SMOD0                  = PCON^6;
  465       =2 SBIT POF                    = PCON^4;
  466       =2 SBIT GF1                    = PCON^3;
  467       =2 SBIT GF0                    = PCON^2;
  468       =2 SBIT CORE_STOP              = PCON^1;         /* Stop ƒ£ Ωøÿ÷∆Œª .∏√Œª–¥1£¨Ω´Ω¯»Îstopƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂¡
             -≥ˆ¿¥µƒ÷µŒ™0*/
  469       =2 SBIT CORE_IDLE              = PCON^0;         /* Idle ƒ£ Ωøÿ÷∆Œª °£∏√Œ™–¥1£¨«øΩ¯»ÎIDLEƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂
             -¡≥ˆ¿¥µƒ÷µŒ™0*/
  470       =2 
  471       =2 /* CGUCON0 */
  472       =2 SBIT ASM_32K_EN             = CGUCON0^7;  /* asm 32k clock enable.1:enable;0:disable*/
  473       =2 SBIT STANDBY                = CGUCON0^6;  /* ”√”⁄‘⁄’˝≥£ƒ£ Ωœ¬£¨mcu¥¶”⁄power down ±£¨∂‘osc ±÷”“‘º∞digitalµ
             -ƒ÷˜ ±÷”µƒdisable.0:disable clock tree, osc48m;1:≤ªπÿ ±÷” */
  474       =2 SBIT EN_32K                 = CGUCON0^5;  /* 1:¥Úø™32k osc*/
  475       =2 SBIT SPI0_32K_EN            = CGUCON0^4;  /* SPI0 DMAƒ£øÈ÷–µƒcounter ±÷”gating*/
  476       =2 SBIT SPI0CKEN               = CGUCON0^3;  /* SPI0π§◊˜ ±÷”µƒenable gating */
  477       =2 SBIT PROBE32K_DIG_EN        = CGUCON0^2;  /* clk_32k dig probe enable signal.1:enable;0:disable */
  478       =2 SBIT LVD_SLEEP_EN           = CGUCON0^1;  /* LVD ¬º˛∑¢…˙ ±£¨ «∑Òπÿ±’OSC.0:≤ªπÿ±’,defaultŒ™0.1:πÿ±’ */
  479       =2 SBIT PROBE32K_FROM1M_EN     = CGUCON0^0;  /* clk_32k_from_1m probe enable signal.1:enable;0:disable */
  480       =2 
  481       =2 
  482       =2 /* CGUCON1 */
  483       =2 SBIT SYSCKEN                = CGUCON1^7;     /* clock gating module:sysctrl,p0,p1*/
  484       =2 SBIT I2CCKEN                = CGUCON1^6;     /* i2c clk enable */
  485       =2 SBIT XSICKEN                = CGUCON1^5;     /* xsi source from core clock ,gating enable */
  486       =2 SBIT TIMER_500K_EN          = CGUCON1^4;     /* timer working clock enable signal.1:enable;0:disable*/
  487       =2 SBIT TIMERCKEN              = CGUCON1^3;     /* timer clk enable*/
  488       =2 SBIT UARTCKEN               = CGUCON1^2;     /* uart clk enable*/
  489       =2 SBIT DEBUGCKEN              = CGUCON1^1;     /* debug(including i2c debug) clk enable */
  490       =2 SBIT SPI1CKEN               = CGUCON1^0;     /* spi1 clk enable*/
  491       =2 
  492       =2 /* CGUCON2 */
  493       =2 SBIT CLKEN_500K             = CGUCON2^7;     /* 500k clock gating enable*/
  494       =2 SBIT CNTCKEN                = CGUCON2^6;     /* cnt clk enable */
  495       =2 SBIT LED_32K_EN             = CGUCON2^5;     /* Led controller working clock*/
  496       =2 SBIT PROMCKEN               = CGUCON2^4;     /* prom clk enable */
  497       =2 SBIT PRAMCKEN               = CGUCON2^3;     /* pram clk enable */
  498       =2 SBIT AFEACKEN               = CGUCON2^2;     /* asm clock gating enbale */
  499       =2 SBIT LEDCKEN                = CGUCON2^1;     /* led clk enable */
  500       =2 SBIT RTC_32K_EN             = CGUCON2^0;     /* RTC Working clock*/
  501       =2 
  502       =2 /* CGUCON3 */
  503       =2 SBIT DMACKEN                = CGUCON3^7;     /* CAL‘À–– ±£¨cpu «∑ÒΩ¯»Îidle◊¥Ã¨°£0:≤ªΩ¯»Îidle◊¥Ã¨;1:Ω¯»Îid
             -le◊¥Ã¨*/
  504       =2 SBIT CALCKEN                = CGUCON3^6;     /* cal clock enable*/
  505       =2 SBIT AFECKEN                = CGUCON3^5;     /* Clock dynamic gating AFE controller */
  506       =2 SBIT CLOSE_500K_EN          = CGUCON3^4;     /* mcu standby close 500k enable signal.1:close*/
  507       =2 SBIT XBUSCKEN               = CGUCON3^3;     /* Xsi0 clk enable */
  508       =2 SBIT AFESCKEN               = CGUCON3^2;     /* asm configure clock */
  509       =2 SBIT CLOSE_TIMER_EN         = CGUCON3^1;     /* mcu standby close timer clock enable sigal.1:close*/
  510       =2 SBIT RTCCKEN                = CGUCON3^0;
  511       =2 
  512       =2 /* CGUCON4 */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 13  

  513       =2 SBIT SSCG_CKEN              = CGUCON4^7;   /* sscg clk enable */
  514       =2 SBIT WDT_500K_EN            = CGUCON4^6;   /* CLK_500Kµƒgating enable for wdt*/
  515       =2 SBIT PROBE32K_CKEN          = CGUCON4^4;   /* probe 32K clk enable */
  516       =2 SBIT PROBE48M_CKEN          = CGUCON4^3;   /* probe 48M clk enable */
  517       =2 /*CGUCON4[1:0] clk_div  use for select frequence for div clock source 0:1div;1:2div;2:4 div;3:8div*/
  518       =2 
  519       =2 
  520       =2 /* CGUCON5 for INT0 wake up */
  521       =2 SBIT GPIO_WKEN              = CGUCON5^7;  /* int0 wake up enable */
  522       =2 SBIT LCD_ESD_WKEN           = CGUCON5^6;  /* lcd esd wake up enble */
  523       =2 SBIT LCD_LVD_WKEN           = CGUCON5^5;  /* lcd lvd wake up enble */
  524       =2 SBIT LCD_TIM_WKEN           = CGUCON5^4;  /* lcd timing wake up enble */
  525       =2 SBIT LCD_RELOAD_FLASH_WKEN  = CGUCON5^3;  /* LCD reload flash wake up enable */
  526       =2 SBIT ASM_MON_WKEN           = CGUCON5^2;  /* scan monitor wake up enable */
  527       =2 SBIT I2C_MON_WKEN           = CGUCON5^1;  /* i2c monitor wake up enable */
  528       =2 SBIT RTC_CNT_WKEN           = CGUCON5^0;  /* RTC or CNT wake up enable */
  529       =2 
  530       =2 /* CGUCON6 */
  531       =2 SBIT CLK_WP                 = CGUCON6^0; /* Only CGU0 need */
  532       =2 
  533       =2 /* CGUCON7 */
  534       =2 /*CGUCON7[7:6] OSC_TEST_SEL            ‘⁄gpioø⁄≤‚¡øosc32k∫Õosc48m ±÷” ±µƒ—°‘Ò–≈∫≈.3:32k_from_1m;2:32k_dig
             -;1:32K , 0:48M */
  535       =2 /*CGUCON7[5:0] OSC_TEST_DIV            ¡ø≤‚OSC48MªÚ’ﬂ32k OSC ±÷” ±£¨∑÷∆µœ¥ ˛≈‰÷√*/
  536       =2 
  537       =2 SBIT SEL_32K_SRC            = CGUCON8^7; /* 32k ±÷”‘¥—°‘Ò.1:32k—°‘Ò≤˙…˙”⁄ƒ£ƒ‚osc,1:32k¿¥‘¥”⁄1m∑÷∆µ*/
  538       =2 /* [6:0] fre_noadj_set.  ˝◊÷32k ±÷” «∑Òµ˜’˚µƒ»›÷µ. 1m ±÷”,48m¿¥≤‚,»Áπ˚’˝∫√ «32k,∏ˆ ˝Œ™1536.µ´ «1m∑÷∆µø…ƒ‹
             -µ˜’˚≤ªµΩ’˝∫√32k.
  539       =2 “Ú¥Àª·¿¥ªÿ’µ¥.Œ™¡ÀΩ‚æˆ∏√Œ Ã‚,–Ë…Ë÷√∏√÷µ.»Ù…Ë÷√÷µŒ™15,∑÷∆µ≥ˆ¿¥µƒ ±÷”,±ªºÏ≤‚‘⁄[1536-15,1536+15]÷Æº‰,≤ªª·µ˜
             -’˚ */
  540       =2 
  541       =2 /*I2CCON*/
  542       =2 SBIT I2C_WKEN               = I2CCON^5;      /* 0:disable i2c wakeup;1:enable i2c wakeup */
  543       =2 SBIT I2C_DEGLITCH_EN        = I2CCON^4;      /* analog deglitch enable.0:disable;1:enable */
  544       =2 SBIT I2C_BUSY               = I2CCON^3;      /* i2c «∑Ò¥¶”⁄∑¢ÀÕ/Ω” ’◊¥Ã¨.0:idle;1:busy */
  545       =2 SBIT I2CTI                  = I2CCON^1;      /* hw set, sw clear */
  546       =2 SBIT I2CRI                  = I2CCON^0;      /* hw set, sw clear */
  547       =2 
  548       =2 /*I2CSTOP*/
  549       =2 SBIT I2C_WAIT               = I2CSTOP^7;     /* 0: Õ∑≈i2c scl;1:¿≠µÕi2c scl,¿©’πscl÷‹∆⁄;µ±slave√¶ ±≤ªƒ‹º∞
             - ±œÏ”¶ */
  550       =2 SBIT COMP_BPSS              = I2CSTOP^6;     /* 0: πƒ‹i2cµÿ÷∑∆•≈‰;1:»°œ˚µÿ÷∑∆•≈‰øÿ÷∆ */
  551       =2 SBIT ADDR_NACK              = I2CSTOP^5;     /* 0:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ack;1:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ÀÕnack */
  552       =2 SBIT DATA_NACK              = I2CSTOP^4;     /* 0:∂‘i2c ˝æ›Ω◊∂Œ∑¢ack;1:∂‘i2c ˝æ›Ω◊∂Œ∑¢nack */
  553       =2 SBIT I2C_WK_STOP            = I2CSTOP^2;     /* wakeupƒ£øÈΩ” ’µΩ’˝»∑µƒstop£¨write 0 to clear */
  554       =2 SBIT STOPID                 = I2CSTOP^1;     /* stop◊¥Ã¨◊¥Ã¨Œª,±Ì æµ±«∞ «wr stopªπ «rd stop.0: host write
             - stop 1: host read stop */
  555       =2 SBIT I2CSTP                 = I2CSTOP^0;     /* hw set when received right i2c stop statue,sw clear */
  556       =2 
  557       =2 /*I2CSEL*/
  558       =2 SBIT I2C_MON_CFG            = I2CSEL^4;   /* 0: i2cπ§◊˜£¨i2c monitor≤ªπ§◊˜; 1:i2c≤ªπ§◊˜,i2c_monitorπ§◊˜ *
             -/
  559       =2 
  560       =2 /* I2CStart*/
  561       =2 SBIT I2C_WK_BYTE4_FLAG      = I2C_STATE^3;
  562       =2 SBIT I2C_WK_BYTE3_FLAG      = I2C_STATE^2;
  563       =2 SBIT I2C_WK_BYTE2_FLAG      = I2C_STATE^1;
  564       =2 SBIT I2C_WK_BYTE1_FLAG      = I2C_STATE^0;
  565       =2 
  566       =2 /*IEN1*/
  567       =2 SBIT SWDT                   = IEN1^6;     /*Active watchdog timer.1:active;0:idle*/
  568       =2 
  569       =2 /* WDTCON */
  570       =2 SBIT WDTACT                 = WDTCON^2;   /* wdt work state.1:wdt in running mode; 0:wdt in stop mode */
  571       =2 SBIT WDTSTARTEN             = WDTCON^1;   /* when write 1,wdt start running,it is auto clear to 0 */
  572       =2 SBIT WDTSTOPEN              = WDTCON^0;   /* when write 1,wdt stop running,it is auto clear to 0 */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 14  

  573       =2 
  574       =2 /*WDTREL*/
  575       =2 SBIT WDT_PRESCALE           = WDTREL^7;  /*Reload value for high-byte watchdog.1:√ø384∏ˆcycleº∆ ˝“ª¥Œ;0:√
             -ø24∏ˆcycleº∆ ˝“ª¥Œ*/
  576       =2 /*WDTREL[6:0]                   reload value for the high_seven_byte of the watchdog timer when a refresh
             - is triggered.*/
  577       =2 
  578       =2 /* TCON */
  579       =2 SBIT TF1 = TCON^7;               /* timer1 overflow flag£∫
  580       =2                                    µ±timer1 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
  581       =2 SBIT TR1 = TCON^6;               /* timer1µƒøÿ÷∆Œª°£
  582       =2                                    °∞1°±£∫∆∂Øtimer1,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer1÷Æ«∞±ÿ–Î“™∞—timer1…Ë
             -∂®∫√£© */
  583       =2 SBIT TF0 = TCON^5;               /* timer0 overflow flag£∫
  584       =2                                     µ±timer0 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
  585       =2 SBIT TR0 = TCON^4;               /* timer0µƒøÿ÷∆Œª°£
  586       =2                                    °∞1°±£∫∆∂Øtimer0,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer0÷Æ«∞±ÿ–Î“™∞—timer0…Ë
             -∂®∫√£© */
  587       =2 SBIT IF1 = TCON^3;               /* external interrupt 1 edge flag,hardware controlled
  588       =2                                     set when external interrupt 1 is detected
  589       =2                                     cleared when interrupt is processed */
  590       =2 SBIT IT1 = TCON^2;               /* external interrupt 1 signal type control bit
  591       =2                                     set to specify external interrupt 1 as falling edge triggered
  592       =2                                     cleared to specify external interrupt 1 as low level triggered */
  593       =2 SBIT IF0 = TCON^1;               /* external interrupt 0 edge flag , hardware controlled
  594       =2                                     set when external interrupt 0 is detected
  595       =2                                     cleared when interrupt is processed */
  596       =2 SBIT IT0 = TCON^0;               /* external interrupt 0 signal type control bit.
  597       =2                                     Set to specify External interrupt 0 as falling edge triggered.
  598       =2                                     Cleared to specify External interrupt 0 as low level triggered. */
  599       =2 /*TMOD*/
  600       =2 SBIT GATE1              = TMOD^7;  /*timer 1 gate*/
  601       =2 SBIT GATE0              = TMOD^3;  /*timer0 gate*/
  602       =2 /*TMOD[5:4]             time1 mode select. 00:timer stop; 01:16 bit counter single mode; 10:16 bit counte
             -r repeat mode; 11:half timer1‘›Õ£π§◊˜,»Áπ˚∏¥‘≠µΩ÷Æ«∞µƒƒ£ Ω,timer1Ω´ºÃ–¯π§◊˜*/
  603       =2 /*TMOD[1:0]             time0 mode select.π¶ƒ‹Õ¨…œ*/
  604       =2 
  605       =2 /*TDIV*/
  606       =2 SBIT INTSEL1            = TDIV^7;   /*timer1÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr1«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
  607       =2 SBIT INTSEL0            = TDIV^6;   /*timer0÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr0«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
  608       =2 SBIT INTCLR1            = TDIV^5;   /*»Ìº˛«Â≥˝ ±,INTCLR1–¥1 ±«Â≥˝timer1÷–∂œ*/
  609       =2 SBIT INTCLR0            = TDIV^4;   /*»Ìº˛«Â≥˝ ±,INTCLR0–¥1 ±«Â≥˝timer1÷–∂œ*/
  610       =2 
  611       =2 /* CNTCON */
  612       =2 SBIT CNT_START          = CNTCON^7;   /* 1: ∆Ù∂ØCNT; 0: º∆ ˝÷’÷π(ø…“‘∂¡»°º∆ ˝÷µ) */
  613       =2 SBIT CNT_CLEAR          = CNTCON^4;   /* «Â≥˝CNTº∆ ˝∆˜÷µµΩ0 */
  614       =2 SBIT CNT_WKEN           = CNTCON^3;   /* CNTªΩ–— πƒ‹: 1:¥Úø™ πƒ‹ 0:πÿ±’ªΩ–— πƒ‹ */
  615       =2 
  616       =2 /*LED_EN*/
  617       =2 SBIT LED_5_EN           = LED_EN^5;
  618       =2 SBIT LED_4_EN           = LED_EN^4;
  619       =2 SBIT LED_3_EN           = LED_EN^3;
  620       =2 SBIT LED_2_EN           = LED_EN^2;
  621       =2 SBIT LED_1_EN           = LED_EN^1;
  622       =2 SBIT LED_0_EN           = LED_EN^0;
  623       =2 
  624       =2 /*MEMBIST_EN1*/
  625       =2 SBIT DRAM2_BIST_EN      = MEMBIST_EN1^7;
  626       =2 SBIT DRAM1_BIST_EN      = MEMBIST_EN1^6;
  627       =2 SBIT DRAM0_BIST_EN      = MEMBIST_EN1^5;
  628       =2 SBIT PRAM4_BIST_EN      = MEMBIST_EN1^4;
  629       =2 SBIT PRAM3_BIST_EN      = MEMBIST_EN1^3;
  630       =2 SBIT PRAM2_BIST_EN      = MEMBIST_EN1^2;
  631       =2 SBIT PRAM1_BIST_EN      = MEMBIST_EN1^1;
  632       =2 SBIT PRAM0_BIST_EN      = MEMBIST_EN1^0;
  633       =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 15  

  634       =2 /*MEMBIST_EN2*/
  635       =2 SBIT AFERAM_R_BIST_EN   = MEMBIST_EN2^3;
  636       =2 SBIT AFERAM_L_BIST_EN   = MEMBIST_EN2^2;
  637       =2 SBIT ARAM_BIST_EN       = MEMBIST_EN2^1;
  638       =2 SBIT PROM_BIST_EN       = MEMBIST_EN2^0;
  639       =2 
  640       =2 /*MEMBIST_FINISH1*/
  641       =2 SBIT DRAM2_FINISH       = MEMBIST_FINISH1^7;
  642       =2 SBIT DRAM1_FINISH       = MEMBIST_FINISH1^6;
  643       =2 SBIT DRAM0_FINISH       = MEMBIST_FINISH1^5;
  644       =2 SBIT PRAM4_FINISH       = MEMBIST_FINISH1^4;
  645       =2 SBIT PRAM3_FINISH       = MEMBIST_FINISH1^3;
  646       =2 SBIT PRAM2_FINISH       = MEMBIST_FINISH1^2;
  647       =2 SBIT PRAM1_FINISH       = MEMBIST_FINISH1^1;
  648       =2 SBIT PRAM0_FINISH       = MEMBIST_FINISH1^0;
  649       =2 
  650       =2 /*MEMBIST_FINISH2*/
  651       =2 SBIT RPTRAM_R_FINISH    = MEMBIST_FINISH2^7;
  652       =2 SBIT RPTRAM_L_FINISH    = MEMBIST_FINISH2^6;
  653       =2 SBIT ACCRAM_R_FINISH    = MEMBIST_FINISH2^5;
  654       =2 SBIT ACCRAM_L_FINISH    = MEMBIST_FINISH2^4;
  655       =2 SBIT TABRAM_R_FINISH    = MEMBIST_FINISH2^3;
  656       =2 SBIT TABRAM_L_FINISH    = MEMBIST_FINISH2^2;
  657       =2 SBIT ARAM_FINISH        = MEMBIST_FINISH2^1;
  658       =2 SBIT PROM_FINISH        = MEMBIST_FINISH2^0;
  659       =2 
  660       =2 /*MEMBIST_FAIL1*/
  661       =2 SBIT DRAM2_FAIL         = MEMBIST_FAIL1^7;
  662       =2 SBIT DRAM1_FAIL         = MEMBIST_FAIL1^6;
  663       =2 SBIT DRAM0_FAIL         = MEMBIST_FAIL1^5;
  664       =2 SBIT PRAM4_FAIL         = MEMBIST_FAIL1^4;
  665       =2 SBIT PRAM3_FAIL         = MEMBIST_FAIL1^3;
  666       =2 SBIT PRAM2_FAIL         = MEMBIST_FAIL1^2;
  667       =2 SBIT PRAM1_FAIL         = MEMBIST_FAIL1^1;
  668       =2 SBIT PRAM0_FAIL         = MEMBIST_FAIL1^0;
  669       =2 
  670       =2 /*MEMBIST_FAIL2*/
  671       =2 SBIT RPTRAM_R_FAIL      = MEMBIST_FAIL2^7;
  672       =2 SBIT RPTRAM_L_FAIL      = MEMBIST_FAIL2^6;
  673       =2 SBIT ACCRAM_R_FAIL      = MEMBIST_FAIL2^5;
  674       =2 SBIT ACCRAM_L_FAIL      = MEMBIST_FAIL2^4;
  675       =2 SBIT TABRAM_R_FAIL      = MEMBIST_FAIL2^3;
  676       =2 SBIT TABRAM_L_FAIL      = MEMBIST_FAIL2^2;
  677       =2 SBIT ARAM_FAIL          = MEMBIST_FAIL2^1;
  678       =2 SBIT PROM_FAIL          = MEMBIST_FAIL2^0;
  679       =2 
  680       =2 /*MEMBIST_ERRMAP1*/
  681       =2 SBIT DRAM2_ERRMAP       = MEMBIST_ERRMAP1^7;
  682       =2 SBIT DRAM1_ERRMAP       = MEMBIST_ERRMAP1^6;
  683       =2 SBIT DRAM0_ERRMAP       = MEMBIST_ERRMAP1^5;
  684       =2 SBIT PRAM4_ERRMAP       = MEMBIST_ERRMAP1^4;
  685       =2 SBIT PRAM3_ERRMAP       = MEMBIST_ERRMAP1^3;
  686       =2 SBIT PRAM2_ERRMAP       = MEMBIST_ERRMAP1^2;
  687       =2 SBIT PRAM1_ERRMAP       = MEMBIST_ERRMAP1^1;
  688       =2 SBIT PRAM0_ERRMAP       = MEMBIST_ERRMAP1^0;
  689       =2 
  690       =2 /*MEMBIST_ERRMAP2*/
  691       =2 SBIT RPTRAM_R_ERRMAP    = MEMBIST_ERRMAP2^7;
  692       =2 SBIT RPTRAM_L_ERRMAP    = MEMBIST_ERRMAP2^6;
  693       =2 SBIT ACCRAM_R_ERRMAP    = MEMBIST_ERRMAP2^5;
  694       =2 SBIT ACCRAM_L_ERRMAP    = MEMBIST_ERRMAP2^4;
  695       =2 SBIT TABRAM_R_ERRMAP    = MEMBIST_ERRMAP2^3;
  696       =2 SBIT TABRAM_L_ERRMAP    = MEMBIST_ERRMAP2^2;
  697       =2 SBIT ARAM_ERRMAP        = MEMBIST_ERRMAP2^1;
  698       =2 SBIT PROM_ERRMAP        = MEMBIST_ERRMAP2^0;
  699       =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 16  

  700       =2 /* AIF */
  701       =2 SBIT WDT_INT_IF         = AIF^4;      /* wdt int«Î«Û–≈∫≈ */
  702       =2 SBIT SPI0_INT_IF        = AIF^3;      /* spi0 int«Î«Û–≈∫≈ */
  703       =2 SBIT SPI1_INT_IF        = AIF^2;      /* spi1 int«Î«Û–≈∫≈ */
  704       =2 SBIT ASM_INT_IF         = AIF^1;      /* asm int«Î«Û–≈∫≈ */
  705       =2 SBIT I2C_STOP_IF        = AIF^0;      /* i2c stop int«Î«Û–≈∫≈ */
  706       =2 
  707       =2 /* AIE */
  708       =2 SBIT WDT_INT_EI         = AIE^4;    /* wdt int enable */
  709       =2 SBIT SPI0_EI            = AIE^3;    /* spi0 int enable*/
  710       =2 SBIT SPI1_EI            = AIE^2;    /* spi1 int enable */
  711       =2 SBIT ASM_EI             = AIE^1;    /* Asm int enable */
  712       =2 SBIT I2C_STOP_EI        = AIE^0;    /* i2c stop int enable */  
  713       =2 
  714       =2 
  715       =2 /* IEN0 */
  716       =2 SBIT EA                 = IEN0^7;  /* Global Interrupt Enable */
  717       =2 SBIT EC                 = IEN0^6;  /* uart */
  718       =2 SBIT ET2                = IEN0^5;  /* I2C */
  719       =2 SBIT ES                 = IEN0^4;  /* LCD TIMING int */
  720       =2 SBIT ET1                = IEN0^3;  /* timer1 */
  721       =2 SBIT EX1                = IEN0^2;  /* RTC or CNT */
  722       =2 SBIT ET0                = IEN0^1;  /* timer0 */
  723       =2 SBIT EX0                = IEN0^0;  /* int0 wake up */
  724       =2 
  725       =2 /* interruption priority */
  726       =2 SBIT IPHX0              = IPH0^0;   /* Int0 */
  727       =2 SBIT IPLX0              = IPL0^0;
  728       =2 SBIT IPHT0              = IPH0^1;   /* Time0 */
  729       =2 SBIT IPLT0              = IPL0^1;
  730       =2 SBIT IPHX1              = IPH0^2;   /* Int1 */
  731       =2 SBIT IPLX1              = IPL0^2;
  732       =2 SBIT IPHT1              = IPH0^3;   /* Time1 */
  733       =2 SBIT IPLT1              = IPL0^3;
  734       =2 SBIT LCD_IPH            = IPH0^4;   /* LCD int run */
  735       =2 SBIT LCD_IPL            = IPL0^4;
  736       =2 SBIT I2C_IPH            = IPH0^5;   /* I2C */
  737       =2 SBIT I2C_IPL            = IPL0^5;
  738       =2 SBIT Uart_IPH           = IPH0^6;   /* Uart */
  739       =2 SBIT Uart_IPL           = IPL0^6;
  740       =2 SBIT I2C_STOP_IPH       = AIPH^0;   /* I2C Stop */
  741       =2 SBIT I2C_STOP_IPL       = AIPL^0;
  742       =2 SBIT ASM_IPH            = AIPH^1;   /* ASM */
  743       =2 SBIT ASM_IPL            = AIPL^1;   
  744       =2 SBIT SPI1_IPH           = AIPH^2;   /* SPI1 */
  745       =2 SBIT SPI1_IPL           = AIPL^2;
  746       =2 SBIT SPI0_IPH           = AIPH^3;   /* SPI0 */
  747       =2 SBIT SPI0_IPL           = AIPL^3;
  748       =2 SBIT WDT_IPH            = AIPH^4;   /* wdt */
  749       =2 SBIT WDT_IPL            = AIPL^4;
  750       =2 
  751       =2 /* P0 */
  752       =2 SBIT P0_7               = P0BUF^7;
  753       =2 SBIT P0_6               = P0BUF^6;
  754       =2 SBIT P0_5               = P0BUF^5;
  755       =2 SBIT P0_4               = P0BUF^4;
  756       =2 SBIT P0_3               = P0BUF^3;
  757       =2 SBIT P0_2               = P0BUF^2;
  758       =2 SBIT P0_1               = P0BUF^1;
  759       =2 SBIT P0_0               = P0BUF^0;
  760       =2 
  761       =2 /*p1*/
  762       =2 SBIT P1_7               = P1BUF^7;
  763       =2 SBIT P1_6               = P1BUF^6;
  764       =2 SBIT P1_5               = P1BUF^5;
  765       =2 SBIT P1_4               = P1BUF^4;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 17  

  766       =2 SBIT P1_3               = P1BUF^3;
  767       =2 SBIT P1_2               = P1BUF^2;
  768       =2 SBIT P1_1               = P1BUF^1;
  769       =2 SBIT P1_0               = P1BUF^0;
  770       =2 
  771       =2 
  772       =2 /* GPIO pin definition */
  773       =2 SBIT Flash_WP           = P1BUF^7;
  774       =2 SBIT Flash_HOLD         = P1BUF^4;
  775       =2 
  776       =2 SBIT Flash_pad          = P1BUF^6;
  777       =2 SBIT Flash_DIR          = P1DIR^6;
  778       =2 SBIT Flash_GPIO         = P1MOD^6;
  779       =2 SBIT Flash_DM           = P1SEL^6;
  780       =2 
  781       =2 SBIT INTOUT             = P0BUF^6;
  782       =2 SBIT INTOUT_DIR         = P0DIR^6;
  783       =2 SBIT GPIO_INTOUT        = P0MOD^6;
  784       =2 SBIT INTOUT_DM          = P0SEL^6;
  785       =2 
  786       =2 SBIT GPIO3              = P0BUF^7;
  787       =2 SBIT GPIO3_DIR          = P0DIR^7;
  788       =2 SBIT GPIO3_INTOUT       = P0MOD^7;
  789       =2 SBIT GPIO3_DM           = P0SEL^7;
  790       =2 
  791       =2 SBIT GPIO4              = P1BUF^5;
  792       =2 SBIT GPIO4_DIR          = P1DIR^5;
  793       =2 SBIT GPIO4_INTOUT       = P1MOD^5;
  794       =2 SBIT GPIO4_DM           = P1SEL^5;
  795       =2 
  796       =2 /* mcu clk config */
  797       =2 #define MAIN_CLK  0 //0:48M; 1:24M   
  798       =2 /*******************************************************************************
  799       =2  * 3.Global structures, unions and enumerations using typedef
  800       =2  *******************************************************************************/
  801       =2 
  802       =2 /*******************************************************************************
  803       =2  * 4.Global variable extern declarations
  804       =2  *******************************************************************************/
  805       =2 
  806       =2 
  807       =2 /******************************************************************************
  808       =2 *
  809       =2 * App Info data section
  810       =2 ******************************************************************************/
  811       =2 // app ¥Ê‘⁄flashµƒŒÔ¿Ìµÿ÷∑
  812       =2 #define CODE_START_ADDR       0x1000
  813       =2 #define CODE_VERIF_ADDR       (CODE_START_ADDR+APP_VERIF_ADDR)
  814       =2 
  815       =2 // app ¥Ê‘⁄pramµƒŒÔ¿Ìµÿ÷∑
  816       =2 #define APP_ADDR_START        0x0000  // app start addr
  817       =2 #define APP_START_OPCODE      0x02
  818       =2 
  819       =2 #define APP_VERIF_ADDR        0x100   // Verification Info
  820       =2 #define APP_VERIF_LEN         0x20
  821       =2 #define APP_VERIF_CODE_LEN    0x04    //app÷–code≥§∂»–≈œ¢
  822       =2 
  823       =2 typedef enum
  824       =2 {
  825       =2     APP_LEN      = 0x00,
  826       =2     APP_NE_LEN   = 0x02,
  827       =2     P1_ECC_H     = 0x04,
  828       =2     P1_ECC_L     = 0x05,
  829       =2     P1_ECC_NE_H  = 0x06,
  830       =2     P1_ECC_NE_L  = 0x07,
  831       =2     P2_ECC_H     = 0x08,
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 18  

  832       =2     P2_ECC_L     = 0x09,
  833       =2     P2_ECC_NE_H  = 0x0A,
  834       =2     P2_ECC_NE_L  = 0x0B,
  835       =2     APP_LEN_H    = 0x12,
  836       =2     APP_LEN_H_NE = 0x14,
  837       =2 } ENUM_APP_INFO;
  838       =2 
  839       =2 // App—È÷§–≈œ¢
  840       =2 #define ADDR_APP_LEN          (APP_VERIF_ADDR+APP_LEN)
  841       =2 #define ADDR_APP_NE_LEN       (APP_VERIF_ADDR+APP_NE_LEN)
  842       =2 #define ADDR_PART1_ECC        (APP_VERIF_ADDR+P1_ECC_H)
  843       =2 #define ADDR_PART1_ECC_NE     (APP_VERIF_ADDR+P1_ECC_NE_H)
  844       =2 #define ADDR_PART2_ECC        (APP_VERIF_ADDR+P2_ECC_H)
  845       =2 #define ADDR_PART2_ECC_NE     (APP_VERIF_ADDR+P2_ECC_NE_H)
  846       =2 #define ADDR_APP_LEN_H        (APP_VERIF_ADDR+APP_LEN_H)
  847       =2 #define ADDR_APP_LEN_H_NE     (APP_VERIF_ADDR+APP_LEN_H_NE)
  848       =2 
  849       =2 #define APP_ADDR_PART1_START  0x0000
  850       =2 #define APP_ADDR_PART1_LEN    ((APP_VERIF_ADDR)-(APP_ADDR_PART1_START))
  851       =2 #define APP_ADDR_PART2_START  ((APP_VERIF_ADDR)+(APP_VERIF_LEN)+(FW_CFG_TOTAL_SIZE))
  852       =2 
  853       =2 #define FLASH_APP_INFO        (APP_VERIF_ADDR + CODE_START_ADDR)
  854       =2 /******************************************************************************
  855       =2 *
  856       =2 * FW config data section
  857       =2 *******************************************************************************
  858       =2 /
  859       =2 /* FW≈‰÷√«¯”Ú≥§∂» */
  860       =2 #define FW_CFG_TOTAL_SIZE          0x80
  861       =2 #define FW_CFG_INFO_SIZE           0x0E
  862       =2 
  863       =2 /* FW≈‰÷√«¯”Ú∆´“∆¡ø */
  864       =2 typedef enum
  865       =2 {
  866       =2     FW_CFG_I2C_OFFSET              = 0x00,     // master I2C  addr
  867       =2     FW_CFG_I2C_NE_OFFSET           = 0x01,     // ~master I2C addr
  868       =2     FW_CFG_IOVOLTAGE_OFFSET        = 0x02,     // Io Voltage 
  869       =2     FW_CFG_IOVOLTAGE_NE_OFFSET     = 0x03,     // ~Io Voltage
  870       =2     FW_CFG_VENDOR_OFFSET           = 0x04,     // Vendor 
  871       =2     FW_CFG_VENDOR_NE_OFFSET        = 0x05,     // ~Vendor
  872       =2     FW_CFG_SPI_CLK_OFFSET          = 0x06,     // SPI Clk
  873       =2     FW_CFG_SPI_CLK_NE_OFFSET       = 0x07,     // ~SPI Clk
  874       =2     FW_CFG_SYS_CLK_OFFSET          = 0x08,     // Sys Clk
  875       =2     FW_CFG_SYS_CLK_NE_OFFSET       = 0x09,     // ~Sys Clk 
  876       =2     FW_CFG_XBUS_CLK_OFFSET         = 0x0A,     // LCD xbus clk
  877       =2     FW_CFG_XBUS_CLK_NE_OFFSET      = 0x0B,     // ~LCD xbus clk
  878       =2     FW_CFG_SPI_IOMODE_OFFSET       = 0x0C,     // spi iomode
  879       =2     FW_CFG_SPI_IOMODE_NE_OFFSET    = 0x0D,     // ~spi iomode
  880       =2 } ENUM_FW_CFG_OFFSET;
  881       =2 
  882       =2 /* FW≈‰÷√«¯”ÚFlashŒª÷√ */
  883       =2 typedef enum
  884       =2 {
  885       =2     FW_CFG_START_FLASH_ADDR        = 0x0F80,
  886       =2     FW_CFG_I2C_FLASH_ADDR          = (FW_CFG_START_FLASH_ADDR+
  887       =2 FW_CFG_I2C_OFFSET),
  888       =2 } ENUM_FW_CFG_FLASH_ADDR;
  889       =2 
  890       =2 /* FW≈‰÷√±∏∑›«¯”ÚFlashŒª÷√ */
  891       =2 typedef enum
  892       =2 {
  893       =2     FW_CFG_BKUP_START_FLASH_ADDR   = 0x1120,
  894       =2     FW_CFG_BKUP_I2C_FLASH_ADDR     = (FW_CFG_BKUP_START_FLASH_ADDR+FW_CFG_I2C_OFFSET),
  895       =2 } ENUM_FW_CFG_BKUP_FLASH_ADDR;
  896       =2 
  897       =2 /* LCD OTP≈‰÷√«¯”ÚŒª÷√ */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 19  

  898       =2 typedef enum
  899       =2 {
  900       =2     LCD_OTP_REG_ADDR               = 0x9866,
  901       =2     LCD_OTP_MASTER_I2C_ADDR        = (LCD_OTP_REG_ADDR+FW_CFG_I2C_OFFSET),
  902       =2     LCD_OTP_MASTER_I2C_NE_ADDR,
  903       =2     LCD_OTP_SPI_CLK_ADDR           = (LCD_OTP_REG_ADDR+FW_CFG_SPI_CLK_OFFSET),
  904       =2     LCD_OTP_SPI_CLK_NE_ADDR,
  905       =2     LCD_OTP_SYS_CLK_ADDR,
  906       =2     LCD_OTP_SYS_CLK_NE_ADDR,
  907       =2     LCD_OTP_XBUS_CLK_ADDR,
  908       =2     LCD_OTP_XBUS_CLK_NE_ADDR,
  909       =2     LCD_OTP_SPI_IOMODE_ADDR,
  910       =2     LCD_OTP_SPI_IOMODE_NE_ADDR,
  911       =2 } ENUM_LCD_OTP_ADDR;
  912       =2 
  913       =2 #define REG8(n)  (*((volatile UINT8  *)(n)))
  914       =2 #define REG16(n) (*((volatile UINT16 *)(n)))
  915       =2 #define REG32(n) (*((volatile UINT32 *)(n)))
  916       =2 
  917       =2 #define APP_DATA_MAX         0x11800
  918       =2 #define RST_VALUE_UPGRADE    0x6B  /* Flag of upgrade according to Romboot */
  919       =2 
  920       =2 #define PRAM_ADDR8(n)    (*((UINT8 far *)((UINT32)0xFEE800 + (n))))
  921       =2 #define PRAM2_ADDR8(n)   (*((UINT8 far *)((UINT32)0xFF4000 + (n))))
  922       =2 
  923       =2 #define PRAM_PTR8(n)     ((volatile UINT8 far *)((UINT32)0xFEE800 + (n)))
  924       =2 #define PRAM2_PTR8(n)    ((volatile UINT8 far *)((UINT32)0xFF4000 + (n)))
  925       =2 
  926       =2 #define PROM_ADDR8(n)     (*((UINT8 far *)(0xFD0000 + n)))
  927       =2 #define DRAM_ADDR8(n)     (*((UINT8 *)(0x0000 + n)))
  928       =2 
  929       =2 
  930       =2 #define PRAM_ADDR16(n)     (*((UINT16 far *)(0xFEE800 + n)))
  931       =2 
  932       =2 #define PROM_ADDR16(n)     (*((UINT16 far *)((UINT32)0xFD0000 + n)))
  933       =2 #define DRAM_ADDR16(n)     (*((UINT16 *)((UINT32)0x0000 + n)))
  934       =2 
  935       =2 #define HOLD            while (1)
  936       =2 /*******************************************************************************
  937       =2  * Global function prototypes
  938       =2  *******************************************************************************/
  939       =2 
  940       =2 #endif
   87       =1 #include "FT8836_Reg.h"
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: FT8836_Reg.h
    5       =2 *
    6       =2 *    Author: 
    7       =2 *
    8       =2 *   Created: 2016-07-11
    9       =2 *
   10       =2 *  Abstract: Define FT8836 Sram registers and their bits
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 
   16       =2 #ifndef _FT8836_REG_H_
   17       =2 #define _FT8836_REG_H_
   18       =2 
   19       =2 /* Conditional Compiler Options */
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * Included files
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 20  

   23       =2 *******************************************************************************/
   24       =2 #include "FT8836.h"
    1       =3 /*******************************************************************************
    2       =3  * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3  *
    4       =3  * File Name: FT8836.h
    5       =3  *
    6       =3  *    Author: 
    7       =3  *
    8       =3  *   Created: 2016-07-11
    9       =3  *
   10       =3  *  Abstract: 1. In this file, sfrs(special function registers) and their bits
   11       =3  *            are defined for chip ft8626 based on platform C251.
   12       =3  *
   13       =3  *            2. Please note that there are some differences in the way the
   14       =3  *            instructions address bits between the two architectures MCS251 and
   15       =3  *            MCS51. The MCS251 does not have bit addresses as MCS51 does. A bit
   16       =3  *            can be addressed by name or by its location within a certain
   17       =3  *            register, but not by a bit address.
   18       =3  *
   19       =3  *            Table: Addressing Modes for Bit Instructions
   20       =3  *            -------------------------------------------------------------------
   21       =3  *            Architecture Variants Bit Address Memory/SFR Address Comments
   22       =3  *            -------------------------------------------------------------------
   23       =3  *            MCS251       Memory -- NA ------- 20H.0-7FH.7        does not have
   24       =3  *            (bit)        SFR ----- NA ------- All defined SFRs   bit addresses
   25       =3  *            -------------------------------------------------------------------
   26       =3  *            MCS 51       Memory -- 00H-7FH -- 20H.0-7FH.7        not all SFRs
   27       =3  *            (bit51)      SFR ----- 80H-F8H -- XXH.0-XXH.7, where have bit
   28       =3  *                                              XX = 80,88,90,98,  addresses.
   29       =3  *                                              ..., F0, F8.
   30       =3  *            -------------------------------------------------------------------
   31       =3  *
   32       =3  *            3. This file is only used by library and driver of project ft5412.
   33       =3  *
   34       =3  * Reference: 1. Intel 8xc251sx User's Manual (8xc251sx_um.pdf)
   35       =3  *            2. Keil C251 help document
   36       =3  *
   37       =3  *******************************************************************************/
   38       =3 #ifndef __FT8836_H__
            =3 #define __FT8836_H__
            =3 
            =3 /* Conditional Compiler Options */
            =3 
            =3 /* Conditional Compiler Options */
            =3 /*******************************************************************************
            =3  * 1.Included files
            =3  *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3  * 2.Global constant and macro definitions using #define
            =3  *******************************************************************************/
            =3 /******************************************************************************/
            =3 /* byte Registers */
            =3 
            =3 /*80-87*/
            =3 SFR P0BUF           = 0x80;   /*PoBuf*/
            =3 SFR SP              = 0x81; 
            =3 SFR DPL             = 0x82;
            =3 SFR DPH             = 0x83;
            =3 SFR DPXL            = 0x84;
            =3 SFR PCON            = 0x87;
            =3 
            =3 /*88-8F*/
            =3 SFR TCON            = 0x88;
            =3 SFR TMOD            = 0x89;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 21  

            =3 SFR TL0             = 0x8A;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL0[7:0]X4us,◊Ó¥Û÷µ≤ªƒ‹≥¨π˝1ms“≤æÕ «Àµ◊Ó¥
             -Û÷µŒ™8°ØhF9,¥Û”⁄¥À÷µ ±Ω´«ø÷∆Œ™8°ØhF9. */
            =3 SFR TL1             = 0x8B;   /* …Ë∂®º∆ ˝∆˜ ±º‰µÕ8Œª£¨º∆ ˝ ±º‰Œ™TL1[7:0]X4us */
            =3 SFR TH0             = 0x8C;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH0[7:0]X1ms,TH0[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
            =3 SFR TH1             = 0x8D;   /* …Ë∂®º∆ ˝∆˜ ±º‰∏ﬂ8Œª£¨º∆ ˝ ±º‰Œ™TH1[7:0]X1ms,TH1[7]±ÿ–ÎŒ™0£¨À˘“‘◊Ó≥§ ±º‰Œ
             -™127ms */
            =3 
            =3 /*90-97*/
            =3 SFR I2CCON          = 0x90;
            =3 SFR I2CBUF          = 0x91;
            =3 SFR I2CADDR         = 0x92;
            =3 SFR I2CSTOP         = 0x93;
            =3 SFR P1BUF           = 0x94;   /*P1Buf*/
            =3 SFR I2CSEL          = 0x95;
            =3 SFR MMCON           = 0x97;
            =3 
            =3 /*98-9F*/
            =3 SFR SYSCON          = 0x98;
            =3 SFR WDTCON          = 0x99;
            =3 SFR WDTREL          = 0x9A;
            =3 SFR TDIV            = 0x9B;
            =3 SFR RTCIVL          = 0x9C; /*rtcº∆ ˝÷’÷πµÕ8Œª*/      
            =3 SFR RTCIVH          = 0x9D; /*rtcº∆ ˝÷’÷π∏ﬂ8Œª*/
            =3 SFR RTCCON          = 0x9E;
            =3 SFR RTCSLN          = 0x9F; /*rtc  ±º‰∆¨∏ˆ ˝*/
            =3 
            =3 /*A0-A7*/
            =3 SFR ANACON8         = 0xA0;
            =3 SFR SPI0CON         = 0xA2;
            =3 SFR SPI0CON2        = 0xA3;
            =3 SFR SPI0BUF         = 0xA4;
            =3 SFR SPI0CON3        = 0xA5;
            =3 SFR SPI0CON4        = 0xA6; 
            =3 SFR SPI0CON5        = 0xA7;
            =3 
            =3 /*A8-AF*/
            =3 SFR IEN0            = 0xA8;
            =3 SFR UARTCON         = 0xA9;
            =3 SFR UARTBUF         = 0xAA;
            =3 SFR UART_RELL       = 0xAB;
            =3 SFR P0DIR           = 0xAC;   /*P0ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
            =3 SFR P1DIR           = 0xAD;   /*P1ø⁄∑ΩœÚ≈‰÷√£¨1: ‰≥ˆ, 0: ‰»Î*/
            =3 SFR UART_RELH       = 0xAE;
            =3 SFR UART_SDA        = 0xAF;
            =3 
            =3 /*B0-B7*/
            =3 SFR ANACON9         = 0xB0;
            =3 SFR SPI1CON3        = 0xB1;
            =3 SFR SPI1CON4        = 0xB2;
            =3 SFR SPI1CON         = 0xB3;
            =3 SFR SPI1CON2        = 0xB4;
            =3 SFR SPI1BUF         = 0xB5;
            =3 SFR RTCCON1         = 0xB6;
            =3 SFR IPH0            = 0xB7; 
            =3 
            =3 /*B8-BF*/
            =3 SFR IPL0            = 0xB8;
            =3 SFR CNTCON          = 0xB9;
            =3 SFR CNTIVL          = 0xBA;  /*CNTº∆ ˝÷’÷πµÕ8Œª*/
            =3 SFR CNTIVM          = 0xBB;  /*CNTº∆ ˝÷’÷π÷–º‰8Œª*/
            =3 SFR CNTIVH          = 0xBC;  /*CNTº∆ ˝÷’÷π∏ﬂ8Œª*/
            =3 SFR FT_EN_REG       = 0xBD;  /*lcd otp to tp soc*/
            =3 SFR SPH             = 0xBE;
            =3 SFR CGUCON8         = 0xBF;
            =3 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 22  

            =3 /*C0-C7*/
            =3 SFR AIF            = 0xC0;
            =3 SFR ANACON1        = 0xC1;
            =3 SFR ANACON2        = 0xC2;
            =3 SFR ANACON3        = 0xC3;
            =3 SFR ANACON4        = 0xC4;
            =3 SFR ANACON5        = 0xC5;
            =3 SFR ANACON6        = 0xC6;
            =3 SFR ANACON7        = 0xC7;
            =3 
            =3 /*C8-CF*/
            =3 SFR CGUCON1        = 0xC8;
            =3 SFR CGUCON0        = 0xC9;
            =3 SFR CGUCON2        = 0xCA;
            =3 SFR CGUCON3        = 0xCB;
            =3 SFR CGUCON4        = 0xCC;
            =3 SFR CGUCON5        = 0xCD;
            =3 SFR CGUCON6        = 0xCE;
            =3 SFR CGUCON7        = 0xCF;
            =3 
            =3 /* D1-D7 */
            =3 SFR MEMBIST_EN1         = 0xD2;
            =3 SFR MEMBIST_EN2         = 0xD3;
            =3 SFR MEMBIST_FINISH1     = 0xD4;
            =3 SFR MEMBIST_FINISH2     = 0xD5;
            =3 SFR MEMBIST_FAIL1       = 0xD6;
            =3 SFR MEMBIST_FAIL2       = 0xD7;
            =3 
            =3 /* D8-DF */
            =3 SFR MEMBIST_ERRMAP1     = 0xD8;
            =3 SFR MEMBIST_ERRMAP2     = 0xD9;
            =3 SFR DSV_CON             = 0xDA;
            =3 SFR MEMBIST_ROMCRC0     = 0xDB;
            =3 SFR MEMBIST_ROMCRC1     = 0xDC; 
            =3 SFR MEMBIST_ROMCRC2     = 0xDD;
            =3 SFR MEMBIST_ROMCRC3     = 0xDE;
            =3 SFR IEN1                = 0xDF;
            =3 
            =3 /*E0-E7*/
            =3 SFR TESTCON0            = 0xE1;
            =3 SFR TESTCON1            = 0xE2;
            =3 SFR TESTCON2            = 0xE3;
            =3 SFR TESTCON3            = 0xE4;
            =3 SFR IWKSTA              = 0xE5;
            =3 SFR POR_STA             = 0xE6; /*POR∏¥ŒªºÏ≤È*/
            =3 SFR RST_STA             = 0xE7; /*Pin reset∏¥ŒªºÏ≤È*/
            =3 
            =3 
            =3 /*E8-EF*/
            =3 SFR AIE                 = 0xE8;
            =3 SFR SFTRST              = 0xE9;
            =3 SFR ANACON              = 0xEA;
            =3 SFR P0MOD               = 0xEB; /*0:P0 use as gpio;1:po use as function define*/
            =3 SFR P0SEL               = 0xEC; /*0:P0 as OD port; 1:P0 as PUSH-PULL port*/
            =3 SFR P1MOD               = 0xED; /*0:P1 use as gpio;1:p1 use as function define*/
            =3 SFR P1SEL               = 0xEE; /*0:P1 as OD port; 1:P1 as PUSH-PULL port*/
            =3 SFR XDP_STA             = 0xEF;
            =3 
            =3 /*F0-F7*/
            =3 SFR CNT_MASK            = 0xF1; /* 3'b00:porrst_cnt;3'b01:wdtrst_cnt;3'h02:extrst_cnt;3'h03:lcdrst_cnt;3'
             -b04:esd_cnt;3'h05:lvd_cnt*/
            =3 SFR CNT_STA             = 0xF2; /* ∏˘æ›cnt_maskµƒ÷µ£¨∂¿¥¶≤ªÕ¨µƒcnt÷µ*/
            =3 SFR SSCG_CON0           = 0xF5;
            =3 SFR SSCG_CON1           = 0xF6; /* sscg_step:sscg increase/decrease period(500us/step). sscg trim code wi
             -ll increase in every(500ns*(step+1))*/
            =3 SFR AIPH                = 0xF7;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 23  

            =3 
            =3 /*F8-FF*/
            =3 SFR AIPL                = 0xF8;
            =3 SFR I2C_CMD0            = 0xF9; /* i2c hid command byte1 */
            =3 SFR I2C_CMD1            = 0xFA; /* i2c hid command byte2 */
            =3 SFR I2C_CMD2            = 0xFB; /* i2c hid command byte3 */
            =3 SFR I2C_CMD3            = 0xFC; /* i2c hid command byte4 */
            =3 SFR I2C_STATE           = 0xFD; /* i2C hid ÷–∂œ±Í÷æºƒ¥Ê∆˜ */
            =3 SFR LED_EN              = 0xFE; /* 4∏ˆLEDµ∆ πƒ‹; bit3~bit0”––ß,√øbit∑÷±∂‘”¶“ª∏ˆLED πƒ‹ */
            =3 SFR LED_H_NUM           = 0xFF; /* led PWM≤®∏ﬂµÁ∆Ω≥÷–¯µƒ÷‹∆⁄ ˝£¨0~63ø…≈‰£¨0¥˙±Ì1∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨63¥˙±Ì64
             -∏ˆ32k÷‹∆⁄∏ﬂµÁ∆Ω£¨º¥“ª÷±Œ™∏ﬂ£ª*/
            =3 
            =3 
            =3 /******************************************************************************/
            =3 /* bit Registers */
            =3 
            =3 /*SSCG_CON0*/
            =3 /*bit5-4  sscg_amp */   /*sscg amplitude. Control the output sequence of DA_TRIM[2:0]. Clock stable time 
             -between each trim code is located in range 100ns-200ns*/
            =3 SBIT SSCG_SCAN_EN           = SSCG_CON0^1; /*0:stop sscg when scan 1:contiune sscg when scan(sync with sc
             -an)*/
            =3 SBIT SSCG_EN                = SSCG_CON0^0; /*0:disable sscg  1:enable sscg*/
            =3 
            =3 /*SPI0CON*/
            =3 SBIT SPI0RX_OVF_FLAG        = SPI0CON^6;  /*rx_reg_overflow±Í÷æŒª£¨spi0Ω” ’ÕÍ ˝æ›rx_regŒ™¬˙ ±£¨”≤º˛÷√1*/
            =3 SBIT SPI0TX_UNF_FLAG        = SPI0CON^5;  /*tx_reg_underflow±Í÷æŒª£¨spi0∑¢ÀÕ ˝æ› ±rx_regŒ™ø’ ±£¨”≤º˛÷√1*/
            =3 SBIT SPI0_START             = SPI0CON^4;  /*SPI0µƒslvelœ¬Ωµ—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
            =3 SBIT SPI0_STOP              = SPI0CON^3;  /*SPI0µƒslvel…œ…˝—ÿ¿¥ ±Œ™∏ﬂµÁ∆Ω£¨»Ìº˛«Â¡„*/
            =3 SBIT DMA_END_FLAG           = SPI0CON^2;  /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û±Í÷æŒª£¨»Ìº˛«Â¡„*/
            =3 SBIT SPI0RI                 = SPI0CON^1;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
            =3 SBIT SPI0TI                 = SPI0CON^0;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
            =3 
            =3 /*SPI0CON2*/
            =3 SBIT SPI0TX_AUTO_CLR        = SPI0CON2^7; /* «∑Ò◊‘∂Ø«Â≥˝ti÷–∂œ±Í÷æŒª£ª0:–Ë“™»Ìº˛«Â£ª1:»Ìº˛‘⁄–¥tx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
            =3 SBIT SPI0RX_AUTO_CLR        = SPI0CON2^6; /* «∑Ò◊‘∂Ø«Â≥˝ri÷–∂œ±Í÷æŒª. 0:–Ë“™»Ìº˛«Â; 1:»Ìº˛‘⁄∂¡rx_reg ±”≤º
             -˛◊‘∂Ø«Â*/
            =3 SBIT SPI0_EDGE_SEL          = SPI0CON2^5; /*0:sck…œ…˝—ÿ ‰≥ˆ;1:sckœ¬Ωµ—ÿ ‰≥ˆ*/
            =3 SBIT SPI0_BUSY              = SPI0CON2^4; /*0:µÕµÁ∆Ω◊¥Ã¨£¨÷ªƒ‹∂¡≤ªƒ‹–¥;1:SPI0’˝‘⁄º§ªÓ◊¥Ã¨*/
            =3 SBIT SPI0_STOP_EI           = SPI0CON2^3; /*spi_stop÷–∂œ«Î«Û–≈∫≈ πƒ‹*/
            =3 SBIT DMA_END_EI             = SPI0CON2^2; /*DMA≤Ÿ◊˜Ω· ¯÷–∂œ«Î«Û πƒ‹*/
            =3 SBIT SPI0RI_EN              = SPI0CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
            =3 SBIT SPI0TI_EN              = SPI0CON2^0; /*0:Ω˚÷π≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙∑¢ÀÕ÷–∂œ«Î«Û–≈∫≈*/
            =3 
            =3 /*SPI0CON3*/
            =3 SBIT SPI0_WKEN              = SPI0CON3^7; /*spi wake upπ¶ƒ‹ πƒ‹Œª.0:disable;1:enable*/
            =3 SBIT SPI0_RI_PULSE_SEL      = SPI0CON3^4; /*0:rx_reg load at ti_ri_pulse falling edg;1:rx_reg load at ri_
             -pulse rising edge*/
            =3 //SBIT SPI0_CLR_NUM           = SPI0CON3^4; /*write 1 to clear byte num*/
            =3 /*spi0con3[3:0] dummy_byte_num csœ¬Ωµ—ÿø™ º≤Â»Îµƒdummy byte ˝*/
            =3 
            =3 /*SPI0CON4*/
            =3 /*SPI0CON4[7:6] byte_num_rd_sel  byte_num∂¡≥ˆ—°‘Ò.2'b00:byte_num_h; 2'b01:byte_num_m; 2'b10:byte_num_l */
            =3 /*SPI0CON4[5:0] byte_num_rd byte_num 6bit,”…byte_numæˆ∂®*/
            =3 
            =3 /*SPI0CON5*/
            =3 SBIT SPI0RX_OVF_CLR         = SPI0CON5^6;  /*–¥1«Â≥˝rx_reg_overflow±Í÷æŒª*/
            =3 SBIT SPI0TX_UNF_CLR         = SPI0CON5^5;  /*–¥1«Â≥˝tx_reg_underflow±Í÷æŒª*/
            =3 SBIT SPI0_START_CLR         = SPI0CON5^4;  /*–¥1«Â≥˝spi0 start*/
            =3 SBIT SPI0_STOP_CLR          = SPI0CON5^3;  /*–¥1«Â≥˝spi0 stop*/
            =3 SBIT DMA_END_CLR            = SPI0CON5^2;  /*–¥1«Â≥˝dma end flag*/
            =3 SBIT SPI0RI_CLR             = SPI0CON5^1;  /*–¥1«Â≥˝SPI0RT*/
            =3 SBIT SPI0TI_CLR             = SPI0CON5^0;  /*–¥1«Â≥˝SPI0TI*/
            =3 
            =3 
            =3 /*SPICLKDIV: 000:4∑÷∆µ;001:6∑÷∆µ;010:8∑÷∆µ;011:12∑÷∆µ;100:16∑÷∆µ;101:18∑÷∆µ;110:20∑÷∆µ;111:24∑÷∆µ*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 24  

            =3 /*SPI1CON*/
            =3 SBIT SPI1TI                  = SPI1CON^7;  /*∑¢ÀÕ«Î«Û÷–∂œ±Í÷æŒª*/
            =3 SBIT SPI1RI                  = SPI1CON^6;  /*Ω” ’ÕÍ±œ÷–∂œ«Î«Û±Í÷æŒª*/
            =3 SBIT SPI1CKM                 = SPI1CON^5;  /*SPI1CLKDIV÷–º‰Œª*/
            =3 SBIT SPI1CKL                 = SPI1CON^4;  /*SPI1CLKDIVµÕŒª*/
            =3 SBIT SPI1PH                  = SPI1CON^3;  /*0:÷±Ω”∑¢ÀÕ ˝æ›,ª∫¥Ê∞Î∏ˆcycleΩ” ’ ˝æ›;1:÷±Ω”Ω” ’ ˝æ›,ª∫¥Ê∞Î∏ˆ
             -cycle∑¢ÀÕ ˝æ›*/
            =3 SBIT SPI1PO                  = SPI1CON^2;  /*0:low idle; 1:high idle*/
            =3 SBIT SPI1MAS                 = SPI1CON^1;  /*0:slave mode; 1:master mode*/ 
            =3 SBIT SPI1_SLVSLELEN          = SPI1CON^0;  /*0:masterƒ£ Ωœ¬µƒslvselo ‹ƒ⁄≤ø∆Ù∂Øøÿ÷∆;1:masterƒ£ Ωœ¬slvselo 
             -‹SPI1CON2[2]øÿ÷∆*/
            =3 
            =3 /*SPI1CON2*/
            =3 SBIT SPI1TX_AUTO_CLR         = SPI1CON2^7; /*0:»Ìº˛◊‘∂Ø«Âti÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡rx reg ±”≤º˛◊‘«Â*/
            =3 SBIT SPI1RX_AUTO_CLR         = SPI1CON2^6; /*0:»Ìº˛◊‘∂Ø«Âri÷–∂œ±Í÷æŒª;1:»Ìº˛‘⁄∂¡tx reg ±”≤º˛◊‘«Â*/
            =3 SBIT SPI1_BUSY               = SPI1CON2^5; /*0:µÕµÁ∆Ω◊¥Ã¨,÷ªƒ‹∂¡;1:SPI1’˝¥¶”⁄active*/ 
            =3 SBIT SPI1_STOP               = SPI1CON2^4; 
            =3 SBIT SPI1_START              = SPI1CON2^3;
            =3 SBIT SPI1SLVELO              = SPI1CON2^2; /*µ±SPI1CON[0]Œ™1 ±,master◊¥Ã¨œ¬∏√Œª÷±Ω” ‰≥ˆSPI1µƒslvsel£ªµ±SP
             -I1CON[0]Œ™0 ±£¨∏√ŒªŒﬁ–ß*/
            =3 SBIT SPI1RI_EN               = SPI1CON2^1; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
            =3 SBIT SPI1TI_EN               = SPI1CON2^0; /*0:Ω˚÷π≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈;1:‘ –Ì≤˙…˙Ω” ’÷–∂œ«Î«Û–≈∫≈*/
            =3 
            =3 /*SPI1CON3*/
            =3 SBIT SPI1MODE_SELH           = SPI1CON3^7; /*1:”√IO0-IO2¥´ ‰ ˝æ›;0:∏˘æ›SPI1CON3[6]◊¥Ã¨æˆ∂®*/
            =3 SBIT SPI1MODE_SELL           = SPI1CON3^6; /*»ÙSPI1MODE_SELHŒ™0,‘Ú0:”√IO0¥´ ‰;1:”√IO0,IO1¥´ ‰*/
            =3 SBIT SPI1_SW_IO_ENH          = SPI1CON3^5; /*IO0,IO1∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO0,IO1∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
            =3 SBIT SPI1_SW_IO_ENL          = SPI1CON3^4; /*IO2,IO3∑ΩœÚøÿ÷∆Œª. 0:standard spi IO setting;1:øÿ÷∆IO2,IO3∑Ω
             -œÚ◊‘∂Ø«–ªª,«–ªª ±º‰≤Œreg≈‰÷√spi_dat_opn_num*/
            =3 SBIT SW_1BYTE_LATER          = SPI1CON3^2; /*dual/quad spi»Ìº˛«–ªª ±º‰.0:¡¢º¥«–ªª;1:‘⁄œ¬∏ˆbyte ˝æ›¥´ ‰Ω· 
             -¯“‘∫Ûµƒµ⁄“ª∏ˆshift_out_sck_edg÷Æ«∞ÕÍ≥…«–ªª*/
            =3 SBIT SPI1_SW_DIR             = SPI1CON3^1; /*dual/quad spi ±»Ìº˛«–ªªioµƒ∑ΩœÚ.0: ‰≥ˆ;1: ‰»Î*/
            =3 SBIT SPI1_SW_EN              = SPI1CON3^0; /*dual/quad spi »Ìº˛io∑ΩœÚ«–ªª πƒ‹£¨–¥1”––ß.”≤º˛‘⁄«–ªª÷Æ∫Û◊‘«Â
             -*/
            =3 
            =3 /*SPI1CON4*/
            =3 SBIT SPI1IOSW_CKDLY_EN      = SPI1CON4^4; /*¥´ ‰IO«–ªª∑ΩœÚ ± 0:«–ªª∑ΩœÚ≤ª—” ±;1:«–ªª∑ΩœÚ—”≥§2∏ˆclk cycle*
             -/
            =3 SBIT SPI1_CURR_MODE         = SPI1CON4^3; /*spi master/slave mode◊¥Ã¨Œª.1:ƒø«∞Œ™master mode.0:ƒø«∞Œ¥slave
             - mode */
            =3 SBIT SPI1CKH                = SPI1CON4^2; /*SPI1CLKDIV∏ﬂŒª*/
            =3 /*spi1con[1:0] sample_phase_sel*/ /*≤…—˘ ±÷”—”≥Ÿ—°‘Ò. 00:Œﬁ—”≥Ÿ;01:—”≥Ÿ1∏ˆclk cycle; 10:—”≥Ÿ2∏ˆclk cycle;
             - 11:—”≥Ÿ3∏ˆclk cycle*/
            =3 
            =3 
            =3 /*UARTCON*/
            =3 SBIT UART_MODE              = UARTCON^7; /*uartƒ£ Ω…Ë∂®. 0:9bitƒ£ Ω; 1:8bitƒ£ Ω*/
            =3 SBIT UART_SM21              = UARTCON^5; /*1:‘⁄9bit“ª∂‘∂‡Õ®–≈ƒ£ Ωœ¬;0:‘⁄9bitµ„∂‘µ„ƒ£ Ω*/  
            =3 SBIT UART_REN1              = UARTCON^4; /*Ω” ’ «ƒ‹øÿ÷∆Œª.1:‘ –ÌΩ” ’;0:Ω˚÷πΩ” ’*/
            =3 SBIT UART_TB81              = UARTCON^3; /*‘⁄9bitƒ£ Ωœ¬£¨the content of∑¢ÀÕµƒµ⁄9bit*/
            =3 SBIT UART_RB81              = UARTCON^2;   
            =3 SBIT UART_TI                = UARTCON^1;
            =3 SBIT UART_RI                = UARTCON^0;
            =3 
            =3 /* RTCCON */
            =3 SBIT RTC_START              = RTCCON^7;
            =3 SBIT RTC_INT_EN_ASM         = RTCCON^6;   /* ≤˙…˙÷–∂œ∏¯asm πƒ‹.1:¥Úø™;0:πÿ±’ */
            =3 SBIT RTC_START_STA          = RTCCON^5;   /* RTC∆Ù∂Ø◊¥Ã¨.1:rtc∆Ù∂Ø≥…π¶ªÚø’œ–;0:rtc’˝‘⁄∆Ù∂ØªÚ’˝‘⁄∏¥Œª*/
            =3 SBIT RTC_CLR                = RTCCON^4;
            =3 SBIT RTC_INT_EN_CPU         = RTCCON^2;   /* ≤˙…˙÷–∂œ∏¯cpu πƒ‹.1:¥Úø™;0:πÿ±’ */
            =3 SBIT RTC_AUTO_MODE          = RTCCON^1;   /* rtc≤ª–Ë“™◊ˆclr£¨◊‘∂Ø÷ÿ∏¥º∆ ˝*/
            =3 SBIT RTC_WP                 = RTCCON^0;
            =3 
            =3 /* RTCCON1 */
            =3 //[2:1] LCD_SRC_SEL lcd start sourc—°‘Ò. 2'b00:vstart;2'b01:vmdi;2'b10:vend;2'b11:vblank
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 25  

            =3 SBIT LCD_SRC_SEL_H          = RTCCON1^2;
            =3 SBIT LCD_SRC_SEL_L          = RTCCON1^1;
            =3 SBIT LCD_START_EN           = RTCCON1^0;   /* lcd vstart/wmid.vend/vblank ∆Ù∂Ørtc πƒ‹–≈∫≈ */ 
            =3 
            =3 /*SYSCON*/
            =3 SBIT REMAP                  = SYSCON^7;
            =3 SBIT ESD_RST_EN             = SYSCON^6;   /* esd∑¢…˙ ±–Ë≤ª–Ë“™rstœµÕ≥.1:±Ì æ–Ë“™rstœµÕ≥;0:±Ì æ≤ªrstœµÕ≥*/
            =3 SBIT BUS_SEL                = SYSCON^5;   /* RO. pad bus_sel */
            =3 SBIT WDT                    = SYSCON^4;   /* wdt πƒ‹ */
            =3 SBIT UART1                  = SYSCON^3;   /* uart1 */
            =3 SBIT UART0                  = SYSCON^2;   /* uart0: 2'b01: GPIO6; 2'b10: GPIO7; 2'b11: GPIO1.5; 2'b00: ∆‰
             -À˚;  */
            =3 SBIT LVD_INT_CLR            = SYSCON^1;   /* –¥1«Â≥˝lvdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
            =3 SBIT ESD_INT_CLR            = SYSCON^0;   /* –¥1«Â≥˝esdµƒ÷–∂œ±Í÷æ,∏√bitŒª–¥1◊‘«Â */
            =3 
            =3 
            =3 /*IWKSTA*/
            =3 SBIT GPIO_INT               = IWKSTA^7; /* p0.6 pinΩ≈÷–∂œªΩ–—±Í÷æ*/
            =3 SBIT LCD_ESD_WK_INT         = IWKSTA^6; /* lcd esd wakeup÷–∂œªΩ–—±Í÷æ */
            =3 SBIT LCD_LVD_WK_INT         = IWKSTA^5; /* lcd lvd wakeup÷–∂œªΩ–—±Í÷æ */
            =3 SBIT LCD_GPIO_WK_INT        = IWKSTA^4; /* lcd gpio wakeup status */
            =3 SBIT LCD_RELOAD_FLASH       = IWKSTA^3; /* LCD initial code reload */
            =3 SBIT ASM_MON_INT            = IWKSTA^2; /* asm monitor÷–∂œªΩ–—±Í÷æ */
            =3 SBIT I2C_MON_INT            = IWKSTA^1; /* i2c monitor÷–∂œªΩ–—±Í÷æ */
            =3 SBIT RTC_CNT_INT            = IWKSTA^0; /* RTC or CNT÷–∂œªΩ–—±Í÷æ */
            =3 
            =3 /*SFTRST*/
            =3 SBIT SOFT_RST               = SFTRST^7; /*∂¡:»Ì∏¥Œª±Í÷æ*/
            =3 SBIT WDT_RST                = SFTRST^6; /*∂¡:wdt∏¥Œª±Í÷æ*/
            =3 SBIT EXT_RST                = SFTRST^5; /*∂¡:Õ‚≤ø∏¥Œª±Í÷æ*/
            =3 SBIT POR_RST                = SFTRST^4; /*por∏¥Œª±Í÷æ*/
            =3 SBIT FLASH_HOLD_STA         = SFTRST^3; /*flash hold state*/
            =3 SBIT REMAP_RST              = SFTRST^1; /*∂¡:¥Úø™remap∏¥Œª πƒ‹*/
            =3 /*SFTRST[0] */              /*µ±»´–¥1 «≤˙…˙∏¥Œª;»´–¥0 «≤˙…˙remap∏¥Œª;µ±∂¡ ± ±»Ì∏¥Œª±Í÷æ*/
            =3 
            =3 /* ANACON */
            =3 SBIT ARAM_SEL               = ANACON^7;  /* 1: mcuøÿ÷∆aram; 0: afeøÿ÷∆aram */
            =3 SBIT LCD_DSTAB_IOLOW        = ANACON^6;  /* lcd dstab∑¢…˙ ±,øÿ÷∆TPµΩLCD DPµƒ–≈∫≈ «∑Ò ‰≥ˆŒ™µÕ£¨¥”∂¯ΩµµÕ¬©µ
             -Á 1:  ‰≥ˆŒ™µÕ£¨0: ≤ª ‰≥ˆŒ™µÕ */
            =3 SBIT I2C_WK_RST             = ANACON^5;  /* 0:Reset I2C monitor interrupt;1: release*/
            =3 SBIT I2C_SF_RST             = ANACON^4;  /* I2C module soft reset */
            =3 SBIT XSI_SEL                = ANACON^3;  /* xsi0/xsi1 accessing clock switch select. 0:MCU;1:AFE. */
            =3 SBIT AFE_RST                = ANACON^2;  /* afe sub-system soft reset including asm*/
            =3 SBIT FlASH_HOLD             = ANACON^1;  /* external SPI flash hold,1:hold state '0';0:hold state '1' */
            =3 SBIT GPIO_INT_SEL           = ANACON^0;  /* GPIO Interrupt source selecetion.1:GPIO interrupt is from p0.
             -7;0:GPIO interrupt is from p0.6 */
            =3 
            =3 /* XDP_STATUS*/
            =3 SBIT LVD_STA                = XDP_STA^6;  /* R0.lvdµƒstatus */
            =3 SBIT ESD_FLAG               = XDP_STA^5;  /* RW.esd∑¢…˙±Í÷æ.1:±Ì æ”–∑¢…˙esd ¬º˛;0:±Ì æ√ª”–∑¢…˙esd ¬º˛.»Ìº
             -˛ø…«Â≥˝*/
            =3 SBIT LVD_FLAG               = XDP_STA^4;  /* RW.lvd∑¢…˙±Í÷æ.1:”–lvd ¬º˛;0:√ª”–lvd ¬º˛.»Ìº˛ø…«Â≥˝ */
            =3 SBIT ESD_STA                = XDP_STA^3;  /* RO.xdp esd status */
            =3 SBIT LVD_VDDI_STA           = XDP_STA^2;  /* RO.lvd_vddi status */
            =3 SBIT LVD_AVDD_STA           = XDP_STA^1;  /* RO.lvd_avdd status */
            =3 SBIT LVD_AVEE_STA           = XDP_STA^0;  /* RO.lvd_avee status */
            =3 
            =3 /* TEST_CON0 */
            =3 SBIT TEST_OUT0_EN           = TESTCON0^7; 
            =3 /*TEST_CON0[6:0]*/          /*Test out0 control */
            =3 
            =3 /* TEST_CON1 */
            =3 SBIT TEST_OUT1_EN           = TESTCON1^7; 
            =3 /*TEST_CON1[6:0]*/          /*Test out1 control */
            =3 
            =3 /* TEST_CON2 */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 26  

            =3 SBIT TEST_OUT2_EN           = TESTCON2^7; 
            =3 /*TEST_CON2[6:0]*/          /*Test out2 control */
            =3 
            =3 /* TEST_CON0 */
            =3 SBIT TEST_OUT3_EN           = TESTCON3^7; 
            =3 /*TEST_CON3[6:0]*/          /*Test out3 control */
            =3 
            =3 /* DSV_CON */
            =3 SBIT UART_INH               = DSV_CON^6;       /* selection of uart rx port*/
            =3 SBIT UART_INL               = DSV_CON^5;       /* 2'b00/2'b11:disable uart rxd;2'b01:p0.6;2'b10:p0.7*/
            =3 SBIT SPI_REPLACE_STA        = DSV_CON^4;       /* spi1 «∑ÒÃÊ¥˙spi0◊˜Œ™slaveµƒ◊¥Ã¨Œª;1:spi1◊˜Œ™slave;0:spi
             -1≤ª◊˜Œ™slave*/
            =3 SBIT SPI_REPLACE_SEL        = DSV_CON^3;       /* spi1◊˜Œ™slaveµƒøÿ÷∆£¨‘⁄spi_replace_en=1 ±∆◊˜”√.1:spi1Ã
             -Êªªspi0◊˜Œ™slave;0:spi1≤ªÃÊªªspi0 */
            =3 SBIT SPI_REPLACE_EN         = DSV_CON^2;       /* spi1◊˜Œ™slaveµƒøÿ÷∆.1:spi1 «∑ÒŒ™slave ‹spi_replace_selø
             -ÿ÷∆;*/
            =3 SBIT DSV_EN6_STA            = DSV_CON^1;       /* lcd ‰≥ˆµƒdsv_en6µƒ◊¥Ã¨ */
            =3 SBIT DSV_EN                 = DSV_CON^0;       /* dsv en reg */
            =3 
            =3 /*FT_EN_REG*/
            =3 SBIT PDB                    = FT_EN_REG^6;     /* lcd to tp,µ±¥Úø™≈˙∆¿ºÏ≤‚ ±,ºÏ≤‚Ω·π˚.1:∆¡∆∆;0:∆¡√ª∆∆*/
            =3 SBIT PDB_EN                 = FT_EN_REG^5;     /* tp to lcd.1:ø™∆Ù∆∆∆¡ºÏ≤‚ */
            =3 SBIT DMA_REQ_INT_MASK       = FT_EN_REG^4;     /* dma_req∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_reqŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
            =3 SBIT DMA_ACK_INT_MASK       = FT_EN_REG^3;     /* dma_ack∆¡±Œcpu÷–∂œ πƒ‹.1:µ±dma_ackŒ™1 ±,∆¡±Œcpuµƒ(≥˝¡Àt
             -imer0,timer1)÷–∂œ*/
            =3 SBIT TEST_CLK_EN            = FT_EN_REG^2;     /*  ±÷”≤‚ ‘ ‰≥ˆ πƒ‹,GPIO6 ‰≥ˆ */
            =3 SBIT XSI_SEL_STA            = FT_EN_REG^1;     /* anacon[3] xsi clk swtich result.1:AFE can control xsi;0
             -:MCU can control xsi*/
            =3 SBIT FT_EN                  = FT_EN_REG^0;     /* lcd otp to tp soc */
            =3 
            =3 /* ANACON1 */
            =3 SBIT POWERGATING_CTRL       = ANACON1^7; /* Œﬁavdd∫Õavee ±,øÿ÷∆afeµƒsx switch∑≈µÁ.1:»°æˆ”⁄dsv_en,dsv_enŒ™
             -1 ±,≤ª∑≈µÁ.dsv_enŒ™0 ±,∑≈µÁ.0:≤ª∑≈µÁ */
            =3 /* [6:4] vreftp_sel. vREF_TP voltage selection bits.0:2v; 1:2.5v; 2:3v; 3:3.5v; 4:4v; 5:4.5v; 6:5v; 7:4.5
             -v*/
            =3 SBIT VREFTP_BUF_SEL_M       = ANACON1^3; /* vref_tp/vdd5 slew rate control bit,output to xtp.0: no sr con
             -trol,vref_tp rise quickly.1:with sr control,set 1 for t32clk and then set to 0*/
            =3 SBIT VREFTP_BUF_SH_M        = ANACON1^2; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xtp.vref_tp/vdd5 sample/hold sign
             -al.0:hold; 1:enable*/
            =3 SBIT VREFTP_BUF_EN_M        = ANACON1^1; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xtp.vref_tp buf enable signal.0:disa
             -ble;1:enable*/
            =3 SBIT VREFTP_SETOP_EN_M      = ANACON1^0; /* vref_tp setting opµƒenable, ‰≥ˆ∏¯xtp.vref_tp volatge setting 
             -op enable singal.0:disable;1:enable */
            =3 
            =3 /* ANACON2 */
            =3 SBIT REFBG_EN               = ANACON2^7; /* tpµƒbandgapµƒenbale.…®√Ë ±,“ª∂®“™¥Úø™.afe ref enable signal.0
             -:disable;1:enable */
            =3 SBIT VREFTP_BUF_SEL         = ANACON2^6; /* vref_tp/vdd5 slew rate control bit,output to xae_l,xafe_r.0:n
             -o sr control,vref_tp rise quickly;1:with sr control,set 1 for 16 t32clk and then set to 0*/
            =3 SBIT VREFTP_BUF_SH          = ANACON2^5; /* ≤…—˘µÁ—π,πÃ∂®≤…—˘µÁ—π, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp/vdd5 sample
             -/hold signal.0:hold; 1:enable*/
            =3 SBIT VREFTP_BUF_EN          = ANACON2^4; /* øÿ÷∆ ‰≥ˆbuf enable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp buf enable sig
             -nal.0:disable;1:enable*/
            =3 SBIT VREFTP_SETOP_EN        = ANACON2^3; /* vref tp setting opµƒenable, ‰≥ˆ∏¯xafe_l,xafe_r.vref_tp volatg
             -e setting op enable singal.0:disable;1:enable */
            =3 SBIT VDD5_SETOP_EN          = ANACON2^2; /* vdd5 volatage setting op enable signal.0:disable;1:enable*/
            =3 SBIT VDD5_BUF_EN            = ANACON2^1; /* vdd5 buf enable signal.0:disable;1:enable*/
            =3 SBIT VDD5_SECTRL            = ANACON2^0; /* vdd5 slew rate control bit.0:no sr control,vref_tp rise quick
             -ly.1:with sr control,set 1 for 16 t32clk and the set to 0*/
            =3 
            =3 /* ANACON3 */
            =3 SBIT DSV_EN_ALLON           = ANACON3^7; /* dsv_en «∑Ò ±øÃ¥Úø™.1: ±øÃ¥Úø™;0:”……œµÁ ±–Úæˆ∂®*/
            =3 SBIT LR_SEL                 = ANACON3^6; /* select p1_af and p2_af from left or right afe controller.1:ri
             -ght;0:left*/
            =3 SBIT VCOM_OPT_SEL           = ANACON3^5; /* ”√”⁄øÿ÷∆vcom_optµƒ ‰≥ˆ.0:«ø÷∆ ‰≥ˆŒ™vcom.1:lcd term ±Œ™vcom,tp
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 27  

             - term ±,Œ™afd*/
            =3 SBIT BGP_MASK               = ANACON3^4; /* ”√”⁄øÿ÷∆∫⁄∆¡ ±lcdµƒbandgapø™πÿ.¡¡∆¡ ±,¥Àø™πÿ”…lcdøÿ÷∆,∫⁄∆¡ ±,
             -”…tpøÿ÷∆.dsvƒ£ Ωœ¬,∂ØÃ¨«–ªª,”√”⁄Ω⁄ °π¶∫ƒ.1:ø™∆Ùlcdµƒbandgap,tp…®√Ë ±,–Ë“™ø™∆Ù¥Àø™πÿ.0:πÿ±’lcdµƒbandgap,tp≤ª…®√Ë ±,ø…“‘πÿ
             -±’¥Àø™πÿ*/
            =3 SBIT LVD_MASK               = ANACON3^3; /* ”√”⁄øÿ÷∆ «∑Òø™∆Ùavdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑.dsvƒ£ Ωœ¬,dsv_en πƒ‹ 
             -±,ø…ø™∆Ù,dsv_en≤ª πƒ‹,–Ë“™πÿ±’avdd/aveeµƒµÙµÁ’Ï≤‚µÁ¬∑,“‘∑≈ŒÛ¥•∑¢lvd’Ï≤‚µÁ¬∑.1:ø™∆ÙµÙµÁ’Ï≤‚µÁ¬∑.0:πÿ±’*/
            =3 
            =3 /* ANACON7*/
            =3 SBIT VREFTP_LOADREGU        = ANACON7^7; /* vreftp output buffer driving ability control signal.1:enhance
             - the driving ability to about 55mA.0:use default value about 37mA driving ability at least*/
            =3 SBIT DSV_EN_MASK            = ANACON7^6; /* dsv_en–≈∫≈µƒ—°‘Ò–≈∫≈.0:asm…˙≥…µƒdsv_en–≈∫≈Œﬁ–ß,”…mcuæˆ∂® «∑Ò∆
             -Ù∂Ødsv_en;1:asm…˙≥Ωπ˝µƒdsv_en–≈∫≈”––ß*/
            =3 SBIT NVDD2_MASK             = ANACON7^5; /* NVDD2‘⁄∫⁄∆¡ ±µƒ πƒ‹–≈∫≈.nvdd2¡¡∆¡ ± ‹lcdøÿ÷∆,∫⁄∆¡ ±, ‹tpøÿ÷∆.
             -0:πÿ±’nvdd2;1:ø™∆Ùnvdd2*/
            =3 SBIT VRGEN_EN               = ANACON7^4; /* 32k ±÷”µÁ‘¥«–ªªπ¶ƒ‹.0:—°‘Ò¿¥◊‘∆´÷√.1:—°‘Òlcd¿¥µƒbandgap∆´÷√.∫
             -⁄∆¡ ±,¥ÀbitŒª“ª∂®–Ë“™≈‰÷√Œ™0,¡¡∆¡ø…≈‰÷√0£¨“≤ø…≈‰÷√≥…1*/
            =3 /* [3:0] VRFE_VDD_TPS. VDDD 1.2V setting. 0:  1.3v; 
            =3                                           1:  1v;
            =3                                           2:  1.025v;
            =3                                           3:  1.05v;
            =3                                           4:  1.075v;
            =3                                           5:  1.1v;
            =3                                           6:  1.125v;
            =3                                           7:  1.150v;
            =3                                           8:  1.175v;
            =3                                           9:  1.2v
            =3                                           10: 1.225v
            =3                                           11: 1.25v
            =3                                           12: 1.275v
            =3                                           13: 1.325v
            =3                                           14: 1.35v
            =3                                           15: 1.375v*/
            =3 
            =3 /* ANACON8 */
            =3 SBIT VDD_TP_N2_MASK         = ANACON8^7; /* reg_en_vdd_tp_n2–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VDD_TP_N1_MASK         = ANACON8^6; /* reg_en_vdd_tp_n1–≈∫≈¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_SETOP_EN_M_MASK = ANACON8^5; /* vreftp_setop_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_BUF_EN_M_MASK   = ANACON8^4; /* vreftp_buf_en_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_SH_MASK         = ANACON8^3; /* vreftp_sh–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_SRCTRL_M_MASK   = ANACON8^2; /* vreftp_srctrl_m–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT BGP_MASK_MASK          = ANACON8^1; /* bgp_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT NVDD2_MASK_MASK        = ANACON8^0; /* nvdd2_mask–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 
            =3 /* ANACON9 */
            =3 SBIT VDD_TP_N3_MASK         = ANACON9^7; /* reg_en_vdd_tp_n3–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT REGBG_EN_MASK          = ANACON9^6; /* reg_en1–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_SETOP_EN_MASK   = ANACON9^5; /* vreftp_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_BUF_EN_MASK     = ANACON9^4; /* vreftp_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VREFTP_SRCTRL_MASK     = ANACON9^3; /* vreftp_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VDD5_SETOP_EN_MASK     = ANACON9^2; /* vdd5_setop_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VDD5_BUF_EN_MASK       = ANACON9^1; /* vdd5_buf_en–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 SBIT VDD5_SRCTRL_MASK       = ANACON9^0; /* vdd5_srctrl–≈∫≈µƒ¿¥‘¥.0:¿¥◊‘mcu;1:¿¥◊‘asm*/
            =3 
            =3 /* PCON */
            =3 SBIT SMOD1                  = PCON^7;
            =3 SBIT SMOD0                  = PCON^6;
            =3 SBIT POF                    = PCON^4;
            =3 SBIT GF1                    = PCON^3;
            =3 SBIT GF0                    = PCON^2;
            =3 SBIT CORE_STOP              = PCON^1;         /* Stop ƒ£ Ωøÿ÷∆Œª .∏√Œª–¥1£¨Ω´Ω¯»Îstopƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂¡
             -≥ˆ¿¥µƒ÷µŒ™0*/
            =3 SBIT CORE_IDLE              = PCON^0;         /* Idle ƒ£ Ωøÿ÷∆Œª °£∏√Œ™–¥1£¨«øΩ¯»ÎIDLEƒ£ Ω£¨»Áπ˚∂¡∏√Œª£¨∂
             -¡≥ˆ¿¥µƒ÷µŒ™0*/
            =3 
            =3 /* CGUCON0 */
            =3 SBIT ASM_32K_EN             = CGUCON0^7;  /* asm 32k clock enable.1:enable;0:disable*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 28  

            =3 SBIT STANDBY                = CGUCON0^6;  /* ”√”⁄‘⁄’˝≥£ƒ£ Ωœ¬£¨mcu¥¶”⁄power down ±£¨∂‘osc ±÷”“‘º∞digitalµ
             -ƒ÷˜ ±÷”µƒdisable.0:disable clock tree, osc48m;1:≤ªπÿ ±÷” */
            =3 SBIT EN_32K                 = CGUCON0^5;  /* 1:¥Úø™32k osc*/
            =3 SBIT SPI0_32K_EN            = CGUCON0^4;  /* SPI0 DMAƒ£øÈ÷–µƒcounter ±÷”gating*/
            =3 SBIT SPI0CKEN               = CGUCON0^3;  /* SPI0π§◊˜ ±÷”µƒenable gating */
            =3 SBIT PROBE32K_DIG_EN        = CGUCON0^2;  /* clk_32k dig probe enable signal.1:enable;0:disable */
            =3 SBIT LVD_SLEEP_EN           = CGUCON0^1;  /* LVD ¬º˛∑¢…˙ ±£¨ «∑Òπÿ±’OSC.0:≤ªπÿ±’,defaultŒ™0.1:πÿ±’ */
            =3 SBIT PROBE32K_FROM1M_EN     = CGUCON0^0;  /* clk_32k_from_1m probe enable signal.1:enable;0:disable */
            =3 
            =3 
            =3 /* CGUCON1 */
            =3 SBIT SYSCKEN                = CGUCON1^7;     /* clock gating module:sysctrl,p0,p1*/
            =3 SBIT I2CCKEN                = CGUCON1^6;     /* i2c clk enable */
            =3 SBIT XSICKEN                = CGUCON1^5;     /* xsi source from core clock ,gating enable */
            =3 SBIT TIMER_500K_EN          = CGUCON1^4;     /* timer working clock enable signal.1:enable;0:disable*/
            =3 SBIT TIMERCKEN              = CGUCON1^3;     /* timer clk enable*/
            =3 SBIT UARTCKEN               = CGUCON1^2;     /* uart clk enable*/
            =3 SBIT DEBUGCKEN              = CGUCON1^1;     /* debug(including i2c debug) clk enable */
            =3 SBIT SPI1CKEN               = CGUCON1^0;     /* spi1 clk enable*/
            =3 
            =3 /* CGUCON2 */
            =3 SBIT CLKEN_500K             = CGUCON2^7;     /* 500k clock gating enable*/
            =3 SBIT CNTCKEN                = CGUCON2^6;     /* cnt clk enable */
            =3 SBIT LED_32K_EN             = CGUCON2^5;     /* Led controller working clock*/
            =3 SBIT PROMCKEN               = CGUCON2^4;     /* prom clk enable */
            =3 SBIT PRAMCKEN               = CGUCON2^3;     /* pram clk enable */
            =3 SBIT AFEACKEN               = CGUCON2^2;     /* asm clock gating enbale */
            =3 SBIT LEDCKEN                = CGUCON2^1;     /* led clk enable */
            =3 SBIT RTC_32K_EN             = CGUCON2^0;     /* RTC Working clock*/
            =3 
            =3 /* CGUCON3 */
            =3 SBIT DMACKEN                = CGUCON3^7;     /* CAL‘À–– ±£¨cpu «∑ÒΩ¯»Îidle◊¥Ã¨°£0:≤ªΩ¯»Îidle◊¥Ã¨;1:Ω¯»Îid
             -le◊¥Ã¨*/
            =3 SBIT CALCKEN                = CGUCON3^6;     /* cal clock enable*/
            =3 SBIT AFECKEN                = CGUCON3^5;     /* Clock dynamic gating AFE controller */
            =3 SBIT CLOSE_500K_EN          = CGUCON3^4;     /* mcu standby close 500k enable signal.1:close*/
            =3 SBIT XBUSCKEN               = CGUCON3^3;     /* Xsi0 clk enable */
            =3 SBIT AFESCKEN               = CGUCON3^2;     /* asm configure clock */
            =3 SBIT CLOSE_TIMER_EN         = CGUCON3^1;     /* mcu standby close timer clock enable sigal.1:close*/
            =3 SBIT RTCCKEN                = CGUCON3^0;
            =3 
            =3 /* CGUCON4 */
            =3 SBIT SSCG_CKEN              = CGUCON4^7;   /* sscg clk enable */
            =3 SBIT WDT_500K_EN            = CGUCON4^6;   /* CLK_500Kµƒgating enable for wdt*/
            =3 SBIT PROBE32K_CKEN          = CGUCON4^4;   /* probe 32K clk enable */
            =3 SBIT PROBE48M_CKEN          = CGUCON4^3;   /* probe 48M clk enable */
            =3 /*CGUCON4[1:0] clk_div  use for select frequence for div clock source 0:1div;1:2div;2:4 div;3:8div*/
            =3 
            =3 
            =3 /* CGUCON5 for INT0 wake up */
            =3 SBIT GPIO_WKEN              = CGUCON5^7;  /* int0 wake up enable */
            =3 SBIT LCD_ESD_WKEN           = CGUCON5^6;  /* lcd esd wake up enble */
            =3 SBIT LCD_LVD_WKEN           = CGUCON5^5;  /* lcd lvd wake up enble */
            =3 SBIT LCD_TIM_WKEN           = CGUCON5^4;  /* lcd timing wake up enble */
            =3 SBIT LCD_RELOAD_FLASH_WKEN  = CGUCON5^3;  /* LCD reload flash wake up enable */
            =3 SBIT ASM_MON_WKEN           = CGUCON5^2;  /* scan monitor wake up enable */
            =3 SBIT I2C_MON_WKEN           = CGUCON5^1;  /* i2c monitor wake up enable */
            =3 SBIT RTC_CNT_WKEN           = CGUCON5^0;  /* RTC or CNT wake up enable */
            =3 
            =3 /* CGUCON6 */
            =3 SBIT CLK_WP                 = CGUCON6^0; /* Only CGU0 need */
            =3 
            =3 /* CGUCON7 */
            =3 /*CGUCON7[7:6] OSC_TEST_SEL            ‘⁄gpioø⁄≤‚¡øosc32k∫Õosc48m ±÷” ±µƒ—°‘Ò–≈∫≈.3:32k_from_1m;2:32k_dig
             -;1:32K , 0:48M */
            =3 /*CGUCON7[5:0] OSC_TEST_DIV            ¡ø≤‚OSC48MªÚ’ﬂ32k OSC ±÷” ±£¨∑÷∆µœ¥ ˛≈‰÷√*/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 29  

            =3 
            =3 SBIT SEL_32K_SRC            = CGUCON8^7; /* 32k ±÷”‘¥—°‘Ò.1:32k—°‘Ò≤˙…˙”⁄ƒ£ƒ‚osc,1:32k¿¥‘¥”⁄1m∑÷∆µ*/
            =3 /* [6:0] fre_noadj_set.  ˝◊÷32k ±÷” «∑Òµ˜’˚µƒ»›÷µ. 1m ±÷”,48m¿¥≤‚,»Áπ˚’˝∫√ «32k,∏ˆ ˝Œ™1536.µ´ «1m∑÷∆µø…ƒ‹
             -µ˜’˚≤ªµΩ’˝∫√32k.
            =3 “Ú¥Àª·¿¥ªÿ’µ¥.Œ™¡ÀΩ‚æˆ∏√Œ Ã‚,–Ë…Ë÷√∏√÷µ.»Ù…Ë÷√÷µŒ™15,∑÷∆µ≥ˆ¿¥µƒ ±÷”,±ªºÏ≤‚‘⁄[1536-15,1536+15]÷Æº‰,≤ªª·µ˜
             -’˚ */
            =3 
            =3 /*I2CCON*/
            =3 SBIT I2C_WKEN               = I2CCON^5;      /* 0:disable i2c wakeup;1:enable i2c wakeup */
            =3 SBIT I2C_DEGLITCH_EN        = I2CCON^4;      /* analog deglitch enable.0:disable;1:enable */
            =3 SBIT I2C_BUSY               = I2CCON^3;      /* i2c «∑Ò¥¶”⁄∑¢ÀÕ/Ω” ’◊¥Ã¨.0:idle;1:busy */
            =3 SBIT I2CTI                  = I2CCON^1;      /* hw set, sw clear */
            =3 SBIT I2CRI                  = I2CCON^0;      /* hw set, sw clear */
            =3 
            =3 /*I2CSTOP*/
            =3 SBIT I2C_WAIT               = I2CSTOP^7;     /* 0: Õ∑≈i2c scl;1:¿≠µÕi2c scl,¿©’πscl÷‹∆⁄;µ±slave√¶ ±≤ªƒ‹º∞
             - ±œÏ”¶ */
            =3 SBIT COMP_BPSS              = I2CSTOP^6;     /* 0: πƒ‹i2cµÿ÷∑∆•≈‰;1:»°œ˚µÿ÷∑∆•≈‰øÿ÷∆ */
            =3 SBIT ADDR_NACK              = I2CSTOP^5;     /* 0:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ack;1:∂‘i2cµÿ÷∑Ω◊∂Œ∑¢ÀÕnack */
            =3 SBIT DATA_NACK              = I2CSTOP^4;     /* 0:∂‘i2c ˝æ›Ω◊∂Œ∑¢ack;1:∂‘i2c ˝æ›Ω◊∂Œ∑¢nack */
            =3 SBIT I2C_WK_STOP            = I2CSTOP^2;     /* wakeupƒ£øÈΩ” ’µΩ’˝»∑µƒstop£¨write 0 to clear */
            =3 SBIT STOPID                 = I2CSTOP^1;     /* stop◊¥Ã¨◊¥Ã¨Œª,±Ì æµ±«∞ «wr stopªπ «rd stop.0: host write
             - stop 1: host read stop */
            =3 SBIT I2CSTP                 = I2CSTOP^0;     /* hw set when received right i2c stop statue,sw clear */
            =3 
            =3 /*I2CSEL*/
            =3 SBIT I2C_MON_CFG            = I2CSEL^4;   /* 0: i2cπ§◊˜£¨i2c monitor≤ªπ§◊˜; 1:i2c≤ªπ§◊˜,i2c_monitorπ§◊˜ *
             -/
            =3 
            =3 /* I2CStart*/
            =3 SBIT I2C_WK_BYTE4_FLAG      = I2C_STATE^3;
            =3 SBIT I2C_WK_BYTE3_FLAG      = I2C_STATE^2;
            =3 SBIT I2C_WK_BYTE2_FLAG      = I2C_STATE^1;
            =3 SBIT I2C_WK_BYTE1_FLAG      = I2C_STATE^0;
            =3 
            =3 /*IEN1*/
            =3 SBIT SWDT                   = IEN1^6;     /*Active watchdog timer.1:active;0:idle*/
            =3 
            =3 /* WDTCON */
            =3 SBIT WDTACT                 = WDTCON^2;   /* wdt work state.1:wdt in running mode; 0:wdt in stop mode */
            =3 SBIT WDTSTARTEN             = WDTCON^1;   /* when write 1,wdt start running,it is auto clear to 0 */
            =3 SBIT WDTSTOPEN              = WDTCON^0;   /* when write 1,wdt stop running,it is auto clear to 0 */
            =3 
            =3 /*WDTREL*/
            =3 SBIT WDT_PRESCALE           = WDTREL^7;  /*Reload value for high-byte watchdog.1:√ø384∏ˆcycleº∆ ˝“ª¥Œ;0:√
             -ø24∏ˆcycleº∆ ˝“ª¥Œ*/
            =3 /*WDTREL[6:0]                   reload value for the high_seven_byte of the watchdog timer when a refresh
             - is triggered.*/
            =3 
            =3 /* TCON */
            =3 SBIT TF1 = TCON^7;               /* timer1 overflow flag£∫
            =3                                    µ±timer1 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
            =3 SBIT TR1 = TCON^6;               /* timer1µƒøÿ÷∆Œª°£
            =3                                    °∞1°±£∫∆∂Øtimer1,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer1÷Æ«∞±ÿ–Î“™∞—timer1…Ë
             -∂®∫√£© */
            =3 SBIT TF0 = TCON^5;               /* timer0 overflow flag£∫
            =3                                     µ±timer0 overflows ±ª·÷√1£¨÷–∂œœÏ”¶ ±”≤º˛ª·«Â¡„ */
            =3 SBIT TR0 = TCON^4;               /* timer0µƒøÿ÷∆Œª°£
            =3                                    °∞1°±£∫∆∂Øtimer0,”≤º˛◊‘∂Ø«Â¡„£®◊¢“‚£∫‘⁄∆∂Øtimer0÷Æ«∞±ÿ–Î“™∞—timer0…Ë
             -∂®∫√£© */
            =3 SBIT IF1 = TCON^3;               /* external interrupt 1 edge flag,hardware controlled
            =3                                     set when external interrupt 1 is detected
            =3                                     cleared when interrupt is processed */
            =3 SBIT IT1 = TCON^2;               /* external interrupt 1 signal type control bit
            =3                                     set to specify external interrupt 1 as falling edge triggered
            =3                                     cleared to specify external interrupt 1 as low level triggered */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 30  

            =3 SBIT IF0 = TCON^1;               /* external interrupt 0 edge flag , hardware controlled
            =3                                     set when external interrupt 0 is detected
            =3                                     cleared when interrupt is processed */
            =3 SBIT IT0 = TCON^0;               /* external interrupt 0 signal type control bit.
            =3                                     Set to specify External interrupt 0 as falling edge triggered.
            =3                                     Cleared to specify External interrupt 0 as low level triggered. */
            =3 /*TMOD*/
            =3 SBIT GATE1              = TMOD^7;  /*timer 1 gate*/
            =3 SBIT GATE0              = TMOD^3;  /*timer0 gate*/
            =3 /*TMOD[5:4]             time1 mode select. 00:timer stop; 01:16 bit counter single mode; 10:16 bit counte
             -r repeat mode; 11:half timer1‘›Õ£π§◊˜,»Áπ˚∏¥‘≠µΩ÷Æ«∞µƒƒ£ Ω,timer1Ω´ºÃ–¯π§◊˜*/
            =3 /*TMOD[1:0]             time0 mode select.π¶ƒ‹Õ¨…œ*/
            =3 
            =3 /*TDIV*/
            =3 SBIT INTSEL1            = TDIV^7;   /*timer1÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr1«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
            =3 SBIT INTSEL0            = TDIV^6;   /*timer0÷–∂œ«Â≥˝—°‘Ò.1:»Ìº˛«Â≥˝,–¥intclr0«Â≥˝timer1÷–∂œ;0:”≤º˛«Â≥˝*/
            =3 SBIT INTCLR1            = TDIV^5;   /*»Ìº˛«Â≥˝ ±,INTCLR1–¥1 ±«Â≥˝timer1÷–∂œ*/
            =3 SBIT INTCLR0            = TDIV^4;   /*»Ìº˛«Â≥˝ ±,INTCLR0–¥1 ±«Â≥˝timer1÷–∂œ*/
            =3 
            =3 /* CNTCON */
            =3 SBIT CNT_START          = CNTCON^7;   /* 1: ∆Ù∂ØCNT; 0: º∆ ˝÷’÷π(ø…“‘∂¡»°º∆ ˝÷µ) */
            =3 SBIT CNT_CLEAR          = CNTCON^4;   /* «Â≥˝CNTº∆ ˝∆˜÷µµΩ0 */
            =3 SBIT CNT_WKEN           = CNTCON^3;   /* CNTªΩ–— πƒ‹: 1:¥Úø™ πƒ‹ 0:πÿ±’ªΩ–— πƒ‹ */
            =3 
            =3 /*LED_EN*/
            =3 SBIT LED_5_EN           = LED_EN^5;
            =3 SBIT LED_4_EN           = LED_EN^4;
            =3 SBIT LED_3_EN           = LED_EN^3;
            =3 SBIT LED_2_EN           = LED_EN^2;
            =3 SBIT LED_1_EN           = LED_EN^1;
            =3 SBIT LED_0_EN           = LED_EN^0;
            =3 
            =3 /*MEMBIST_EN1*/
            =3 SBIT DRAM2_BIST_EN      = MEMBIST_EN1^7;
            =3 SBIT DRAM1_BIST_EN      = MEMBIST_EN1^6;
            =3 SBIT DRAM0_BIST_EN      = MEMBIST_EN1^5;
            =3 SBIT PRAM4_BIST_EN      = MEMBIST_EN1^4;
            =3 SBIT PRAM3_BIST_EN      = MEMBIST_EN1^3;
            =3 SBIT PRAM2_BIST_EN      = MEMBIST_EN1^2;
            =3 SBIT PRAM1_BIST_EN      = MEMBIST_EN1^1;
            =3 SBIT PRAM0_BIST_EN      = MEMBIST_EN1^0;
            =3 
            =3 /*MEMBIST_EN2*/
            =3 SBIT AFERAM_R_BIST_EN   = MEMBIST_EN2^3;
            =3 SBIT AFERAM_L_BIST_EN   = MEMBIST_EN2^2;
            =3 SBIT ARAM_BIST_EN       = MEMBIST_EN2^1;
            =3 SBIT PROM_BIST_EN       = MEMBIST_EN2^0;
            =3 
            =3 /*MEMBIST_FINISH1*/
            =3 SBIT DRAM2_FINISH       = MEMBIST_FINISH1^7;
            =3 SBIT DRAM1_FINISH       = MEMBIST_FINISH1^6;
            =3 SBIT DRAM0_FINISH       = MEMBIST_FINISH1^5;
            =3 SBIT PRAM4_FINISH       = MEMBIST_FINISH1^4;
            =3 SBIT PRAM3_FINISH       = MEMBIST_FINISH1^3;
            =3 SBIT PRAM2_FINISH       = MEMBIST_FINISH1^2;
            =3 SBIT PRAM1_FINISH       = MEMBIST_FINISH1^1;
            =3 SBIT PRAM0_FINISH       = MEMBIST_FINISH1^0;
            =3 
            =3 /*MEMBIST_FINISH2*/
            =3 SBIT RPTRAM_R_FINISH    = MEMBIST_FINISH2^7;
            =3 SBIT RPTRAM_L_FINISH    = MEMBIST_FINISH2^6;
            =3 SBIT ACCRAM_R_FINISH    = MEMBIST_FINISH2^5;
            =3 SBIT ACCRAM_L_FINISH    = MEMBIST_FINISH2^4;
            =3 SBIT TABRAM_R_FINISH    = MEMBIST_FINISH2^3;
            =3 SBIT TABRAM_L_FINISH    = MEMBIST_FINISH2^2;
            =3 SBIT ARAM_FINISH        = MEMBIST_FINISH2^1;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 31  

            =3 SBIT PROM_FINISH        = MEMBIST_FINISH2^0;
            =3 
            =3 /*MEMBIST_FAIL1*/
            =3 SBIT DRAM2_FAIL         = MEMBIST_FAIL1^7;
            =3 SBIT DRAM1_FAIL         = MEMBIST_FAIL1^6;
            =3 SBIT DRAM0_FAIL         = MEMBIST_FAIL1^5;
            =3 SBIT PRAM4_FAIL         = MEMBIST_FAIL1^4;
            =3 SBIT PRAM3_FAIL         = MEMBIST_FAIL1^3;
            =3 SBIT PRAM2_FAIL         = MEMBIST_FAIL1^2;
            =3 SBIT PRAM1_FAIL         = MEMBIST_FAIL1^1;
            =3 SBIT PRAM0_FAIL         = MEMBIST_FAIL1^0;
            =3 
            =3 /*MEMBIST_FAIL2*/
            =3 SBIT RPTRAM_R_FAIL      = MEMBIST_FAIL2^7;
            =3 SBIT RPTRAM_L_FAIL      = MEMBIST_FAIL2^6;
            =3 SBIT ACCRAM_R_FAIL      = MEMBIST_FAIL2^5;
            =3 SBIT ACCRAM_L_FAIL      = MEMBIST_FAIL2^4;
            =3 SBIT TABRAM_R_FAIL      = MEMBIST_FAIL2^3;
            =3 SBIT TABRAM_L_FAIL      = MEMBIST_FAIL2^2;
            =3 SBIT ARAM_FAIL          = MEMBIST_FAIL2^1;
            =3 SBIT PROM_FAIL          = MEMBIST_FAIL2^0;
            =3 
            =3 /*MEMBIST_ERRMAP1*/
            =3 SBIT DRAM2_ERRMAP       = MEMBIST_ERRMAP1^7;
            =3 SBIT DRAM1_ERRMAP       = MEMBIST_ERRMAP1^6;
            =3 SBIT DRAM0_ERRMAP       = MEMBIST_ERRMAP1^5;
            =3 SBIT PRAM4_ERRMAP       = MEMBIST_ERRMAP1^4;
            =3 SBIT PRAM3_ERRMAP       = MEMBIST_ERRMAP1^3;
            =3 SBIT PRAM2_ERRMAP       = MEMBIST_ERRMAP1^2;
            =3 SBIT PRAM1_ERRMAP       = MEMBIST_ERRMAP1^1;
            =3 SBIT PRAM0_ERRMAP       = MEMBIST_ERRMAP1^0;
            =3 
            =3 /*MEMBIST_ERRMAP2*/
            =3 SBIT RPTRAM_R_ERRMAP    = MEMBIST_ERRMAP2^7;
            =3 SBIT RPTRAM_L_ERRMAP    = MEMBIST_ERRMAP2^6;
            =3 SBIT ACCRAM_R_ERRMAP    = MEMBIST_ERRMAP2^5;
            =3 SBIT ACCRAM_L_ERRMAP    = MEMBIST_ERRMAP2^4;
            =3 SBIT TABRAM_R_ERRMAP    = MEMBIST_ERRMAP2^3;
            =3 SBIT TABRAM_L_ERRMAP    = MEMBIST_ERRMAP2^2;
            =3 SBIT ARAM_ERRMAP        = MEMBIST_ERRMAP2^1;
            =3 SBIT PROM_ERRMAP        = MEMBIST_ERRMAP2^0;
            =3 
            =3 /* AIF */
            =3 SBIT WDT_INT_IF         = AIF^4;      /* wdt int«Î«Û–≈∫≈ */
            =3 SBIT SPI0_INT_IF        = AIF^3;      /* spi0 int«Î«Û–≈∫≈ */
            =3 SBIT SPI1_INT_IF        = AIF^2;      /* spi1 int«Î«Û–≈∫≈ */
            =3 SBIT ASM_INT_IF         = AIF^1;      /* asm int«Î«Û–≈∫≈ */
            =3 SBIT I2C_STOP_IF        = AIF^0;      /* i2c stop int«Î«Û–≈∫≈ */
            =3 
            =3 /* AIE */
            =3 SBIT WDT_INT_EI         = AIE^4;    /* wdt int enable */
            =3 SBIT SPI0_EI            = AIE^3;    /* spi0 int enable*/
            =3 SBIT SPI1_EI            = AIE^2;    /* spi1 int enable */
            =3 SBIT ASM_EI             = AIE^1;    /* Asm int enable */
            =3 SBIT I2C_STOP_EI        = AIE^0;    /* i2c stop int enable */  
            =3 
            =3 
            =3 /* IEN0 */
            =3 SBIT EA                 = IEN0^7;  /* Global Interrupt Enable */
            =3 SBIT EC                 = IEN0^6;  /* uart */
            =3 SBIT ET2                = IEN0^5;  /* I2C */
            =3 SBIT ES                 = IEN0^4;  /* LCD TIMING int */
            =3 SBIT ET1                = IEN0^3;  /* timer1 */
            =3 SBIT EX1                = IEN0^2;  /* RTC or CNT */
            =3 SBIT ET0                = IEN0^1;  /* timer0 */
            =3 SBIT EX0                = IEN0^0;  /* int0 wake up */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 32  

            =3 
            =3 /* interruption priority */
            =3 SBIT IPHX0              = IPH0^0;   /* Int0 */
            =3 SBIT IPLX0              = IPL0^0;
            =3 SBIT IPHT0              = IPH0^1;   /* Time0 */
            =3 SBIT IPLT0              = IPL0^1;
            =3 SBIT IPHX1              = IPH0^2;   /* Int1 */
            =3 SBIT IPLX1              = IPL0^2;
            =3 SBIT IPHT1              = IPH0^3;   /* Time1 */
            =3 SBIT IPLT1              = IPL0^3;
            =3 SBIT LCD_IPH            = IPH0^4;   /* LCD int run */
            =3 SBIT LCD_IPL            = IPL0^4;
            =3 SBIT I2C_IPH            = IPH0^5;   /* I2C */
            =3 SBIT I2C_IPL            = IPL0^5;
            =3 SBIT Uart_IPH           = IPH0^6;   /* Uart */
            =3 SBIT Uart_IPL           = IPL0^6;
            =3 SBIT I2C_STOP_IPH       = AIPH^0;   /* I2C Stop */
            =3 SBIT I2C_STOP_IPL       = AIPL^0;
            =3 SBIT ASM_IPH            = AIPH^1;   /* ASM */
            =3 SBIT ASM_IPL            = AIPL^1;   
            =3 SBIT SPI1_IPH           = AIPH^2;   /* SPI1 */
            =3 SBIT SPI1_IPL           = AIPL^2;
            =3 SBIT SPI0_IPH           = AIPH^3;   /* SPI0 */
            =3 SBIT SPI0_IPL           = AIPL^3;
            =3 SBIT WDT_IPH            = AIPH^4;   /* wdt */
            =3 SBIT WDT_IPL            = AIPL^4;
            =3 
            =3 /* P0 */
            =3 SBIT P0_7               = P0BUF^7;
            =3 SBIT P0_6               = P0BUF^6;
            =3 SBIT P0_5               = P0BUF^5;
            =3 SBIT P0_4               = P0BUF^4;
            =3 SBIT P0_3               = P0BUF^3;
            =3 SBIT P0_2               = P0BUF^2;
            =3 SBIT P0_1               = P0BUF^1;
            =3 SBIT P0_0               = P0BUF^0;
            =3 
            =3 /*p1*/
            =3 SBIT P1_7               = P1BUF^7;
            =3 SBIT P1_6               = P1BUF^6;
            =3 SBIT P1_5               = P1BUF^5;
            =3 SBIT P1_4               = P1BUF^4;
            =3 SBIT P1_3               = P1BUF^3;
            =3 SBIT P1_2               = P1BUF^2;
            =3 SBIT P1_1               = P1BUF^1;
            =3 SBIT P1_0               = P1BUF^0;
            =3 
            =3 
            =3 /* GPIO pin definition */
            =3 SBIT Flash_WP           = P1BUF^7;
            =3 SBIT Flash_HOLD         = P1BUF^4;
            =3 
            =3 SBIT Flash_pad          = P1BUF^6;
            =3 SBIT Flash_DIR          = P1DIR^6;
            =3 SBIT Flash_GPIO         = P1MOD^6;
            =3 SBIT Flash_DM           = P1SEL^6;
            =3 
            =3 SBIT INTOUT             = P0BUF^6;
            =3 SBIT INTOUT_DIR         = P0DIR^6;
            =3 SBIT GPIO_INTOUT        = P0MOD^6;
            =3 SBIT INTOUT_DM          = P0SEL^6;
            =3 
            =3 SBIT GPIO3              = P0BUF^7;
            =3 SBIT GPIO3_DIR          = P0DIR^7;
            =3 SBIT GPIO3_INTOUT       = P0MOD^7;
            =3 SBIT GPIO3_DM           = P0SEL^7;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 33  

            =3 
            =3 SBIT GPIO4              = P1BUF^5;
            =3 SBIT GPIO4_DIR          = P1DIR^5;
            =3 SBIT GPIO4_INTOUT       = P1MOD^5;
            =3 SBIT GPIO4_DM           = P1SEL^5;
            =3 
            =3 /* mcu clk config */
            =3 #define MAIN_CLK  0 //0:48M; 1:24M   
            =3 /*******************************************************************************
            =3  * 3.Global structures, unions and enumerations using typedef
            =3  *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3  * 4.Global variable extern declarations
            =3  *******************************************************************************/
            =3 
            =3 
            =3 /******************************************************************************
            =3 *
            =3 * App Info data section
            =3 ******************************************************************************/
            =3 // app ¥Ê‘⁄flashµƒŒÔ¿Ìµÿ÷∑
            =3 #define CODE_START_ADDR       0x1000
            =3 #define CODE_VERIF_ADDR       (CODE_START_ADDR+APP_VERIF_ADDR)
            =3 
            =3 // app ¥Ê‘⁄pramµƒŒÔ¿Ìµÿ÷∑
            =3 #define APP_ADDR_START        0x0000  // app start addr
            =3 #define APP_START_OPCODE      0x02
            =3 
            =3 #define APP_VERIF_ADDR        0x100   // Verification Info
            =3 #define APP_VERIF_LEN         0x20
            =3 #define APP_VERIF_CODE_LEN    0x04    //app÷–code≥§∂»–≈œ¢
            =3 
            =3 typedef enum
            =3 {
            =3     APP_LEN      = 0x00,
            =3     APP_NE_LEN   = 0x02,
            =3     P1_ECC_H     = 0x04,
            =3     P1_ECC_L     = 0x05,
            =3     P1_ECC_NE_H  = 0x06,
            =3     P1_ECC_NE_L  = 0x07,
            =3     P2_ECC_H     = 0x08,
            =3     P2_ECC_L     = 0x09,
            =3     P2_ECC_NE_H  = 0x0A,
            =3     P2_ECC_NE_L  = 0x0B,
            =3     APP_LEN_H    = 0x12,
            =3     APP_LEN_H_NE = 0x14,
            =3 } ENUM_APP_INFO;
            =3 
            =3 // App—È÷§–≈œ¢
            =3 #define ADDR_APP_LEN          (APP_VERIF_ADDR+APP_LEN)
            =3 #define ADDR_APP_NE_LEN       (APP_VERIF_ADDR+APP_NE_LEN)
            =3 #define ADDR_PART1_ECC        (APP_VERIF_ADDR+P1_ECC_H)
            =3 #define ADDR_PART1_ECC_NE     (APP_VERIF_ADDR+P1_ECC_NE_H)
            =3 #define ADDR_PART2_ECC        (APP_VERIF_ADDR+P2_ECC_H)
            =3 #define ADDR_PART2_ECC_NE     (APP_VERIF_ADDR+P2_ECC_NE_H)
            =3 #define ADDR_APP_LEN_H        (APP_VERIF_ADDR+APP_LEN_H)
            =3 #define ADDR_APP_LEN_H_NE     (APP_VERIF_ADDR+APP_LEN_H_NE)
            =3 
            =3 #define APP_ADDR_PART1_START  0x0000
            =3 #define APP_ADDR_PART1_LEN    ((APP_VERIF_ADDR)-(APP_ADDR_PART1_START))
            =3 #define APP_ADDR_PART2_START  ((APP_VERIF_ADDR)+(APP_VERIF_LEN)+(FW_CFG_TOTAL_SIZE))
            =3 
            =3 #define FLASH_APP_INFO        (APP_VERIF_ADDR + CODE_START_ADDR)
            =3 /******************************************************************************
            =3 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 34  

            =3 * FW config data section
            =3 *******************************************************************************
            =3 /
            =3 /* FW≈‰÷√«¯”Ú≥§∂» */
            =3 #define FW_CFG_TOTAL_SIZE          0x80
            =3 #define FW_CFG_INFO_SIZE           0x0E
            =3 
            =3 /* FW≈‰÷√«¯”Ú∆´“∆¡ø */
            =3 typedef enum
            =3 {
            =3     FW_CFG_I2C_OFFSET              = 0x00,     // master I2C  addr
            =3     FW_CFG_I2C_NE_OFFSET           = 0x01,     // ~master I2C addr
            =3     FW_CFG_IOVOLTAGE_OFFSET        = 0x02,     // Io Voltage 
            =3     FW_CFG_IOVOLTAGE_NE_OFFSET     = 0x03,     // ~Io Voltage
            =3     FW_CFG_VENDOR_OFFSET           = 0x04,     // Vendor 
            =3     FW_CFG_VENDOR_NE_OFFSET        = 0x05,     // ~Vendor
            =3     FW_CFG_SPI_CLK_OFFSET          = 0x06,     // SPI Clk
            =3     FW_CFG_SPI_CLK_NE_OFFSET       = 0x07,     // ~SPI Clk
            =3     FW_CFG_SYS_CLK_OFFSET          = 0x08,     // Sys Clk
            =3     FW_CFG_SYS_CLK_NE_OFFSET       = 0x09,     // ~Sys Clk 
            =3     FW_CFG_XBUS_CLK_OFFSET         = 0x0A,     // LCD xbus clk
            =3     FW_CFG_XBUS_CLK_NE_OFFSET      = 0x0B,     // ~LCD xbus clk
            =3     FW_CFG_SPI_IOMODE_OFFSET       = 0x0C,     // spi iomode
            =3     FW_CFG_SPI_IOMODE_NE_OFFSET    = 0x0D,     // ~spi iomode
            =3 } ENUM_FW_CFG_OFFSET;
            =3 
            =3 /* FW≈‰÷√«¯”ÚFlashŒª÷√ */
            =3 typedef enum
            =3 {
            =3     FW_CFG_START_FLASH_ADDR        = 0x0F80,
            =3     FW_CFG_I2C_FLASH_ADDR          = (FW_CFG_START_FLASH_ADDR+
            =3 FW_CFG_I2C_OFFSET),
            =3 } ENUM_FW_CFG_FLASH_ADDR;
            =3 
            =3 /* FW≈‰÷√±∏∑›«¯”ÚFlashŒª÷√ */
            =3 typedef enum
            =3 {
            =3     FW_CFG_BKUP_START_FLASH_ADDR   = 0x1120,
            =3     FW_CFG_BKUP_I2C_FLASH_ADDR     = (FW_CFG_BKUP_START_FLASH_ADDR+FW_CFG_I2C_OFFSET),
            =3 } ENUM_FW_CFG_BKUP_FLASH_ADDR;
            =3 
            =3 /* LCD OTP≈‰÷√«¯”ÚŒª÷√ */
            =3 typedef enum
            =3 {
            =3     LCD_OTP_REG_ADDR               = 0x9866,
            =3     LCD_OTP_MASTER_I2C_ADDR        = (LCD_OTP_REG_ADDR+FW_CFG_I2C_OFFSET),
            =3     LCD_OTP_MASTER_I2C_NE_ADDR,
            =3     LCD_OTP_SPI_CLK_ADDR           = (LCD_OTP_REG_ADDR+FW_CFG_SPI_CLK_OFFSET),
            =3     LCD_OTP_SPI_CLK_NE_ADDR,
            =3     LCD_OTP_SYS_CLK_ADDR,
            =3     LCD_OTP_SYS_CLK_NE_ADDR,
            =3     LCD_OTP_XBUS_CLK_ADDR,
            =3     LCD_OTP_XBUS_CLK_NE_ADDR,
            =3     LCD_OTP_SPI_IOMODE_ADDR,
            =3     LCD_OTP_SPI_IOMODE_NE_ADDR,
            =3 } ENUM_LCD_OTP_ADDR;
            =3 
            =3 #define REG8(n)  (*((volatile UINT8  *)(n)))
            =3 #define REG16(n) (*((volatile UINT16 *)(n)))
            =3 #define REG32(n) (*((volatile UINT32 *)(n)))
            =3 
            =3 #define APP_DATA_MAX         0x11800
            =3 #define RST_VALUE_UPGRADE    0x6B  /* Flag of upgrade according to Romboot */
            =3 
            =3 #define PRAM_ADDR8(n)    (*((UINT8 far *)((UINT32)0xFEE800 + (n))))
            =3 #define PRAM2_ADDR8(n)   (*((UINT8 far *)((UINT32)0xFF4000 + (n))))
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 35  

            =3 
            =3 #define PRAM_PTR8(n)     ((volatile UINT8 far *)((UINT32)0xFEE800 + (n)))
            =3 #define PRAM2_PTR8(n)    ((volatile UINT8 far *)((UINT32)0xFF4000 + (n)))
            =3 
            =3 #define PROM_ADDR8(n)     (*((UINT8 far *)(0xFD0000 + n)))
            =3 #define DRAM_ADDR8(n)     (*((UINT8 *)(0x0000 + n)))
            =3 
            =3 
            =3 #define PRAM_ADDR16(n)     (*((UINT16 far *)(0xFEE800 + n)))
            =3 
            =3 #define PROM_ADDR16(n)     (*((UINT16 far *)((UINT32)0xFD0000 + n)))
            =3 #define DRAM_ADDR16(n)     (*((UINT16 *)((UINT32)0x0000 + n)))
            =3 
            =3 #define HOLD            while (1)
            =3 /*******************************************************************************
            =3  * Global function prototypes
            =3  *******************************************************************************/
            =3 
            =3 #endif
   25       =2 
   26       =2 /*******************************************************************************
   27       =2 * Global constant and macro definitions using #define
   28       =2 *******************************************************************************/
   29       =2 #define ARAM_DATA_BASE_ADDR              0xA000
   30       =2 #define SPI1_REG_BASE_ADDR               0xB220
   31       =2 /* SPI0 reg Start Addr */
   32       =2 #define SPI0_REG_BASE_ADDR               0xB200
   33       =2 
   34       =2 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
   35       =2 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
   36       =2 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
   37       =2 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
   38       =2 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
   39       =2 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
   40       =2 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
   41       =2 /* XSI reg øÿ÷∆«¯ */
   42       =2 
   43       =2 /* XSI0 reg start addr */
   44       =2 #define XSI0_REG_BASE_ADDR     0xB400
   45       =2 
   46       =2 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
   47       =2 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
   48       =2 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
   49       =2 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
   50       =2 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
   51       =2 
   52       =2 /* XSI1 reg start addr */
   53       =2 #define XSI1_REG_BASE_ADDR     0xB800
   54       =2 
   55       =2 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
   56       =2 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
   57       =2 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
   58       =2 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
   59       =2 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
   60       =2 
   61       =2 /* XBUS reg start addr */
   62       =2 #define XBUS_REG_BASE_ADDR     0xBC00
   63       =2 
   64       =2 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
   65       =2 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
   66       =2 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
   67       =2 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
   68       =2 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
   69       =2 
   70       =2 /* reload dma base addr */
   71       =2 //#define RELOAD_DMA_START_ADDR  0x9D00
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 36  

   72       =2 /******************************************************************************/
   73       =2 /******************************************************************************/
   74       =2 /* CAL reg Start Addr */
   75       =2 #define CAL_REG_BASE_ADDR       0xB000
   76       =2 
   77       =2 /* ASM reg Start Addr */
   78       =2 #define ASM_REG_BASE_ADDR       0xB100
   79       =2 
   80       =2 
   81       =2 /*******************************************************************************
   82       =2 * Global structures, unions and enumerations using typedef
   83       =2 *******************************************************************************/
   84       =2 /*************************************************************/
   85       =2 /* XSI reg */
   86       =2 typedef struct
   87       =2 {
   88       =2     UINT16 Wdata;        // (0x00<<1)
   89       =2     UINT16 Rdata;        // (0x01<<1)
   90       =2     UINT16 Clksel;       // (0x02<<1)
   91       =2     UINT16 Stop;         // (0x03<<1)
   92       =2     UINT16 Tx_int;       // (0x04<<1)
   93       =2 } ST_XSIRegisters;
   94       =2 
   95       =2 typedef union
   96       =2 {
   97       =2     ST_XSIRegisters reg;
   98       =2     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
   99       =2 } Union_XSIReg;
  100       =2 
  101       =2 /*************************************************************/
  102       =2 // cal
  103       =2 typedef struct
  104       =2 {
  105       =2     UINT16 rCmd;           // (0x00<<1)
  106       =2     UINT16 rDmaLen;        // (0x01<<1)
  107       =2     UINT16 rS1Addr;        // (0x02<<1)
  108       =2     UINT16 rS2Addr;        // (0x03<<1)
  109       =2     UINT16 rOutAddr;       // (0x04<<1)
  110       =2     UINT16 rPar;           // (0x05<<1)
  111       =2     UINT16 rSize;          // (0x06<<1)
  112       =2     UINT16 rPThd;          // (0x07<<1)
  113       =2     UINT16 rNThd;          // (0x08<<1)
  114       =2     UINT16 rAThd;          // (0x09<<1)
  115       =2     UINT16 rDmask;         // (0x0A<<1)
  116       =2     UINT16 rPaCnt;         // (0x0B<<1)
  117       =2     UINT16 rNaCnt;         // (0x0C<<1)
  118       =2     UINT16 rPsCnt;         // (0x0D<<1)
  119       =2     UINT16 rNsCnt;         // (0x0E<<1)
  120       =2     UINT16 rMaxV;          // (0x0F<<1)
  121       =2     UINT16 rMaxPos;        // (0x10<<1)
  122       =2     UINT16 rMinV;          // (0x11<<1)
  123       =2     UINT16 rMinPos;        // (0x12<<1)
  124       =2     UINT16 rID0;           // (0x13<<1)
  125       =2     UINT16 rID1;           // (0x14<<1)
  126       =2     UINT16 rID2;           // (0x15<<1)
  127       =2     UINT16 rCrc;           // (0x16<<1)
  128       =2     UINT16 rChk;           // (0x17<<1)
  129       =2     UINT16 rNaThd;         // (0x18<<1)
  130       =2     UINT16 rTxRxNum;       // (0x19<<1)
  131       =2     UINT16 rDivShift;      // (0x1a<<1)
  132       =2     UINT16 rSubabsMax;     // (0x1b<<1)
  133       =2     UINT16 rInt;           // (0x1c<<1)
  134       =2     UINT16 rCntNum;        // (0x1d<<1)
  135       =2     UINT16 rDmaskA;        // (0x1e<<1)
  136       =2     UINT16 rTxRxNumAm;     // (0x1f<<1)
  137       =2     UINT16 rTxRxNumAs;     // (0x20<<1)
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 37  

  138       =2     UINT16 rSizeAm;        // (0x21<<1)
  139       =2     UINT16 rSizeAs;        // (0x22<<1)
  140       =2     UINT16 rS1AddrA;       // (0x23<<1)
  141       =2     UINT16 rS2AddrA;       // (0x24<<1)
  142       =2     UINT16 rOutAddrA;      // (0x25<<1)
  143       =2     UINT16 rSel;           // (0x26<<1)
  144       =2 } ST_CalRegisters;
  145       =2 
  146       =2 typedef union
  147       =2 {
  148       =2     ST_CalRegisters reg;
  149       =2     UINT16 offset[sizeof(ST_CalRegisters)>>1];
  150       =2 } Union_CalReg;
  151       =2 
  152       =2 /*************************************************************/
  153       =2 /*XBUS reg*/
  154       =2 typedef struct
  155       =2 {  
  156       =2     UINT16 rdata_lo_byte;
  157       =2     UINT16 rdata_ho_byte;
  158       =2     UINT16 lcd_regfile_ctrl;
  159       =2     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
  160       =2     UINT16 xbus_rld_data;//reload_data
  161       =2 }ST_LcdWrapRegisters;
  162       =2 
  163       =2 typedef union
  164       =2 {
  165       =2     ST_LcdWrapRegisters reg;
  166       =2     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
  167       =2 }Union_LcdReg;
  168       =2 
  169       =2 /*************************************************************/
  170       =2 /*SPI0_DMA reg*/
  171       =2 typedef struct
  172       =2 {
  173       =2     UINT16 dma_ctrl;
  174       =2     UINT16 timeout_ctrl;
  175       =2     UINT16 addr_h;
  176       =2     UINT16 start_addr_l;
  177       =2     UINT16 end_addr_l;
  178       =2     UINT16 dma_crc;
  179       =2     UINT16 dma_srcr;
  180       =2     
  181       =2 }ST_Spi0DmaRegisters;
  182       =2 
  183       =2 /*SPI1_DMA reg*/
  184       =2 typedef struct
  185       =2 {
  186       =2     UINT16 dma_ctrl;
  187       =2     UINT16 timeout_ctrl;
  188       =2     UINT16 addr_h;
  189       =2     UINT16 start_addr_l;
  190       =2     UINT16 end_addr_l;
  191       =2     UINT16 dma_crc;
  192       =2     UINT16 dma_srcr;
  193       =2     
  194       =2 }ST_Spi1DmaRegisters;
  195       =2 
  196       =2 typedef union
  197       =2 {
  198       =2     ST_Spi0DmaRegisters reg;
  199       =2     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
  200       =2 }Union_Spi0Reg;
  201       =2 
  202       =2 /*************************************************************/
  203       =2 /* ASM reg */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 38  

  204       =2 typedef struct
  205       =2 {
  206       =2     UINT16 usAsmIntFlag0;         // 00  RO
  207       =2     UINT16 usAsmIntFlag1;         // 01  RO
  208       =2     UINT16 usAsmIntClr0;          // 02  WO
  209       =2     UINT16 usAsmIntClr1;          // 03  WO
  210       =2     UINT16 usAsmIntEn0;           // 04
  211       =2     UINT16 usAsmIntEn1;           // 05
  212       =2     UINT16 usAsmIntWakeEn0;       // 06
  213       =2     UINT16 usAsmIntWakeEn1;       // 07
  214       =2     UINT16 usAsmIntSta;           // 08  RO
  215       =2     UINT16 usAsmScanSta0;         // 09  RO
  216       =2     UINT16 usAsmScanSta1;         // 10  RO
  217       =2     UINT16 usAsmScanSta2;         // 11  RO
  218       =2     UINT16 usAsmScanSta3;         // 12  RO
  219       =2     UINT16 usAsmScanCtrl;         // 13  WO
  220       =2     UINT16 usAsmScanCfg0;         // 14
  221       =2     UINT16 usAsmScanCfg1;         // 15
  222       =2     UINT16 usAsmTpFrameCfg0;      // 16
  223       =2     UINT16 usAsmTpFrameCfg1;      // 17
  224       =2     UINT16 usAsmTpFrameCfg2;      // 18
  225       =2     UINT16 usAsmTpFrameCfg3;      // 19
  226       =2     UINT16 usAsmScanDly;          // 20
  227       =2     UINT16 usAsmStbMaseL;         // 21
  228       =2     UINT16 usAsmStbMaseH;         // 22  
  229       =2     UINT16 usAsmAramBaseL;        // 23
  230       =2     UINT16 usAsmAramBaseR;        // 24
  231       =2     UINT16 usAsmAramBaseKey;      // 25    
  232       =2     UINT16 usAsmAramCBL;          // 26
  233       =2     UINT16 usAsmAramCBR;          // 27
  234       =2     UINT16 usAsmAramCBKey;        // 28
  235       =2     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
  236       =2     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
  237       =2     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
  238       =2     UINT16 usAsmHwMonCrtl0;       // 32
  239       =2     UINT16 usAsmHwMonCtrl1;       // 33
  240       =2     UINT16 usAsmHwMonCfg0;        // 34
  241       =2     UINT16 usAsmHwMonCfg1;        // 35
  242       =2     UINT16 usAsmHwMonCfg2;        // 36
  243       =2     UINT16 usAsmHwMonCfg3;        // 37
  244       =2     UINT16 usAsmHwMonCfg4;        // 38
  245       =2     UINT16 usAsmHwMonTimer;       // 39
  246       =2     UINT16 usAsmVreshCfgLcdon;    // 40
  247       =2 } ST_AsmRegisters;
  248       =2 
  249       =2 typedef union
  250       =2 {
  251       =2     ST_AsmRegisters reg;
  252       =2     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
  253       =2 } Union_AsmReg;
  254       =2 
  255       =2 
  256       =2 /*******************************************************************************/
  257       =2 /* AFE reg */
  258       =2 #if 0
            =2 typedef struct
            =2 {
            =2     UINT16 usAfeAsmCfg;              // 0x00
            =2     UINT16 usAfePanelCfg0;           // 0x01
            =2     UINT16 usAfePanelCfg1;           // 0x02
            =2     UINT16 usAfePanelCfg2;           // 0x03
            =2     UINT16 usAfeSysCfg0;             // 0x04
            =2     UINT16 usAfeSysCfg1;             // 0x05
            =2     UINT16 usAfeScanCfg0;            // 0x06
            =2     UINT16 usAfeScanCfg1;            // 0x07
            =2     UINT16 usAfeDummyScanCfg;        // 0x08
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 39  

            =2     UINT16 usAfeBaseTrackCfg;        // 0x09
            =2     UINT16 usAfeAcc_Offset;          // 0x0A
            =2     UINT16 usAfeTpMonTh;             // 0x0B
            =2     UINT16 usAfeKeyMonTh;            // 0x0C
            =2     UINT16 usAfeAnaGenCfg0;          // 0x0D
            =2     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =2     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =2     UINT16 usAfeAnaCaCfg1;           // 0x10
            =2     UINT16 usAfeAnaCaCfg2;           // 0x11
            =2     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =2     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =2     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =2     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =2     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =2     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =2     UINT16 usAfeP1P2DlyCfg0;         // 0x18
            =2     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =2     UINT16 usAfeAnaShcfg0;           // 0x1A
            =2     UINT16 usAfeAnaShcfg1;           // 0x1B
            =2     UINT16 usAfeAnaShcfg2;           // 0x1C
            =2     UINT16 usAfeAnaShcfg3;           // 0x1D
            =2     UINT16 usAfeAnaShcfg4;           // 0x1E
            =2     UINT16 usAfeAnaShcfg5;           // 0x1F
            =2     UINT16 usAfeAnaShcfg6;           // 0x20
            =2     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =2     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =2     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =2     UINT16 usAfeAnaAdcCfg3;          // 0x24
            =2     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =2     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =2     UINT16 usAfeSdVcomCfg;           // 0x27
            =2     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =2     UINT16 usAllGateOnLCfg;          // 0x29
            =2     UINT16 usAllGateOffLCfg;         // 0x2A
            =2     UINT16 usAllGateStopLCfg;        // 0x2B
            =2     UINT16 usAllGateHCfg;            // 0x2C
            =2     UINT16 usRptRawdataNum;          // 0x2D
            =2     UINT16 usCbAdjustTh;             // 0x2E
            =2     UINT16 usTestModeCfg;            // 0x2F
            =2     UINT16 usPrescanTime;            // 0x30
            =2     UINT16 usDischargeTime;          // 0x31
            =2     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =2     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =2     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =2     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =2     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =2     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =2     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =2     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =2     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =2     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =2     UINT16 usReserveZone1;           // 0x3C
            =2     UINT16 usReserveZone2;           // 0x3D
            =2     UINT16 usReserveZone3;           // 0x3E
            =2     UINT16 usReserveZone4;           // 0x3F    
            =2     UINT16 usMcapScanCfg;            // 0x40
            =2     UINT16 usMcapScanSr;             // 0x41
            =2     UINT16 usMcapKeyInterVal6;       // 0x42
            =2     UINT16 usMcapDummyScanNum;       // 0x43
            =2     UINT16 usMcapRawShiftCof;        // 0x44
            =2     UINT16 usMcapRawOffSetL;         // 0x45
            =2     UINT16 usMcapAdcCfg;             // 0x46
            =2     UINT16 usMcapAdcDat0;            // 0x47
            =2     UINT16 usMcapInitSamplCfg;       // 0x48
            =2     UINT16 usMcapOverFlowThr;        // 0x49
            =2     UINT16 usMcapUnderFlowThr;       // 0x4A
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 40  

            =2     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =2     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =2     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =2     UINT16 usMcapNormalSignalDwThr;  // 0x4E
            =2     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
            =2     UINT16 usMcapLpfirCfg;           // 0x50
            =2     UINT16 usMcapLpFirCfg0;          // 0x51
            =2     UINT16 usMcapLpFirCfg1;          // 0x52
            =2     UINT16 usMcapLpFirCfg2;          // 0x53
            =2     UINT16 usMcapLpFirCfg3;          // 0x54
            =2     UINT16 usMcapLpFirCfg4;          // 0x55  
            =2     UINT16 usMcapLpFirCfg5;          // 0x56
            =2     UINT16 usMcapLpFirCfg6;          // 0x57
            =2     UINT16 usMcapLpFirCfg7;          // 0x58
            =2    
            =2 } ST_AfeRegList;
            =2 #endif
  353       =2 
  354       =2 typedef enum
  355       =2 {
  356       =2     Addr_PANEL_MODE_CFG0 =1, 
  357       =2     Addr_PANEL_MODE_CFG1 =2,
  358       =2     Addr_PANEL_MODE_CFG2 =3, 
  359       =2     Addr_AFE_SYS_CFG0 =4, 
  360       =2     Addr_AFE_SYS_CFG1 =5, 
  361       =2     Addr_AFE_SCAN_CFG0 =6, 
  362       =2     Addr_AFE_SCAN_CFG1 =7, 
  363       =2     Addr_AFE_DUMMY_SCAN_CFG =8, 
  364       =2     Addr_AFE_BASE_TRACK_CFG =9, 
  365       =2     Addr_ACC_OFFSET =10, 
  366       =2     Addr_TP_MONITOR_THRESHOLD =11,
  367       =2     Addr_KEY_MONITOR_THRESHOLD =12, 
  368       =2     Addr_AFE_ANA_K1_CFG0 =13,
  369       =2     Addr_AFE_ANA_K2_CFG1 =14,
  370       =2     Addr_AFE_ANA_CA_CFG0 =15, 
  371       =2     Addr_AFE_ANA_CA_CFG1 =16, 
  372       =2     Addr_AFE_ANA_CA_CFG2 =17,
  373       =2     Addr_AFE_ANA_P1_P2_CFG0 =18, 
  374       =2     Addr_AFE_ANA_P1_P2_CFG1 =19,
  375       =2     Addr_AFE_ANA_P1_P2_CFG2 =20, 
  376       =2     Addr_AFE_ANA_P1_P2_CFG3 =21,
  377       =2     Addr_AFE_ANA_P1_P2_CFG4 =22, 
  378       =2     Addr_AFE_ANA_P1_P2_CFG5 =23, 
  379       =2     Addr_AFE_P1_P2_DLY_CFG0 =24, 
  380       =2     Addr_AFE_P1_P2_DLY_CFG1 =25, 
  381       =2     Addr_AFE_ANA_SH_CFG0 =26,
  382       =2     Addr_AFE_ANA_SH_CFG1 =27, 
  383       =2     Addr_AFE_ANA_SH_CFG2 =28, 
  384       =2     Addr_AFE_ANA_SH_CFG3 =29, 
  385       =2     Addr_AFE_ANA_SH_CFG4 =30, 
  386       =2     Addr_AFE_ANA_SH_CFG5 =31,
  387       =2     Addr_AFE_ANA_SH_CFG6 =32, 
  388       =2     Addr_AFE_ANA_ADC_CFG0 =33, 
  389       =2     Addr_AFE_ANA_ADC_CFG1 =34, 
  390       =2     Addr_AFE_ANA_ADC_CFG2 =35, 
  391       =2     Addr_AFE_ANA_ADC_CFG3 =36, 
  392       =2     Addr_AFE_GIPH_P1_P2_CFG =37, 
  393       =2     Addr_AFE_GIPL_P1_P2_CFG =38, 
  394       =2     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
  395       =2     Addr_AFE_SX_P1_P2_CFG =40, 
  396       =2     Addr_AFE_MOUT_GIPH_CFG = 41,
  397       =2     Addr_AFE_MOUT_GIPL_CFG = 42,
  398       =2     Addr_AFE_GOUT_GIPH_CFG = 43,
  399       =2     Addr_AFE_GOUT_GIPL_CFG = 44,
  400       =2    
  401       =2     Addr_ALL_GATE_ON_L_CFG =45, 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 41  

  402       =2     Addr_ALL_GATE_OFF_L_CFG =46,
  403       =2     Addr_ALL_GATE_STOP_L_CFG =47, 
  404       =2     Addr_ALL_GATE_H_CFG =48,                              
  405       =2     Addr_RPT_RAWDATA_NUM =49,                             
  406       =2     Addr_CB_ADJUST_THLD =50,                                
  407       =2     Addr_TEST_MODE_FLAG =51,                              
  408       =2     Addr_PRESCAN_TIME =52,                                 
  409       =2     Addr_DISCHARGE_TIME =53,                               
  410       =2     Addr_ANA_STATIC_CFG0 =54,                              
  411       =2     Addr_ANA_STATIC_CFG1 =55,                               
  412       =2     Addr_ANA_STATIC_CFG2 =56,                              
  413       =2     Addr_ANA_STATIC_CFG3 =57,                            
  414       =2     Addr_TEST_P0_CFG0 =58,                               
  415       =2     Addr_TEST_P0_CFG1 =59,                               
  416       =2     Addr_TEST_P0_CFG2 =60,                                 
  417       =2     Addr_TEST_P1_CFG0 =61,                               
  418       =2     Addr_TEST_P1_CFG1 =62,                                
  419       =2     Addr_TEST_P1_CFG2 =63,                                 
  420       =2                                                                                                          
             -                                                          
  421       =2     Addr_MCAP_SCAN_CFG =64,                                
  422       =2     Addr_MCAP_SCANSR =65,                                  
  423       =2     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
  424       =2     Addr_RAWSHIFTCAF =67,                                
  425       =2     Addr_RAWDATA_OFFSET_L =68,                           
  426       =2     Addr_ADC_CFG =69,                                      
  427       =2     Addr_ADC_DATA0 =70,                                   
  428       =2     Addr_MCAP_INIT_SAMPL_CFG =71,                         
  429       =2     Addr_OVERFLOW_THR =72,                                 
  430       =2     Addr_UNDERFLOW_THR =73,                                
  431       =2     Addr_OVERFLOW_UPBOUND =74,                            
  432       =2     Addr_OVER_POINT_FRAME =75,                             
  433       =2     Addr_NORMAL_SIGNAL_UPTHR =76,                          
  434       =2     Addr_NORMAL_SIGNAL_DWTHR =77,                        
  435       =2     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
  436       =2     Addr_MCAP_LPFIR_CFG =79,                               
  437       =2     Addr_MCAP_LPFIR_COF0 =80,                              
  438       =2     Addr_MCAP_LPFIR_COF1 =81,                              
  439       =2     Addr_MCAP_LPFIR_COF2 =82,                             
  440       =2     Addr_MCAP_LPFIR_COF3 =83,                              
  441       =2     Addr_MCAP_LPFIR_COF4 =84,                              
  442       =2     Addr_MCAP_LPFIR_COF5 =85,                            
  443       =2     Addr_MCAP_LPFIR_COF6 =86,                             
  444       =2     Addr_MCAP_LPFIR_COF7 =87,   
  445       =2 }ENUM_AFE_ADDR;
  446       =2 
  447       =2 
  448       =2 /*******************************************************************************/
  449       =2 /* Afe table reg */
  450       =2 
  451       =2 /*******************************************************************************/
  452       =2 
  453       =2 
  454       =2 /*******************************************************************************
  455       =2 * Global variable extern declarations
  456       =2 *******************************************************************************/
  457       =2 
  458       =2 /*******************************************************************************
  459       =2 * Global function prototypes
  460       =2 *******************************************************************************/
  461       =2 
  462       =2 #endif //_FT8836_REG_H_
   88       =1 #include "Drv_mcu.h"
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 42  

    4       =2 * File Name: Drv_mcu.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-24
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference: Transplant from FT5412 by linjianjun
   13       =2 *
   14       =2 *   Version: 0.2
   15       =2 *******************************************************************************/
   16       =2 #ifndef __DRV_MCU_H__
   17       =2 #define __DRV_MCU_H__
   18       =2 
   19       =2 
   20       =2 /*******************************************************************************
   21       =2 * 1.Included files
   22       =2 *******************************************************************************/
   23       =2 #include "CfgGlobal.h"
            =1 #include "Drv_XSI.h"
            =1 #include "Drv_XBUS.h"
            =1 #include "uart.h"
            =1 
            =1 #include "Test_GPIO.h"
            =1 #include "Test_WDT.h"
            =1 #include "Test_RTC.h"
            =1 #include "Test_timer.h"
            =1 #include "Test_Counter.h"
            =1 #include "Test_Prom.h"
            =1 #include "Test_Dram.h"
            =1 #include "Test_Aram.h"
            =1 #include "Test_SFR.h"
            =1 #include "Test_Reg.h"
            =1 #include "Test_I2C.h"
            =1 #include "Test_i2c_wakeup.h"
            =1 #include "Test_gpio_wakeup.h"
            =1 #include "Test_int_nest.h"
            =1 #include "Test_SPI.h"
            =1 #include "Test_CAL.h"
            =1 #include "Test_romboot.h"
            =1 #include "Test_Afe.h"
            =1 #include "Test_LED.h"
            =1 #include "Test_Xbus.h"
            =1 #include "Test_RomEcc.h"
            =1 #include "Test_Uart.h"
            =1 #include "Test_SOFT_RST.h"
            =1 #include "Test_spi0.h"
            =1 #include "Test_spi0_wakeup.h"
            =1 #include "Test_SPI0_dma.h"
            =1 #include "checksum.h"
            =1 #include "Test_DebugOut.h"
            =1 /*******************************************************************************
            =1 * 3.Global structures, unions and enumerations using typedef
            =1 *******************************************************************************/
            =1 
            =1 /*******************************************************************************
            =1 * 4.Global variable extern declarations
            =1 *******************************************************************************/
            =1 
            =1 /*******************************************************************************
            =1 * 5.Global function prototypes
            =1 *******************************************************************************/
            =1 
            =1 #endif //GLOBAL_CONFIG_H
   23       =2 /*******************************************************************************
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 43  

   23       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   23       =2 *
   23       =2 * File Name: Drv_mcu.h
   23       =2 *
   23       =2 *    Author: xinkunpeng
   23       =2 *
   23       =2 *   Created: 2014-04-24
   23       =2 *
   23       =2 *  Abstract:
   23       =2 *
   23       =2 * Reference: Transplant from FT5412 by linjianjun
   23       =2 *
   23       =2 *   Version: 0.2
   23       =2 *******************************************************************************/
   23       =2 #ifndef __DRV_MCU_H__
   23       =2 #define __DRV_MCU_H__
   23       =2 
   23       =2 
   23       =2 /*******************************************************************************
   23       =2 * 1.Included files
   23       =2 *******************************************************************************/
   23       =2 #include "CfgGlobal.h"
   24       =2 
   25       =2 /*******************************************************************************
   26       =2 * 2.Global constant and macro definitions using #define
   27       =2 *******************************************************************************/
   28       =2 #define I2C_SLAVE_ADDR 0x70
   29       =2 
   30       =2 
   31       =2 #define DATABUFF     I2CBUF
   32       =2 #define RIFLAG       I2CRI
   33       =2 #define TIFLAG       I2CTI
   34       =2 
   35       =2 
   36       =2 #define DrvSysPowerIdle()               DrvSysPowerMode(0)          //enter the idle mode 
   37       =2 #define DrvSysPowerStop()               DrvSysPowerMode(1)          //enter the stop mode 
   38       =2 #define DrvSysPowerStandby()            DrvSysPowerMode(2)          //enter the standby mode 
   39       =2 #define DrvSysPowerHibernate()          DrvSysPowerMode(1)          //enter the hibernate mode 
   40       =2 
   41       =2 /*******************************************************************************
   42       =2 * 3.Global structures, unions and enumerations using typedef
   43       =2 *******************************************************************************/
   44       =2 
   45       =2 /*******************************************************************************
   46       =2 * 4.Global variable extern declarations
   47       =2 *******************************************************************************/
   48       =2 extern UINT8 XRAM g_ucbuf[16];
   49       =2 
   50       =2 /*******************************************************************************
   51       =2 * 5.Global function prototypes
   52       =2 *******************************************************************************/
   53       =2 
   54       =2 void DrvSysPowerMode(UINT8 pmode);
   55       =2 void DrvSysClkInit(UINT8 ucDiv);
   56       =2 void DrvIOInit(void);
   57       =2 void DelayUs(UINT8 ucDlyCnt);
   58       =2 void DelayMs(UINT16 ucDlyCnt);
   59       =2 #endif
   60       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Drv_XSI.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 44  

    8       =2 *   Created: 2014-05-14
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *   Version:
   15       =2 *******************************************************************************/
   16       =2 #ifndef __DRV_XSI_H__
   17       =2 #define __DRV_XSI_H__
   18       =2 
   19       =2 /*******************************************************************************
   20       =2 * 1.Included files
   21       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   22       =2 /*******************************************************************************
   22       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =2 *
   22       =2 * File Name: Drv_XSI.h
   22       =2 *
   22       =2 *    Author: xinkunpeng
   22       =2 *
   22       =2 *   Created: 2014-05-14
   22       =2 *
   22       =2 *  Abstract:
   22       =2 *
   22       =2 * Reference:
   22       =2 *
   22       =2 *   Version:
   22       =2 *******************************************************************************/
   22       =2 #ifndef __DRV_XSI_H__
   22       =2 #define __DRV_XSI_H__
   22       =2 
   22       =2 /*******************************************************************************
   22       =2 * 1.Included files
   22       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   23       =2 #include "FT8836_Reg.h"
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: FT8836_Reg.h
    5       =3 *
    6       =3 *    Author: 
    7       =3 *
    8       =3 *   Created: 2016-07-11
    9       =3 *
   10       =3 *  Abstract: Define FT8836 Sram registers and their bits
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 
   16       =3 #ifndef _FT8836_REG_H_
            =3 #define _FT8836_REG_H_
            =3 
            =3 /* Conditional Compiler Options */
            =3 
            =3 /*******************************************************************************
            =3 * Included files
            =3 *******************************************************************************/
            =3 #include "FT8836.h"
            =3 
            =3 /*******************************************************************************
            =3 * Global constant and macro definitions using #define
            =3 *******************************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 45  

            =3 #define ARAM_DATA_BASE_ADDR              0xA000
            =3 #define SPI1_REG_BASE_ADDR               0xB220
            =3 /* SPI0 reg Start Addr */
            =3 #define SPI0_REG_BASE_ADDR               0xB200
            =3 
            =3 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
            =3 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
            =3 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
            =3 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
            =3 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
            =3 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
            =3 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
            =3 /* XSI reg øÿ÷∆«¯ */
            =3 
            =3 /* XSI0 reg start addr */
            =3 #define XSI0_REG_BASE_ADDR     0xB400
            =3 
            =3 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
            =3 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
            =3 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
            =3 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
            =3 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
            =3 
            =3 /* XSI1 reg start addr */
            =3 #define XSI1_REG_BASE_ADDR     0xB800
            =3 
            =3 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
            =3 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
            =3 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
            =3 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
            =3 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
            =3 
            =3 /* XBUS reg start addr */
            =3 #define XBUS_REG_BASE_ADDR     0xBC00
            =3 
            =3 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
            =3 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
            =3 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
            =3 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
            =3 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
            =3 
            =3 /* reload dma base addr */
            =3 //#define RELOAD_DMA_START_ADDR  0x9D00
            =3 /******************************************************************************/
            =3 /******************************************************************************/
            =3 /* CAL reg Start Addr */
            =3 #define CAL_REG_BASE_ADDR       0xB000
            =3 
            =3 /* ASM reg Start Addr */
            =3 #define ASM_REG_BASE_ADDR       0xB100
            =3 
            =3 
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 /*************************************************************/
            =3 /* XSI reg */
            =3 typedef struct
            =3 {
            =3     UINT16 Wdata;        // (0x00<<1)
            =3     UINT16 Rdata;        // (0x01<<1)
            =3     UINT16 Clksel;       // (0x02<<1)
            =3     UINT16 Stop;         // (0x03<<1)
            =3     UINT16 Tx_int;       // (0x04<<1)
            =3 } ST_XSIRegisters;
            =3 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 46  

            =3 typedef union
            =3 {
            =3     ST_XSIRegisters reg;
            =3     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
            =3 } Union_XSIReg;
            =3 
            =3 /*************************************************************/
            =3 // cal
            =3 typedef struct
            =3 {
            =3     UINT16 rCmd;           // (0x00<<1)
            =3     UINT16 rDmaLen;        // (0x01<<1)
            =3     UINT16 rS1Addr;        // (0x02<<1)
            =3     UINT16 rS2Addr;        // (0x03<<1)
            =3     UINT16 rOutAddr;       // (0x04<<1)
            =3     UINT16 rPar;           // (0x05<<1)
            =3     UINT16 rSize;          // (0x06<<1)
            =3     UINT16 rPThd;          // (0x07<<1)
            =3     UINT16 rNThd;          // (0x08<<1)
            =3     UINT16 rAThd;          // (0x09<<1)
            =3     UINT16 rDmask;         // (0x0A<<1)
            =3     UINT16 rPaCnt;         // (0x0B<<1)
            =3     UINT16 rNaCnt;         // (0x0C<<1)
            =3     UINT16 rPsCnt;         // (0x0D<<1)
            =3     UINT16 rNsCnt;         // (0x0E<<1)
            =3     UINT16 rMaxV;          // (0x0F<<1)
            =3     UINT16 rMaxPos;        // (0x10<<1)
            =3     UINT16 rMinV;          // (0x11<<1)
            =3     UINT16 rMinPos;        // (0x12<<1)
            =3     UINT16 rID0;           // (0x13<<1)
            =3     UINT16 rID1;           // (0x14<<1)
            =3     UINT16 rID2;           // (0x15<<1)
            =3     UINT16 rCrc;           // (0x16<<1)
            =3     UINT16 rChk;           // (0x17<<1)
            =3     UINT16 rNaThd;         // (0x18<<1)
            =3     UINT16 rTxRxNum;       // (0x19<<1)
            =3     UINT16 rDivShift;      // (0x1a<<1)
            =3     UINT16 rSubabsMax;     // (0x1b<<1)
            =3     UINT16 rInt;           // (0x1c<<1)
            =3     UINT16 rCntNum;        // (0x1d<<1)
            =3     UINT16 rDmaskA;        // (0x1e<<1)
            =3     UINT16 rTxRxNumAm;     // (0x1f<<1)
            =3     UINT16 rTxRxNumAs;     // (0x20<<1)
            =3     UINT16 rSizeAm;        // (0x21<<1)
            =3     UINT16 rSizeAs;        // (0x22<<1)
            =3     UINT16 rS1AddrA;       // (0x23<<1)
            =3     UINT16 rS2AddrA;       // (0x24<<1)
            =3     UINT16 rOutAddrA;      // (0x25<<1)
            =3     UINT16 rSel;           // (0x26<<1)
            =3 } ST_CalRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_CalRegisters reg;
            =3     UINT16 offset[sizeof(ST_CalRegisters)>>1];
            =3 } Union_CalReg;
            =3 
            =3 /*************************************************************/
            =3 /*XBUS reg*/
            =3 typedef struct
            =3 {  
            =3     UINT16 rdata_lo_byte;
            =3     UINT16 rdata_ho_byte;
            =3     UINT16 lcd_regfile_ctrl;
            =3     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
            =3     UINT16 xbus_rld_data;//reload_data
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 47  

            =3 }ST_LcdWrapRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_LcdWrapRegisters reg;
            =3     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
            =3 }Union_LcdReg;
            =3 
            =3 /*************************************************************/
            =3 /*SPI0_DMA reg*/
            =3 typedef struct
            =3 {
            =3     UINT16 dma_ctrl;
            =3     UINT16 timeout_ctrl;
            =3     UINT16 addr_h;
            =3     UINT16 start_addr_l;
            =3     UINT16 end_addr_l;
            =3     UINT16 dma_crc;
            =3     UINT16 dma_srcr;
            =3     
            =3 }ST_Spi0DmaRegisters;
            =3 
            =3 /*SPI1_DMA reg*/
            =3 typedef struct
            =3 {
            =3     UINT16 dma_ctrl;
            =3     UINT16 timeout_ctrl;
            =3     UINT16 addr_h;
            =3     UINT16 start_addr_l;
            =3     UINT16 end_addr_l;
            =3     UINT16 dma_crc;
            =3     UINT16 dma_srcr;
            =3     
            =3 }ST_Spi1DmaRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_Spi0DmaRegisters reg;
            =3     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
            =3 }Union_Spi0Reg;
            =3 
            =3 /*************************************************************/
            =3 /* ASM reg */
            =3 typedef struct
            =3 {
            =3     UINT16 usAsmIntFlag0;         // 00  RO
            =3     UINT16 usAsmIntFlag1;         // 01  RO
            =3     UINT16 usAsmIntClr0;          // 02  WO
            =3     UINT16 usAsmIntClr1;          // 03  WO
            =3     UINT16 usAsmIntEn0;           // 04
            =3     UINT16 usAsmIntEn1;           // 05
            =3     UINT16 usAsmIntWakeEn0;       // 06
            =3     UINT16 usAsmIntWakeEn1;       // 07
            =3     UINT16 usAsmIntSta;           // 08  RO
            =3     UINT16 usAsmScanSta0;         // 09  RO
            =3     UINT16 usAsmScanSta1;         // 10  RO
            =3     UINT16 usAsmScanSta2;         // 11  RO
            =3     UINT16 usAsmScanSta3;         // 12  RO
            =3     UINT16 usAsmScanCtrl;         // 13  WO
            =3     UINT16 usAsmScanCfg0;         // 14
            =3     UINT16 usAsmScanCfg1;         // 15
            =3     UINT16 usAsmTpFrameCfg0;      // 16
            =3     UINT16 usAsmTpFrameCfg1;      // 17
            =3     UINT16 usAsmTpFrameCfg2;      // 18
            =3     UINT16 usAsmTpFrameCfg3;      // 19
            =3     UINT16 usAsmScanDly;          // 20
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 48  

            =3     UINT16 usAsmStbMaseL;         // 21
            =3     UINT16 usAsmStbMaseH;         // 22  
            =3     UINT16 usAsmAramBaseL;        // 23
            =3     UINT16 usAsmAramBaseR;        // 24
            =3     UINT16 usAsmAramBaseKey;      // 25    
            =3     UINT16 usAsmAramCBL;          // 26
            =3     UINT16 usAsmAramCBR;          // 27
            =3     UINT16 usAsmAramCBKey;        // 28
            =3     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
            =3     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
            =3     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
            =3     UINT16 usAsmHwMonCrtl0;       // 32
            =3     UINT16 usAsmHwMonCtrl1;       // 33
            =3     UINT16 usAsmHwMonCfg0;        // 34
            =3     UINT16 usAsmHwMonCfg1;        // 35
            =3     UINT16 usAsmHwMonCfg2;        // 36
            =3     UINT16 usAsmHwMonCfg3;        // 37
            =3     UINT16 usAsmHwMonCfg4;        // 38
            =3     UINT16 usAsmHwMonTimer;       // 39
            =3     UINT16 usAsmVreshCfgLcdon;    // 40
            =3 } ST_AsmRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_AsmRegisters reg;
            =3     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
            =3 } Union_AsmReg;
            =3 
            =3 
            =3 /*******************************************************************************/
            =3 /* AFE reg */
            =3 #if 0
            =3 typedef struct
            =3 {
            =3     UINT16 usAfeAsmCfg;              // 0x00
            =3     UINT16 usAfePanelCfg0;           // 0x01
            =3     UINT16 usAfePanelCfg1;           // 0x02
            =3     UINT16 usAfePanelCfg2;           // 0x03
            =3     UINT16 usAfeSysCfg0;             // 0x04
            =3     UINT16 usAfeSysCfg1;             // 0x05
            =3     UINT16 usAfeScanCfg0;            // 0x06
            =3     UINT16 usAfeScanCfg1;            // 0x07
            =3     UINT16 usAfeDummyScanCfg;        // 0x08
            =3     UINT16 usAfeBaseTrackCfg;        // 0x09
            =3     UINT16 usAfeAcc_Offset;          // 0x0A
            =3     UINT16 usAfeTpMonTh;             // 0x0B
            =3     UINT16 usAfeKeyMonTh;            // 0x0C
            =3     UINT16 usAfeAnaGenCfg0;          // 0x0D
            =3     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =3     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =3     UINT16 usAfeAnaCaCfg1;           // 0x10
            =3     UINT16 usAfeAnaCaCfg2;           // 0x11
            =3     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =3     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =3     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =3     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =3     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =3     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =3     UINT16 usAfeP1P2DlyCfg0;         // 0x18
            =3     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =3     UINT16 usAfeAnaShcfg0;           // 0x1A
            =3     UINT16 usAfeAnaShcfg1;           // 0x1B
            =3     UINT16 usAfeAnaShcfg2;           // 0x1C
            =3     UINT16 usAfeAnaShcfg3;           // 0x1D
            =3     UINT16 usAfeAnaShcfg4;           // 0x1E
            =3     UINT16 usAfeAnaShcfg5;           // 0x1F
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 49  

            =3     UINT16 usAfeAnaShcfg6;           // 0x20
            =3     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =3     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =3     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =3     UINT16 usAfeAnaAdcCfg3;          // 0x24
            =3     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =3     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =3     UINT16 usAfeSdVcomCfg;           // 0x27
            =3     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =3     UINT16 usAllGateOnLCfg;          // 0x29
            =3     UINT16 usAllGateOffLCfg;         // 0x2A
            =3     UINT16 usAllGateStopLCfg;        // 0x2B
            =3     UINT16 usAllGateHCfg;            // 0x2C
            =3     UINT16 usRptRawdataNum;          // 0x2D
            =3     UINT16 usCbAdjustTh;             // 0x2E
            =3     UINT16 usTestModeCfg;            // 0x2F
            =3     UINT16 usPrescanTime;            // 0x30
            =3     UINT16 usDischargeTime;          // 0x31
            =3     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =3     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =3     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =3     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =3     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =3     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =3     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =3     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =3     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =3     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =3     UINT16 usReserveZone1;           // 0x3C
            =3     UINT16 usReserveZone2;           // 0x3D
            =3     UINT16 usReserveZone3;           // 0x3E
            =3     UINT16 usReserveZone4;           // 0x3F    
            =3     UINT16 usMcapScanCfg;            // 0x40
            =3     UINT16 usMcapScanSr;             // 0x41
            =3     UINT16 usMcapKeyInterVal6;       // 0x42
            =3     UINT16 usMcapDummyScanNum;       // 0x43
            =3     UINT16 usMcapRawShiftCof;        // 0x44
            =3     UINT16 usMcapRawOffSetL;         // 0x45
            =3     UINT16 usMcapAdcCfg;             // 0x46
            =3     UINT16 usMcapAdcDat0;            // 0x47
            =3     UINT16 usMcapInitSamplCfg;       // 0x48
            =3     UINT16 usMcapOverFlowThr;        // 0x49
            =3     UINT16 usMcapUnderFlowThr;       // 0x4A
            =3     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =3     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =3     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =3     UINT16 usMcapNormalSignalDwThr;  // 0x4E
            =3     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
            =3     UINT16 usMcapLpfirCfg;           // 0x50
            =3     UINT16 usMcapLpFirCfg0;          // 0x51
            =3     UINT16 usMcapLpFirCfg1;          // 0x52
            =3     UINT16 usMcapLpFirCfg2;          // 0x53
            =3     UINT16 usMcapLpFirCfg3;          // 0x54
            =3     UINT16 usMcapLpFirCfg4;          // 0x55  
            =3     UINT16 usMcapLpFirCfg5;          // 0x56
            =3     UINT16 usMcapLpFirCfg6;          // 0x57
            =3     UINT16 usMcapLpFirCfg7;          // 0x58
            =3    
            =3 } ST_AfeRegList;
            =3 #endif
            =3 
            =3 typedef enum
            =3 {
            =3     Addr_PANEL_MODE_CFG0 =1, 
            =3     Addr_PANEL_MODE_CFG1 =2,
            =3     Addr_PANEL_MODE_CFG2 =3, 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 50  

            =3     Addr_AFE_SYS_CFG0 =4, 
            =3     Addr_AFE_SYS_CFG1 =5, 
            =3     Addr_AFE_SCAN_CFG0 =6, 
            =3     Addr_AFE_SCAN_CFG1 =7, 
            =3     Addr_AFE_DUMMY_SCAN_CFG =8, 
            =3     Addr_AFE_BASE_TRACK_CFG =9, 
            =3     Addr_ACC_OFFSET =10, 
            =3     Addr_TP_MONITOR_THRESHOLD =11,
            =3     Addr_KEY_MONITOR_THRESHOLD =12, 
            =3     Addr_AFE_ANA_K1_CFG0 =13,
            =3     Addr_AFE_ANA_K2_CFG1 =14,
            =3     Addr_AFE_ANA_CA_CFG0 =15, 
            =3     Addr_AFE_ANA_CA_CFG1 =16, 
            =3     Addr_AFE_ANA_CA_CFG2 =17,
            =3     Addr_AFE_ANA_P1_P2_CFG0 =18, 
            =3     Addr_AFE_ANA_P1_P2_CFG1 =19,
            =3     Addr_AFE_ANA_P1_P2_CFG2 =20, 
            =3     Addr_AFE_ANA_P1_P2_CFG3 =21,
            =3     Addr_AFE_ANA_P1_P2_CFG4 =22, 
            =3     Addr_AFE_ANA_P1_P2_CFG5 =23, 
            =3     Addr_AFE_P1_P2_DLY_CFG0 =24, 
            =3     Addr_AFE_P1_P2_DLY_CFG1 =25, 
            =3     Addr_AFE_ANA_SH_CFG0 =26,
            =3     Addr_AFE_ANA_SH_CFG1 =27, 
            =3     Addr_AFE_ANA_SH_CFG2 =28, 
            =3     Addr_AFE_ANA_SH_CFG3 =29, 
            =3     Addr_AFE_ANA_SH_CFG4 =30, 
            =3     Addr_AFE_ANA_SH_CFG5 =31,
            =3     Addr_AFE_ANA_SH_CFG6 =32, 
            =3     Addr_AFE_ANA_ADC_CFG0 =33, 
            =3     Addr_AFE_ANA_ADC_CFG1 =34, 
            =3     Addr_AFE_ANA_ADC_CFG2 =35, 
            =3     Addr_AFE_ANA_ADC_CFG3 =36, 
            =3     Addr_AFE_GIPH_P1_P2_CFG =37, 
            =3     Addr_AFE_GIPL_P1_P2_CFG =38, 
            =3     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
            =3     Addr_AFE_SX_P1_P2_CFG =40, 
            =3     Addr_AFE_MOUT_GIPH_CFG = 41,
            =3     Addr_AFE_MOUT_GIPL_CFG = 42,
            =3     Addr_AFE_GOUT_GIPH_CFG = 43,
            =3     Addr_AFE_GOUT_GIPL_CFG = 44,
            =3    
            =3     Addr_ALL_GATE_ON_L_CFG =45, 
            =3     Addr_ALL_GATE_OFF_L_CFG =46,
            =3     Addr_ALL_GATE_STOP_L_CFG =47, 
            =3     Addr_ALL_GATE_H_CFG =48,                              
            =3     Addr_RPT_RAWDATA_NUM =49,                             
            =3     Addr_CB_ADJUST_THLD =50,                                
            =3     Addr_TEST_MODE_FLAG =51,                              
            =3     Addr_PRESCAN_TIME =52,                                 
            =3     Addr_DISCHARGE_TIME =53,                               
            =3     Addr_ANA_STATIC_CFG0 =54,                              
            =3     Addr_ANA_STATIC_CFG1 =55,                               
            =3     Addr_ANA_STATIC_CFG2 =56,                              
            =3     Addr_ANA_STATIC_CFG3 =57,                            
            =3     Addr_TEST_P0_CFG0 =58,                               
            =3     Addr_TEST_P0_CFG1 =59,                               
            =3     Addr_TEST_P0_CFG2 =60,                                 
            =3     Addr_TEST_P1_CFG0 =61,                               
            =3     Addr_TEST_P1_CFG1 =62,                                
            =3     Addr_TEST_P1_CFG2 =63,                                 
            =3                                                                                                          
             -                                                          
            =3     Addr_MCAP_SCAN_CFG =64,                                
            =3     Addr_MCAP_SCANSR =65,                                  
            =3     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 51  

            =3     Addr_RAWSHIFTCAF =67,                                
            =3     Addr_RAWDATA_OFFSET_L =68,                           
            =3     Addr_ADC_CFG =69,                                      
            =3     Addr_ADC_DATA0 =70,                                   
            =3     Addr_MCAP_INIT_SAMPL_CFG =71,                         
            =3     Addr_OVERFLOW_THR =72,                                 
            =3     Addr_UNDERFLOW_THR =73,                                
            =3     Addr_OVERFLOW_UPBOUND =74,                            
            =3     Addr_OVER_POINT_FRAME =75,                             
            =3     Addr_NORMAL_SIGNAL_UPTHR =76,                          
            =3     Addr_NORMAL_SIGNAL_DWTHR =77,                        
            =3     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
            =3     Addr_MCAP_LPFIR_CFG =79,                               
            =3     Addr_MCAP_LPFIR_COF0 =80,                              
            =3     Addr_MCAP_LPFIR_COF1 =81,                              
            =3     Addr_MCAP_LPFIR_COF2 =82,                             
            =3     Addr_MCAP_LPFIR_COF3 =83,                              
            =3     Addr_MCAP_LPFIR_COF4 =84,                              
            =3     Addr_MCAP_LPFIR_COF5 =85,                            
            =3     Addr_MCAP_LPFIR_COF6 =86,                             
            =3     Addr_MCAP_LPFIR_COF7 =87,   
            =3 }ENUM_AFE_ADDR;
            =3 
            =3 
            =3 /*******************************************************************************/
            =3 /* Afe table reg */
            =3 
            =3 /*******************************************************************************/
            =3 
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 
            =3 #endif //_FT8836_REG_H_
   24       =2 
   25       =2 /*******************************************************************************
   26       =2 * 2.Global constant and macro definitions using #define
   27       =2 *******************************************************************************/
   28       =2 #define AFE_REG          0
   29       =2 #define XSI_S_REG        1
   30       =2 #define XSI_WDATA_DUMMY  0
   31       =2 
   32       =2 /* Bit defined of Afe_en reg */
   33       =2 #define XSI_WDATA_ADDR    0
   34       =2 #define XSI_WDATA_SEL    11
   35       =2 #define XSI_WDATA_WR     15
   36       =2 
   37       =2 #define LCD_PAGE_SEL     8
   38       =2 #define XSI_LCD_ECC      0
   39       =2 #define XSI_LCD_PAGE0    1
   40       =2 #define XSI_LCD_PAGE1    2
   41       =2 /*******************************************************************************
   42       =2 * 3.Global structures, unions and enumerations using typedef
   43       =2 *******************************************************************************/
   44       =2 
   45       =2 /*******************************************************************************
   46       =2 * 4.Global variable extern declarations
   47       =2 *******************************************************************************/
   48       =2 extern ST_XSIRegisters * XRAM pXSI0Regs;
   49       =2 extern ST_XSIRegisters * XRAM pXSI1Regs;
   50       =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 52  

   51       =2 /*******************************************************************************
   52       =2 * 5.Global function prototypes
   53       =2 *******************************************************************************/
   54       =2 void Drv_XsiInit();
   55       =2 UINT16 Drv_XsiReadReg(ST_XSIRegisters *pXSIRegs, UINT16 addr, UINT8 flag);
   56       =2 void Drv_XsiWriteReg(ST_XSIRegisters *pXSIRegs, UINT16 usAddr, UINT16 usData,UINT8 flag);
   57       =2 void Drv_XsiRead(ST_XSIRegisters *pXSIRegs, UINT16 usAddr, UINT16 *pBuf, UINT16 len, UINT8 flag);
   58       =2 void Drv_XsiWrite(ST_XSIRegisters *pXSIRegs, UINT16 usAddr, UINT16 *pBuf, UINT16 len, UINT8 flag);
   59       =2 
   60       =2 #if _TEST_XSI_EN
            =2 void Test_Xsi();
            =2 #else
   63       =2 #define  Test_Xsi   /##/
   64       =2 #endif
   65       =2 
   66       =2 #endif
   67       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Drv_Xbus.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2016-06-14
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *   Version:
   15       =2 *******************************************************************************/
   16       =2 #ifndef __DRV_XBUS_H__
   17       =2 #define __DRV_XBUS_H__
   18       =2 
   19       =2 /*******************************************************************************
   20       =2 * 1.Included files
   21       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   22       =2 /*******************************************************************************
   22       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =2 *
   22       =2 * File Name: Drv_Xbus.h
   22       =2 *
   22       =2 *    Author: xinkunpeng
   22       =2 *
   22       =2 *   Created: 2016-06-14
   22       =2 *
   22       =2 *  Abstract:
   22       =2 *
   22       =2 * Reference:
   22       =2 *
   22       =2 *   Version:
   22       =2 *******************************************************************************/
   22       =2 #ifndef __DRV_XBUS_H__
   22       =2 #define __DRV_XBUS_H__
   22       =2 
   22       =2 /*******************************************************************************
   22       =2 * 1.Included files
   22       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   23       =2 #include "FT8836_Reg.h"
    1       =3 /*******************************************************************************
    2       =3 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =3 *
    4       =3 * File Name: FT8836_Reg.h
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 53  

    5       =3 *
    6       =3 *    Author: 
    7       =3 *
    8       =3 *   Created: 2016-07-11
    9       =3 *
   10       =3 *  Abstract: Define FT8836 Sram registers and their bits
   11       =3 *
   12       =3 * Reference:
   13       =3 *
   14       =3 *******************************************************************************/
   15       =3 
   16       =3 #ifndef _FT8836_REG_H_
            =3 #define _FT8836_REG_H_
            =3 
            =3 /* Conditional Compiler Options */
            =3 
            =3 /*******************************************************************************
            =3 * Included files
            =3 *******************************************************************************/
            =3 #include "FT8836.h"
            =3 
            =3 /*******************************************************************************
            =3 * Global constant and macro definitions using #define
            =3 *******************************************************************************/
            =3 #define ARAM_DATA_BASE_ADDR              0xA000
            =3 #define SPI1_REG_BASE_ADDR               0xB220
            =3 /* SPI0 reg Start Addr */
            =3 #define SPI0_REG_BASE_ADDR               0xB200
            =3 
            =3 #define SPI0_DMA_CTRL                    REG16(SPI0_REG_BASE_ADDR+(0x00<<1))
            =3 #define SPI0_DMA_ERR_TIMEOUT_CTRL        REG16(SPI0_REG_BASE_ADDR+(0x01<<1))
            =3 #define SPI0_DMA_ADDR_H                  REG16(SPI0_REG_BASE_ADDR+(0x02<<1))
            =3 #define SPI0_DMA_START_ADDR_L            REG16(SPI0_REG_BASE_ADDR+(0x03<<1))            
            =3 #define SPI0_DMA_END_ADDR_L              REG16(SPI0_REG_BASE_ADDR+(0x04<<1))         
            =3 #define SPI0_DMA_CRC                     REG16(SPI0_REG_BASE_ADDR+(0x05<<1))
            =3 #define SPI0_DMA_SRCR                    REG16(SPI0_REG_BASE_ADDR+(0x06<<1))
            =3 /* XSI reg øÿ÷∆«¯ */
            =3 
            =3 /* XSI0 reg start addr */
            =3 #define XSI0_REG_BASE_ADDR     0xB400
            =3 
            =3 #define XSI0_WDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x00<<1))
            =3 #define XSI0_RDATA_LOC         REG16(XSI0_REG_BASE_ADDR+(0x01<<1))
            =3 #define XSI0_CLK_SEL           REG16(XSI0_REG_BASE_ADDR+(0x02<<1))
            =3 #define XSI0_STOP              REG16(XSI0_REG_BASE_ADDR+(0x03<<1))
            =3 #define XSI0_TX_INT            REG16(XSI0_REG_BASE_ADDR+(0x04<<1))
            =3 
            =3 /* XSI1 reg start addr */
            =3 #define XSI1_REG_BASE_ADDR     0xB800
            =3 
            =3 #define XSI1_WDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x00<<1))
            =3 #define XSI1_RDATA_LOC         REG16(XSI1_REG_BASE_ADDR+(0x01<<1))
            =3 #define XSI1_CLK_SEL           REG16(XSI1_REG_BASE_ADDR+(0x02<<1))
            =3 #define XSI1_STOP              REG16(XSI1_REG_BASE_ADDR+(0x03<<1))
            =3 #define XSI1_TX_INT            REG16(XSI1_REG_BASE_ADDR+(0x04<<1))
            =3 
            =3 /* XBUS reg start addr */
            =3 #define XBUS_REG_BASE_ADDR     0xBC00
            =3 
            =3 #define XBUS_RDATA_LO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x00<<1))
            =3 #define XBUS_RDATA_HO_BYTE     REG16(XBUS_REG_BASE_ADDR+(0x01<<1))
            =3 #define XBUS_REGFILE_CTRL      REG16(XBUS_REG_BASE_ADDR+(0x02<<1))
            =3 #define XBUS_CMD               REG16(XBUS_REG_BASE_ADDR+(0x03<<1))
            =3 #define XBUS_RLD_DATA          REG16(XBUS_REG_BASE_ADDR+(0x04<<1))
            =3 
            =3 /* reload dma base addr */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 54  

            =3 //#define RELOAD_DMA_START_ADDR  0x9D00
            =3 /******************************************************************************/
            =3 /******************************************************************************/
            =3 /* CAL reg Start Addr */
            =3 #define CAL_REG_BASE_ADDR       0xB000
            =3 
            =3 /* ASM reg Start Addr */
            =3 #define ASM_REG_BASE_ADDR       0xB100
            =3 
            =3 
            =3 /*******************************************************************************
            =3 * Global structures, unions and enumerations using typedef
            =3 *******************************************************************************/
            =3 /*************************************************************/
            =3 /* XSI reg */
            =3 typedef struct
            =3 {
            =3     UINT16 Wdata;        // (0x00<<1)
            =3     UINT16 Rdata;        // (0x01<<1)
            =3     UINT16 Clksel;       // (0x02<<1)
            =3     UINT16 Stop;         // (0x03<<1)
            =3     UINT16 Tx_int;       // (0x04<<1)
            =3 } ST_XSIRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_XSIRegisters reg;
            =3     UINT16 offset[sizeof(ST_XSIRegisters)>>1];
            =3 } Union_XSIReg;
            =3 
            =3 /*************************************************************/
            =3 // cal
            =3 typedef struct
            =3 {
            =3     UINT16 rCmd;           // (0x00<<1)
            =3     UINT16 rDmaLen;        // (0x01<<1)
            =3     UINT16 rS1Addr;        // (0x02<<1)
            =3     UINT16 rS2Addr;        // (0x03<<1)
            =3     UINT16 rOutAddr;       // (0x04<<1)
            =3     UINT16 rPar;           // (0x05<<1)
            =3     UINT16 rSize;          // (0x06<<1)
            =3     UINT16 rPThd;          // (0x07<<1)
            =3     UINT16 rNThd;          // (0x08<<1)
            =3     UINT16 rAThd;          // (0x09<<1)
            =3     UINT16 rDmask;         // (0x0A<<1)
            =3     UINT16 rPaCnt;         // (0x0B<<1)
            =3     UINT16 rNaCnt;         // (0x0C<<1)
            =3     UINT16 rPsCnt;         // (0x0D<<1)
            =3     UINT16 rNsCnt;         // (0x0E<<1)
            =3     UINT16 rMaxV;          // (0x0F<<1)
            =3     UINT16 rMaxPos;        // (0x10<<1)
            =3     UINT16 rMinV;          // (0x11<<1)
            =3     UINT16 rMinPos;        // (0x12<<1)
            =3     UINT16 rID0;           // (0x13<<1)
            =3     UINT16 rID1;           // (0x14<<1)
            =3     UINT16 rID2;           // (0x15<<1)
            =3     UINT16 rCrc;           // (0x16<<1)
            =3     UINT16 rChk;           // (0x17<<1)
            =3     UINT16 rNaThd;         // (0x18<<1)
            =3     UINT16 rTxRxNum;       // (0x19<<1)
            =3     UINT16 rDivShift;      // (0x1a<<1)
            =3     UINT16 rSubabsMax;     // (0x1b<<1)
            =3     UINT16 rInt;           // (0x1c<<1)
            =3     UINT16 rCntNum;        // (0x1d<<1)
            =3     UINT16 rDmaskA;        // (0x1e<<1)
            =3     UINT16 rTxRxNumAm;     // (0x1f<<1)
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 55  

            =3     UINT16 rTxRxNumAs;     // (0x20<<1)
            =3     UINT16 rSizeAm;        // (0x21<<1)
            =3     UINT16 rSizeAs;        // (0x22<<1)
            =3     UINT16 rS1AddrA;       // (0x23<<1)
            =3     UINT16 rS2AddrA;       // (0x24<<1)
            =3     UINT16 rOutAddrA;      // (0x25<<1)
            =3     UINT16 rSel;           // (0x26<<1)
            =3 } ST_CalRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_CalRegisters reg;
            =3     UINT16 offset[sizeof(ST_CalRegisters)>>1];
            =3 } Union_CalReg;
            =3 
            =3 /*************************************************************/
            =3 /*XBUS reg*/
            =3 typedef struct
            =3 {  
            =3     UINT16 rdata_lo_byte;
            =3     UINT16 rdata_ho_byte;
            =3     UINT16 lcd_regfile_ctrl;
            =3     UINT16 xbus_cmd;//bit1 reload_end;bit0 reload_abort
            =3     UINT16 xbus_rld_data;//reload_data
            =3 }ST_LcdWrapRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_LcdWrapRegisters reg;
            =3     UINT16 offset[sizeof(ST_LcdWrapRegisters)>>1];
            =3 }Union_LcdReg;
            =3 
            =3 /*************************************************************/
            =3 /*SPI0_DMA reg*/
            =3 typedef struct
            =3 {
            =3     UINT16 dma_ctrl;
            =3     UINT16 timeout_ctrl;
            =3     UINT16 addr_h;
            =3     UINT16 start_addr_l;
            =3     UINT16 end_addr_l;
            =3     UINT16 dma_crc;
            =3     UINT16 dma_srcr;
            =3     
            =3 }ST_Spi0DmaRegisters;
            =3 
            =3 /*SPI1_DMA reg*/
            =3 typedef struct
            =3 {
            =3     UINT16 dma_ctrl;
            =3     UINT16 timeout_ctrl;
            =3     UINT16 addr_h;
            =3     UINT16 start_addr_l;
            =3     UINT16 end_addr_l;
            =3     UINT16 dma_crc;
            =3     UINT16 dma_srcr;
            =3     
            =3 }ST_Spi1DmaRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_Spi0DmaRegisters reg;
            =3     UINT16 offset[sizeof(ST_Spi0DmaRegisters)>>1];
            =3 }Union_Spi0Reg;
            =3 
            =3 /*************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 56  

            =3 /* ASM reg */
            =3 typedef struct
            =3 {
            =3     UINT16 usAsmIntFlag0;         // 00  RO
            =3     UINT16 usAsmIntFlag1;         // 01  RO
            =3     UINT16 usAsmIntClr0;          // 02  WO
            =3     UINT16 usAsmIntClr1;          // 03  WO
            =3     UINT16 usAsmIntEn0;           // 04
            =3     UINT16 usAsmIntEn1;           // 05
            =3     UINT16 usAsmIntWakeEn0;       // 06
            =3     UINT16 usAsmIntWakeEn1;       // 07
            =3     UINT16 usAsmIntSta;           // 08  RO
            =3     UINT16 usAsmScanSta0;         // 09  RO
            =3     UINT16 usAsmScanSta1;         // 10  RO
            =3     UINT16 usAsmScanSta2;         // 11  RO
            =3     UINT16 usAsmScanSta3;         // 12  RO
            =3     UINT16 usAsmScanCtrl;         // 13  WO
            =3     UINT16 usAsmScanCfg0;         // 14
            =3     UINT16 usAsmScanCfg1;         // 15
            =3     UINT16 usAsmTpFrameCfg0;      // 16
            =3     UINT16 usAsmTpFrameCfg1;      // 17
            =3     UINT16 usAsmTpFrameCfg2;      // 18
            =3     UINT16 usAsmTpFrameCfg3;      // 19
            =3     UINT16 usAsmScanDly;          // 20
            =3     UINT16 usAsmStbMaseL;         // 21
            =3     UINT16 usAsmStbMaseH;         // 22  
            =3     UINT16 usAsmAramBaseL;        // 23
            =3     UINT16 usAsmAramBaseR;        // 24
            =3     UINT16 usAsmAramBaseKey;      // 25    
            =3     UINT16 usAsmAramCBL;          // 26
            =3     UINT16 usAsmAramCBR;          // 27
            =3     UINT16 usAsmAramCBKey;        // 28
            =3     UINT16 usAsmReserve0;         // 29 Œ¥∂®“Â
            =3     UINT16 usAsmReserve1;         // 30 Œ¥∂®“Â
            =3     UINT16 usAsmReserve2;         // 31 Œ¥∂®“Â
            =3     UINT16 usAsmHwMonCrtl0;       // 32
            =3     UINT16 usAsmHwMonCtrl1;       // 33
            =3     UINT16 usAsmHwMonCfg0;        // 34
            =3     UINT16 usAsmHwMonCfg1;        // 35
            =3     UINT16 usAsmHwMonCfg2;        // 36
            =3     UINT16 usAsmHwMonCfg3;        // 37
            =3     UINT16 usAsmHwMonCfg4;        // 38
            =3     UINT16 usAsmHwMonTimer;       // 39
            =3     UINT16 usAsmVreshCfgLcdon;    // 40
            =3 } ST_AsmRegisters;
            =3 
            =3 typedef union
            =3 {
            =3     ST_AsmRegisters reg;
            =3     UINT16 offset[sizeof(ST_AsmRegisters)>>1];
            =3 } Union_AsmReg;
            =3 
            =3 
            =3 /*******************************************************************************/
            =3 /* AFE reg */
            =3 #if 0
            =3 typedef struct
            =3 {
            =3     UINT16 usAfeAsmCfg;              // 0x00
            =3     UINT16 usAfePanelCfg0;           // 0x01
            =3     UINT16 usAfePanelCfg1;           // 0x02
            =3     UINT16 usAfePanelCfg2;           // 0x03
            =3     UINT16 usAfeSysCfg0;             // 0x04
            =3     UINT16 usAfeSysCfg1;             // 0x05
            =3     UINT16 usAfeScanCfg0;            // 0x06
            =3     UINT16 usAfeScanCfg1;            // 0x07
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 57  

            =3     UINT16 usAfeDummyScanCfg;        // 0x08
            =3     UINT16 usAfeBaseTrackCfg;        // 0x09
            =3     UINT16 usAfeAcc_Offset;          // 0x0A
            =3     UINT16 usAfeTpMonTh;             // 0x0B
            =3     UINT16 usAfeKeyMonTh;            // 0x0C
            =3     UINT16 usAfeAnaGenCfg0;          // 0x0D
            =3     UINT16 usAfeAnaGenCfg1;          // 0x0E
            =3     UINT16 usAfeAnaCaCfg0;           // 0x0F
            =3     UINT16 usAfeAnaCaCfg1;           // 0x10
            =3     UINT16 usAfeAnaCaCfg2;           // 0x11
            =3     UINT16 usAfeAnaP1P2Cfg0;         // 0x12
            =3     UINT16 usAfeAnaP1P2Cfg1;         // 0x13
            =3     UINT16 usAfeAnaP1P2Cfg2;         // 0x14 
            =3     UINT16 usAfeAnaP1P2Cfg3;         // 0x15    
            =3     UINT16 usAfeAnaP1P2Cfg4;         // 0x16
            =3     UINT16 usAfeAnaP1P2Cfg5;         // 0x17
            =3     UINT16 usAfeP1P2DlyCfg0;         // 0x18
            =3     UINT16 usAfeP1P2DlyCfg1;         // 0x19
            =3     UINT16 usAfeAnaShcfg0;           // 0x1A
            =3     UINT16 usAfeAnaShcfg1;           // 0x1B
            =3     UINT16 usAfeAnaShcfg2;           // 0x1C
            =3     UINT16 usAfeAnaShcfg3;           // 0x1D
            =3     UINT16 usAfeAnaShcfg4;           // 0x1E
            =3     UINT16 usAfeAnaShcfg5;           // 0x1F
            =3     UINT16 usAfeAnaShcfg6;           // 0x20
            =3     UINT16 usAfeAnaAdcCfg0;          // 0x21
            =3     UINT16 usAfeAnaAdcCfg1;          // 0x22 
            =3     UINT16 usAfeAnaAdcCfg2;          // 0x23
            =3     UINT16 usAfeAnaAdcCfg3;          // 0x24
            =3     UINT16 usAfeGiphP1P2Cfg;         // 0x25
            =3     UINT16 usAfeGiplP1P2Cfg;         // 0x26
            =3     UINT16 usAfeSdVcomCfg;           // 0x27
            =3     UINT16 usAfeSxP1P2Cfg;           // 0x28
            =3     UINT16 usAllGateOnLCfg;          // 0x29
            =3     UINT16 usAllGateOffLCfg;         // 0x2A
            =3     UINT16 usAllGateStopLCfg;        // 0x2B
            =3     UINT16 usAllGateHCfg;            // 0x2C
            =3     UINT16 usRptRawdataNum;          // 0x2D
            =3     UINT16 usCbAdjustTh;             // 0x2E
            =3     UINT16 usTestModeCfg;            // 0x2F
            =3     UINT16 usPrescanTime;            // 0x30
            =3     UINT16 usDischargeTime;          // 0x31
            =3     UINT16 usAfeAnaStaticCfg0;       // 0x32
            =3     UINT16 usAfeAnaStaticCfg1;       // 0x33
            =3     UINT16 usAfeAnaStaticCfg2;       // 0x34
            =3     UINT16 usAfeAnaStaticCfg3;       // 0x35
            =3     UINT16 usAfeTestPin0Cfg0;        // 0x36
            =3     UINT16 usAfeTestPin0Cfg1;        // 0x37
            =3     UINT16 usAfeTestPin0Cfg2;        // 0x38
            =3     UINT16 usAfeTestPin1Cfg0;        // 0x39
            =3     UINT16 usAfeTestPin1Cfg1;        // 0x3A
            =3     UINT16 usAfeTestPin1Cfg2;        // 0x3B
            =3     UINT16 usReserveZone1;           // 0x3C
            =3     UINT16 usReserveZone2;           // 0x3D
            =3     UINT16 usReserveZone3;           // 0x3E
            =3     UINT16 usReserveZone4;           // 0x3F    
            =3     UINT16 usMcapScanCfg;            // 0x40
            =3     UINT16 usMcapScanSr;             // 0x41
            =3     UINT16 usMcapKeyInterVal6;       // 0x42
            =3     UINT16 usMcapDummyScanNum;       // 0x43
            =3     UINT16 usMcapRawShiftCof;        // 0x44
            =3     UINT16 usMcapRawOffSetL;         // 0x45
            =3     UINT16 usMcapAdcCfg;             // 0x46
            =3     UINT16 usMcapAdcDat0;            // 0x47
            =3     UINT16 usMcapInitSamplCfg;       // 0x48
            =3     UINT16 usMcapOverFlowThr;        // 0x49
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 58  

            =3     UINT16 usMcapUnderFlowThr;       // 0x4A
            =3     UINT16 usMcapOverFlowUpBound;    // 0x4B
            =3     UINT16 usMcapOverFlowPointFrame; // 0x4C
            =3     UINT16 usMcapNormalSignalUpThr;  // 0x4D
            =3     UINT16 usMcapNormalSignalDwThr;  // 0x4E
            =3     UINT16 usMcapOverFlowClrFrameNum;// 0x4F
            =3     UINT16 usMcapLpfirCfg;           // 0x50
            =3     UINT16 usMcapLpFirCfg0;          // 0x51
            =3     UINT16 usMcapLpFirCfg1;          // 0x52
            =3     UINT16 usMcapLpFirCfg2;          // 0x53
            =3     UINT16 usMcapLpFirCfg3;          // 0x54
            =3     UINT16 usMcapLpFirCfg4;          // 0x55  
            =3     UINT16 usMcapLpFirCfg5;          // 0x56
            =3     UINT16 usMcapLpFirCfg6;          // 0x57
            =3     UINT16 usMcapLpFirCfg7;          // 0x58
            =3    
            =3 } ST_AfeRegList;
            =3 #endif
            =3 
            =3 typedef enum
            =3 {
            =3     Addr_PANEL_MODE_CFG0 =1, 
            =3     Addr_PANEL_MODE_CFG1 =2,
            =3     Addr_PANEL_MODE_CFG2 =3, 
            =3     Addr_AFE_SYS_CFG0 =4, 
            =3     Addr_AFE_SYS_CFG1 =5, 
            =3     Addr_AFE_SCAN_CFG0 =6, 
            =3     Addr_AFE_SCAN_CFG1 =7, 
            =3     Addr_AFE_DUMMY_SCAN_CFG =8, 
            =3     Addr_AFE_BASE_TRACK_CFG =9, 
            =3     Addr_ACC_OFFSET =10, 
            =3     Addr_TP_MONITOR_THRESHOLD =11,
            =3     Addr_KEY_MONITOR_THRESHOLD =12, 
            =3     Addr_AFE_ANA_K1_CFG0 =13,
            =3     Addr_AFE_ANA_K2_CFG1 =14,
            =3     Addr_AFE_ANA_CA_CFG0 =15, 
            =3     Addr_AFE_ANA_CA_CFG1 =16, 
            =3     Addr_AFE_ANA_CA_CFG2 =17,
            =3     Addr_AFE_ANA_P1_P2_CFG0 =18, 
            =3     Addr_AFE_ANA_P1_P2_CFG1 =19,
            =3     Addr_AFE_ANA_P1_P2_CFG2 =20, 
            =3     Addr_AFE_ANA_P1_P2_CFG3 =21,
            =3     Addr_AFE_ANA_P1_P2_CFG4 =22, 
            =3     Addr_AFE_ANA_P1_P2_CFG5 =23, 
            =3     Addr_AFE_P1_P2_DLY_CFG0 =24, 
            =3     Addr_AFE_P1_P2_DLY_CFG1 =25, 
            =3     Addr_AFE_ANA_SH_CFG0 =26,
            =3     Addr_AFE_ANA_SH_CFG1 =27, 
            =3     Addr_AFE_ANA_SH_CFG2 =28, 
            =3     Addr_AFE_ANA_SH_CFG3 =29, 
            =3     Addr_AFE_ANA_SH_CFG4 =30, 
            =3     Addr_AFE_ANA_SH_CFG5 =31,
            =3     Addr_AFE_ANA_SH_CFG6 =32, 
            =3     Addr_AFE_ANA_ADC_CFG0 =33, 
            =3     Addr_AFE_ANA_ADC_CFG1 =34, 
            =3     Addr_AFE_ANA_ADC_CFG2 =35, 
            =3     Addr_AFE_ANA_ADC_CFG3 =36, 
            =3     Addr_AFE_GIPH_P1_P2_CFG =37, 
            =3     Addr_AFE_GIPL_P1_P2_CFG =38, 
            =3     Addr_AFE_SD_VOM_OPT_P1_P2_CFG =39,
            =3     Addr_AFE_SX_P1_P2_CFG =40, 
            =3     Addr_AFE_MOUT_GIPH_CFG = 41,
            =3     Addr_AFE_MOUT_GIPL_CFG = 42,
            =3     Addr_AFE_GOUT_GIPH_CFG = 43,
            =3     Addr_AFE_GOUT_GIPL_CFG = 44,
            =3    
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 59  

            =3     Addr_ALL_GATE_ON_L_CFG =45, 
            =3     Addr_ALL_GATE_OFF_L_CFG =46,
            =3     Addr_ALL_GATE_STOP_L_CFG =47, 
            =3     Addr_ALL_GATE_H_CFG =48,                              
            =3     Addr_RPT_RAWDATA_NUM =49,                             
            =3     Addr_CB_ADJUST_THLD =50,                                
            =3     Addr_TEST_MODE_FLAG =51,                              
            =3     Addr_PRESCAN_TIME =52,                                 
            =3     Addr_DISCHARGE_TIME =53,                               
            =3     Addr_ANA_STATIC_CFG0 =54,                              
            =3     Addr_ANA_STATIC_CFG1 =55,                               
            =3     Addr_ANA_STATIC_CFG2 =56,                              
            =3     Addr_ANA_STATIC_CFG3 =57,                            
            =3     Addr_TEST_P0_CFG0 =58,                               
            =3     Addr_TEST_P0_CFG1 =59,                               
            =3     Addr_TEST_P0_CFG2 =60,                                 
            =3     Addr_TEST_P1_CFG0 =61,                               
            =3     Addr_TEST_P1_CFG1 =62,                                
            =3     Addr_TEST_P1_CFG2 =63,                                 
            =3                                                                                                          
             -                                                          
            =3     Addr_MCAP_SCAN_CFG =64,                                
            =3     Addr_MCAP_SCANSR =65,                                  
            =3     Addr_KEY_SAMPLE_INTERVAL_6 =66,                     
            =3     Addr_RAWSHIFTCAF =67,                                
            =3     Addr_RAWDATA_OFFSET_L =68,                           
            =3     Addr_ADC_CFG =69,                                      
            =3     Addr_ADC_DATA0 =70,                                   
            =3     Addr_MCAP_INIT_SAMPL_CFG =71,                         
            =3     Addr_OVERFLOW_THR =72,                                 
            =3     Addr_UNDERFLOW_THR =73,                                
            =3     Addr_OVERFLOW_UPBOUND =74,                            
            =3     Addr_OVER_POINT_FRAME =75,                             
            =3     Addr_NORMAL_SIGNAL_UPTHR =76,                          
            =3     Addr_NORMAL_SIGNAL_DWTHR =77,                        
            =3     Addr_OVERFLOW_CLR_FRAMENUM =78,                       
            =3     Addr_MCAP_LPFIR_CFG =79,                               
            =3     Addr_MCAP_LPFIR_COF0 =80,                              
            =3     Addr_MCAP_LPFIR_COF1 =81,                              
            =3     Addr_MCAP_LPFIR_COF2 =82,                             
            =3     Addr_MCAP_LPFIR_COF3 =83,                              
            =3     Addr_MCAP_LPFIR_COF4 =84,                              
            =3     Addr_MCAP_LPFIR_COF5 =85,                            
            =3     Addr_MCAP_LPFIR_COF6 =86,                             
            =3     Addr_MCAP_LPFIR_COF7 =87,   
            =3 }ENUM_AFE_ADDR;
            =3 
            =3 
            =3 /*******************************************************************************/
            =3 /* Afe table reg */
            =3 
            =3 /*******************************************************************************/
            =3 
            =3 
            =3 /*******************************************************************************
            =3 * Global variable extern declarations
            =3 *******************************************************************************/
            =3 
            =3 /*******************************************************************************
            =3 * Global function prototypes
            =3 *******************************************************************************/
            =3 
            =3 #endif //_FT8836_REG_H_
   24       =2 
   25       =2 /*******************************************************************************
   26       =2 * 2.Global constant and macro definitions using #define
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 60  

   27       =2 *******************************************************************************/
   28       =2 
   29       =2 /*******************************************************************************
   30       =2 * 3.Global structures, unions and enumerations using typedef
   31       =2 *******************************************************************************/
   32       =2 
   33       =2 /*******************************************************************************
   34       =2 * 4.Global variable extern declarations
   35       =2 *******************************************************************************/
   36       =2 //extern ST_RlDmaRegisters * XRAM pRlDmaRegs;
   37       =2 extern ST_LcdWrapRegisters *XRAM pLcdWrapRegs;
   38       =2 
   39       =2 /*******************************************************************************
   40       =2 * 5.Global function prototypes
   41       =2 *******************************************************************************/
   42       =2 void Drv_XbusInit();
   43       =2 UINT16 DrvXbus_ReadLcd16(UINT16 usaddr);
   44       =2 void DrvXbus_WriteLcd8(UINT16 usaddr,UINT8 usdata);
   45       =2 
   46       =2 #if _TEST_XBUS_EN
            =2 void Test_Xbus(void);
            =2 #else
   49       =2 //#define Test_Xbus  /##/
   50       =2 #endif
   51       =2 
   52       =2 #endif
   53       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: uart.h
    5       =2 *
    6       =2 *    Author: linjianjun
    7       =2 *
    8       =2 *   Created: 2013-06-05
    9       =2 *
   10       =2 *  Abstract: DBG_ ‰≥ˆ≤ªƒ‹ªª––≤Ÿ◊˜
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef  __UART1_H__
   16       =2 #define  __UART1_H__
   17       =2 
   18       =2 /* Conditional Compiler Options */
   19       =2 #define _BLK_DBG_EN      1
   20       =2 
   21       =2 #if _BLK_DBG_EN
   22       =2 /*******************************************************************************
   23       =2 * Included files
   24       =2 *******************************************************************************/
   25       =2 #include <STDIO.H>
    1       =3 /*--------------------------------------------------------------------------
    2       =3 STDIO.H
    3       =3 
    4       =3 Prototypes for standard I/O functions for C251 Version 3.
    5       =3 Copyright (c) 1995-2001 Keil Elektronik GmbH and Keil Software, Inc.
    6       =3 All rights reserved.
    7       =3 --------------------------------------------------------------------------*/
    8       =3 
    9       =3 #pragma SAVE
   10       =3 #pragma PARM251
   11       =3 
   12       =3 #ifndef EOF
   13       =3  #define EOF -1
   14       =3 #endif
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 61  

   15       =3 
   16       =3 #ifndef NULL
   17       =3  #define NULL ((void *) 0)
   18       =3 #endif
   19       =3 
   20       =3 #ifndef _SIZE_T
   21       =3  #define _SIZE_T
   22       =3  typedef unsigned int size_t;
   23       =3 #endif
   24       =3 
   25       =3 #if (__C251__ >= 200) 
   26       =3 #pragma SAVE
   27       =3 #pragma FUNCTIONS(STATIC)
   28       =3 /* only static functions available */
   29       =3 extern char _getkey  (void);
   30       =3 extern char getchar  (void);
   31       =3 extern char ungetchar(char);
   32       =3 extern char putchar  (char);
   33       =3 extern int  printf   (const char *, ...); 
   34       =3 extern char *gets    (char *, int n);
   35       =3 extern int  scanf    (const char *, ...);
   36       =3 extern int  vprintf  (const char *, char *);
   37       =3 extern int  puts     (const char *);
   38       =3 #pragma RESTORE
   39       =3 /* available as reentrant & non-reentrant version */
   40       =3 extern int  sprintf  (char *, const char *, ...);
   41       =3 extern int  vsprintf (char *, const char *, char *);
   42       =3 extern int  sscanf   (char *, const char *, ...);
   43       =3 #else
            =3 extern char _getkey (void);
            =3 extern char getchar (void);
            =3 extern char ungetchar (char);
            =3 extern char putchar (char);
            =3 extern int printf   (const char *, ...);
            =3 extern int sprintf  (char *, const char *, ...);
            =3 extern int vprintf  (const char *, char *);
            =3 extern int vsprintf (char *, const char *, char *);
            =3 extern char *gets (char *, int n);
            =3 extern int scanf (const char *, ...);
            =3 extern int sscanf (char *, const char *, ...);
            =3 extern int puts (const char *);
            =3 #endif
   57       =3 
   58       =3 #pragma RESTORE
   26       =2 #include <REG251S.H>
    1       =3 /*--------------------------------------------------------------------------
    2       =3 REG251S.H
    3       =3 
    4       =3 Header file for 8xC251SA/SB/SQ/SP
    5       =3 Copyright (c) 1988-2002 Keil Elektronik GmbH and Keil Software, Inc.
    6       =3 All rights reserved.
    7       =3 --------------------------------------------------------------------------*/
    8       =3 
    9       =3 #ifndef __REG251S_H__
   10       =3 #define __REG251S_H__
   11       =3 
   12       =3 /*  BYTE Registers  */
   13       =3 sfr P0   = 0x80;
   14       =3 sfr P1   = 0x90;
   15       =3 sfr P2   = 0xA0;
   16       =3 sfr P3   = 0xB0;
   17       =3 sfr PSW  = 0xD0;
   18       =3 sfr PSW1 = 0xD1;
   19       =3 sfr ACC  = 0xE0;
   20       =3 sfr B    = 0xF0;
   21       =3 sfr SP   = 0x81;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 62  

   22       =3 sfr SPH  = 0xBE;
   23       =3 sfr DPL  = 0x82;
   24       =3 sfr DPH  = 0x83;
   25       =3 sfr DPXL = 0x84;
   26       =3 sfr PCON = 0x87;
   27       =3 sfr TCON = 0x88;
   28       =3 sfr TMOD = 0x89;
   29       =3 sfr TL0  = 0x8A;
   30       =3 sfr TL1  = 0x8B;
   31       =3 sfr TH0  = 0x8C;
   32       =3 sfr TH1  = 0x8D;
   33       =3 sfr IE0  = 0xA8;
   34       =3 sfr IPL0 = 0xB8;
   35       =3 sfr IPH0 = 0xB7;
   36       =3 sfr SCON = 0x98;
   37       =3 sfr SBUF = 0x99;
   38       =3 sfr SADDR  = 0xA9;
   39       =3 sfr SADEN  = 0xB9;
   40       =3 sfr T2CON  = 0xC8;
   41       =3 sfr T2MOD  = 0xC9;
   42       =3 sfr RCAP2L = 0xCA;
   43       =3 sfr RCAP2H = 0xCB;
   44       =3 sfr TL2    = 0xCC;
   45       =3 sfr TH2    = 0xCD;
   46       =3 sfr CCON   = 0xD8;
   47       =3 sfr CMOD   = 0xD9;
   48       =3 sfr CCAPM0 = 0xDA;
   49       =3 sfr CCAPM1 = 0xDB;
   50       =3 sfr CCAPM2 = 0xDC;
   51       =3 sfr CCAPM3 = 0xDD;
   52       =3 sfr CCAPM4 = 0xDE;
   53       =3 sfr CL     = 0xE9;
   54       =3 sfr CCAP0L = 0xEA;
   55       =3 sfr CCAP1L = 0xEB;
   56       =3 sfr CCAP2L = 0xEC;
   57       =3 sfr CCAP3L = 0xED;
   58       =3 sfr CCAP4L = 0xEE;
   59       =3 sfr CH     = 0xF9;
   60       =3 sfr CCAP0H = 0xFA;
   61       =3 sfr CCAP1H = 0xFB;
   62       =3 sfr CCAP2H = 0xFC;
   63       =3 sfr CCAP3H = 0xFD;
   64       =3 sfr CCAP4H = 0xFE;
   65       =3 sfr WDTRST = 0xA6;
   66       =3 sfr WCON   = 0xA7;
   67       =3 
   68       =3 
   69       =3 /*  BIT Registers  */
   70       =3 /*  PSW   */
   71       =3 sbit CY   = 0xD7;
   72       =3 sbit AC   = 0xD6;
   73       =3 sbit F0   = 0xD5;
   74       =3 sbit RS1  = 0xD4;
   75       =3 sbit RS0  = 0xD3;
   76       =3 sbit OV   = 0xD2;
   77       =3 sbit UD   = 0xD1;
   78       =3 sbit P    = 0xD0;
   79       =3 
   80       =3 /*  TCON  */
   81       =3 sbit TF1  = 0x8F;
   82       =3 sbit TR1  = 0x8E;
   83       =3 sbit TF0  = 0x8D;
   84       =3 sbit TR0  = 0x8C;
   85       =3 sbit IE1_ = 0x8B;
   86       =3 sbit IT1  = 0x8A;
   87       =3 sbit IE0_ = 0x89;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 63  

   88       =3 sbit IT0  = 0x88;
   89       =3 
   90       =3 /*  IE0   */
   91       =3 sbit EA   = 0xAF;
   92       =3 sbit EC   = 0xAE;
   93       =3 sbit ET2  = 0xAD;
   94       =3 sbit ES   = 0xAC;
   95       =3 sbit ET1  = 0xAB;
   96       =3 sbit EX1  = 0xAA;
   97       =3 sbit ET0  = 0xA9;
   98       =3 sbit EX0  = 0xA8;
   99       =3 
  100       =3 /*  IPL0  */ 
  101       =3 sbit PPC  = 0xBE;
  102       =3 sbit PT2  = 0xBD;
  103       =3 sbit PS   = 0xBC;
  104       =3 sbit PT1  = 0xBB;
  105       =3 sbit PX1  = 0xBA;
  106       =3 sbit PT0  = 0xB9;
  107       =3 sbit PX0  = 0xB8;
  108       =3 
  109       =3 /*  P3  */
  110       =3 sbit RD   = 0xB7;
  111       =3 sbit WR   = 0xB6;
  112       =3 sbit T1   = 0xB5;
  113       =3 sbit T0   = 0xB4;
  114       =3 sbit INT1 = 0xB3;
  115       =3 sbit INT0 = 0xB2;
  116       =3 sbit TXD  = 0xB1;
  117       =3 sbit RXD  = 0xB0;
  118       =3 
  119       =3 /*  SCON  */
  120       =3 sbit FE   = 0x9F;
  121       =3 sbit SM0  = 0x9F;
  122       =3 sbit SM1  = 0x9E;
  123       =3 sbit SM2  = 0x9D;
  124       =3 sbit REN  = 0x9C;
  125       =3 sbit TB8  = 0x9B;
  126       =3 sbit RB8  = 0x9A;
  127       =3 sbit TI   = 0x99;
  128       =3 sbit RI   = 0x98;
  129       =3 
  130       =3 /*  P1  */
  131       =3 sbit CEX4 = 0x97;
  132       =3 sbit CEX3 = 0x96;
  133       =3 sbit CEX2 = 0x95;
  134       =3 sbit CEX1 = 0x94;
  135       =3 sbit CEX0 = 0x93;
  136       =3 sbit ECI  = 0x92;
  137       =3 sbit T2EX = 0x91;
  138       =3 sbit T2   = 0x90;
  139       =3 
  140       =3 /*  T2CON  */
  141       =3 sbit TF2   = 0xCF;
  142       =3 sbit EXF2  = 0xCE;
  143       =3 sbit RCLK  = 0xCD;
  144       =3 sbit TCLK  = 0xCC;
  145       =3 sbit EXEN2 = 0xCB;
  146       =3 sbit TR2   = 0xCA;
  147       =3 sbit C_T2  = 0xC9;
  148       =3 sbit CP_RL2= 0xC8;
  149       =3 
  150       =3 /*  CCON  */
  151       =3 sbit CF    = 0xDF;
  152       =3 sbit CR    = 0xDE;
  153       =3 sbit CCF4  = 0xDC;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 64  

  154       =3 sbit CCF3  = 0xDB;
  155       =3 sbit CCF2  = 0xDA;
  156       =3 sbit CCF1  = 0xD9;
  157       =3 sbit CCF0  = 0xD8;
  158       =3 
  159       =3 #endif
   27       =2 #include "CfgGlobal.h"
   27       =2 /*******************************************************************************
   27       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
   27       =2 *
   27       =2 * File Name: uart.h
   27       =2 *
   27       =2 *    Author: linjianjun
   27       =2 *
   27       =2 *   Created: 2013-06-05
   27       =2 *
   27       =2 *  Abstract: DBG_ ‰≥ˆ≤ªƒ‹ªª––≤Ÿ◊˜
   27       =2 *
   27       =2 * Reference:
   27       =2 *
   27       =2 *******************************************************************************/
   27       =2 #ifndef  __UART1_H__
   27       =2 #define  __UART1_H__
   27       =2 
   27       =2 /* Conditional Compiler Options */
   27       =2 #define _BLK_DBG_EN      1
   27       =2 
   27       =2 #if _BLK_DBG_EN
   27       =2 /*******************************************************************************
   27       =2 * Included files
   27       =2 *******************************************************************************/
   27       =2 #include <STDIO.H>
   27       =2 #include <REG251S.H>
   27       =2 #include "CfgGlobal.h"
   28       =2 
   29       =2 /*******************************************************************************
   30       =2 * Global constant and macro definitions using #define
   31       =2 *******************************************************************************/
   32       =2 #define BAUD_RATE 115200
   33       =2 //#define BAUD_RATE 57600
   34       =2 //#define BAUD_RATE 38400
   35       =2 //#define BAUD_RATE 19200
   36       =2 #define _UART_RECEIVE_EN   0  // Ω” ’ πƒ‹∫Í
   37       =2 
   38       =2 
   39       =2 #define _UART_OUT_GPIO2    0
   40       =2 #define _UART_OUT_GPIO3    1  //default
   41       =2 #define _UART_OUT_GPIO4    0
   42       =2 
   43       =2 #define _FOR_RD            0
   44       =2 
   45       =2 /************** ƒ£øÈ ‰≥ˆ∫Í ***************/
   46       =2 /* module */
   47       =2 #if _FOR_RD
            =2 #define DBG_FLOW        /##/
            =2 #define DBG_SFR         /##/
            =2 #define DBG_DRAM        /##/
            =2 #define DBG_PROM        /##/
            =2 #define DBG_ARAM        /##/
            =2 #define DBG_SPI0_REG    /##/
            =2 #define DBG_XSI_REG     /##/
            =2 #define DBG_XBUS_REG    /##/
            =2 #define DBG_ASM_REG     /##/
            =2 #define DBG_CAL_REG     /##/
            =2 #define DBG_LCD_REG     /##/
            =2 #define DBG_AFE_REG     /##/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 65  

            =2 #define DBG_AFE_RAM     /##/
            =2 #define DBG_SPI         /##/
            =2 #define DBG_LED         /##/
            =2 #define DBG_I2C         /##/
            =2 
            =2 #define DBG_WDT         /##/
            =2 #define DBG_RTC         /##/
            =2 #define DBG_CNT         /##/
            =2 #define DBG_GPIO        /##/
            =2 #define DBG_TIMER       /##/
            =2 #define DBG_INT         /##/
            =2 #define DBG_GPIOWK      /##/
            =2 #define DBG_I2CWK       /##/
            =2 #define DBG_XSI         /##/
            =2 #define DBG_CAL         /##/
            =2 #define DBG_CAL_DATA    /##/
            =2 #define DBG_AFE         /##/
            =2 #define DBG_MODE        /##/
            =2 #define DBG_ERROR       /##/
            =2 #define DBG_UART        /##/
            =2 #define DBG_SPI0WK      /##/
            =2 #define DBG_DEBUGOUT    /##/
            =2 
            =2 #else
   84       =2 #define DBG_TEST        printf
   85       =2 #define DBG_FLOW        printf       //printf in main.c
   86       =2 #define DBG_SFR         printf
   87       =2 #define DBG_DRAM        printf
   88       =2 #define DBG_PROM        printf
   89       =2 #define DBG_ARAM        printf
   90       =2 #define DBG_SPI0_REG    printf
   91       =2 #define DBG_XSI_REG     printf
   92       =2 #define DBG_XBUS_REG    printf
   93       =2 #define DBG_ASM_REG     printf
   94       =2 #define DBG_CAL_REG     printf
   95       =2 #define DBG_LCD_REG     printf
   96       =2 #define DBG_AFE_REG     printf
   97       =2 #define DBG_AFE_RAM     printf
   98       =2 #define DBG_SPI         printf
   99       =2 #define DBG_LED         printf
  100       =2 #define DBG_I2C         printf
  101       =2 
  102       =2 #define DBG_WDT         printf
  103       =2 #define DBG_RTC         printf
  104       =2 #define DBG_CNT         printf
  105       =2 #define DBG_GPIO        printf
  106       =2 #define DBG_TIMER       printf
  107       =2 #define DBG_INT         /##/printf
  108       =2 #define DBG_GPIOWK      printf
  109       =2 #define DBG_I2CWK       printf
  110       =2 #define DBG_XSI         printf
  111       =2 #define DBG_CAL         printf
  112       =2 #define DBG_CAL_DATA    printf
  113       =2 #define DBG_AFE         printf
  114       =2 #define DBG_MODE        printf
  115       =2 #define DBG_ERROR       printf
  116       =2 #define DBG_XBUS        printf
  117       =2 #define DBG_ECC         printf
  118       =2 #define DBG_UART        printf
  119       =2 #define DBG_SPI0WK      printf
  120       =2 #define DBG_DEBUGOUT    printf
  121       =2 #endif
  122       =2 
  123       =2 void  DrvUartInit(void);
  124       =2 SINT8 putchar(SINT8 c);
  125       =2 UINT8 CLK_DIV(UINT8 div);
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 66  

  126       =2 
  127       =2 extern volatile UINT16 XRAM s_ucUartTxLen;
  128       =2 #else
            =2 #define DrvUartInit()   /##/
            =2 #define CLK_DIV()       /##/
            =2  
            =2 /************** ƒ£øÈ ‰≥ˆ∫Í ***************/
            =2 /* module */
            =2 #define DBG_FLOW        /##/
            =2 #define DBG_SFR         /##/
            =2 #define DBG_DRAM        /##/
            =2 #define DBG_PROM        /##/
            =2 #define DBG_ARAM        /##/
            =2 #define DBG_SPI0_REG    /##/
            =2 #define DBG_XSI_REG     /##/
            =2 #define DBG_XBUS_REG    /##/
            =2 #define DBG_ASM_REG     /##/
            =2 #define DBG_CAL_REG     /##/
            =2 #define DBG_LCD_REG     /##/
            =2 #define DBG_AFE_REG     /##/
            =2 #define DBG_AFE_RAM     /##/
            =2 #define DBG_SPI         /##/
            =2 #define DBG_LED         /##/
            =2 #define DBG_I2C         /##/
            =2 #define DBG_TEST        /##/printf
            =2 
            =2 #define DBG_WDT         /##/
            =2 #define DBG_RTC         /##/
            =2 #define DBG_CNT         /##/
            =2 #define DBG_GPIO        /##/
            =2 #define DBG_TIMER       /##/
            =2 #define DBG_INT         /##/
            =2 #define DBG_GPIOWK      /##/
            =2 #define DBG_I2CWK       /##/
            =2 #define DBG_XSI         /##/
            =2 #define DBG_CAL         /##/
            =2 #define DBG_CAL_DATA    /##/
            =2 #define DBG_AFE         /##/
            =2 #define DBG_MODE        /##/
            =2 #define DBG_ERROR       /##/
            =2 #define DBG_UART        /##/
            =2 #define DBG_SPI0WK      /##/
            =2 #define DBG_DEBUGOUT    /##/
            =2 
            =2 #endif
  171       =2 /*******************************************************************************
  172       =2 * Global variable extern declarations
  173       =2 *******************************************************************************/
  174       =2 
  175       =2 /*******************************************************************************
  176       =2 * Global function prototypes
  177       =2 *******************************************************************************/
  178       =2 
  179       =2 #endif
  180       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_GPIO.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-18
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 67  

   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef _TEST_GPIO_H_
   19       =2 #define _TEST_GPIO_H_
   20       =2 
   21       =2 
   22       =2 /*******************************************************************************
   23       =2 * 1.Included files
   24       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   25       =2 /*******************************************************************************
   25       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   25       =2 *
   25       =2 * File Name: Test_GPIO.h
   25       =2 *
   25       =2 *    Author: xinkunpeng
   25       =2 *
   25       =2 *   Created: 2014-04-18
   25       =2 *
   25       =2 *  Abstract:
   25       =2 *
   25       =2 * Reference:
   25       =2 *
   25       =2 * Version:
   25       =2 * 0.1:
   25       =2 *
   25       =2 *******************************************************************************/
   25       =2 #ifndef _TEST_GPIO_H_
   25       =2 #define _TEST_GPIO_H_
   25       =2 
   25       =2 
   25       =2 /*******************************************************************************
   25       =2 * 1.Included files
   25       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   26       =2 
   27       =2 #if _TEST_GPIO_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_GPIO(void);
            =2 #else
   45       =2 #define Test_GPIO /##/
   46       =2 #endif
   47       =2 
   48       =2 #endif // _DRV_MC_DATA_COLLECT_H_
   49       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 68  

    4       =2 * File Name: Test_WDT.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2013-04-21
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef __TEST_WTD_H__
   16       =2 #define __TEST_WTD_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * 1.Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_WDT.h
   21       =2 *
   21       =2 *    Author: xinkunpeng
   21       =2 *
   21       =2 *   Created: 2013-04-21
   21       =2 *
   21       =2 *  Abstract:
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef __TEST_WTD_H__
   21       =2 #define __TEST_WTD_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * 1.Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 #if _TEST_WDT_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_WDT(void);
            =2 #else
   42       =2 
   43       =2 #define Test_WDT() /##/
   44       =2 #endif
   45       =2 
   46       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 69  

    3       =2 *
    4       =2 * File Name: Test_RTC.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-18
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_RTC__
   19       =2 #define __TEST_RTC__
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_RTC.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
   24       =2 *   Created: 2014-04-18
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 * Version:
   24       =2 * 0.1:
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_RTC__
   24       =2 #define __TEST_RTC__
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_RTC_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_RTC(void);
            =2 #else
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 70  

   45       =2 #define Test_RTC  /##/
   46       =2 #endif
   47       =2 
   48       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_timer.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-24
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_TIMER_H__
   19       =2 #define __TEST_TIMER_H__
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_timer.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
   24       =2 *   Created: 2014-04-24
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 * Version:
   24       =2 * 0.1:
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_TIMER_H__
   24       =2 #define __TEST_TIMER_H__
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_TIMER_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 71  

            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Timer(void);
            =2 #else
   45       =2 #define Test_Timer /##/
   46       =2 #endif
   47       =2 
   48       =2 #endif
   49       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_WDT.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2013-04-21
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef __TEST_CNT_H__
   16       =2 #define __TEST_CNT_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * 1.Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_WDT.h
   21       =2 *
   21       =2 *    Author: xinkunpeng
   21       =2 *
   21       =2 *   Created: 2013-04-21
   21       =2 *
   21       =2 *  Abstract:
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef __TEST_CNT_H__
   21       =2 #define __TEST_CNT_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * 1.Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 #if _TEST_CNT_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 72  

            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Counter(void);
            =2 #else
   41       =2 
   42       =2 #define Test_Counter() /##/
   43       =2 #endif
   44       =2 
   45       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_Prom.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-24
    9       =2 *
   10       =2 *  Abstract: Please describe the interface in detail for this module
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_PROM_H__
   16       =2 #define _TEST_PROM_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_Prom.h
   21       =2 *
   21       =2 *    Author: xinkunpeng
   21       =2 *
   21       =2 *   Created: 2014-04-24
   21       =2 *
   21       =2 *  Abstract: Please describe the interface in detail for this module
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_PROM_H__
   21       =2 #define _TEST_PROM_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 /*******************************************************************************
   24       =2 * Global constant and macro definitions using #define
   25       =2 *******************************************************************************/
   26       =2 
   27       =2 #if _TEST_PROM_EN
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 73  

            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Prom(void);
            =2 #else
   41       =2 #define Test_Prom()  /##/
   42       =2 #endif
   43       =2 
   44       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_Dram.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-22
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_DRAM_H__
   16       =2 #define _TEST_DRAM_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_Dram.h
   21       =2 *
   21       =2 *    Author: xinkunpeng
   21       =2 *
   21       =2 *   Created: 2014-04-22
   21       =2 *
   21       =2 *  Abstract:
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_DRAM_H__
   21       =2 #define _TEST_DRAM_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 #if _TEST_DRAM_EN
            =2 /*******************************************************************************
            =2 * Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 #define TEST_PATTERN1         0x5A
            =2 #define TEST_PATTERN2         0xA5
            =2 #define TEST_PATTERN3         0x55AA
            =2 #define TEST_PATTERN4         0xAA55
            =2 #define TEST_PATTERN5         0x12345678//0x55AA55AA
            =2 #define TEST_PATTERN6         0x11223344//0xAA55AA55
            =2 
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 74  

            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 extern UINT8  XRAM ucReadBack;
            =2 extern UINT16 XRAM usReadBack;
            =2 extern UINT32 XRAM ulReadBack;
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Dram(void);
            =2 #else
   50       =2 #define Test_Dram()  /##/
   51       =2 #endif
   52       =2 
   53       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_Aram.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-22
    9       =2 *
   10       =2 *  Abstract: Please describe the interface in detail for this module
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_ARAM_H__
   16       =2 #define _TEST_ARAM_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_Aram.h
   21       =2 *
   21       =2 *    Author: xinkunpeng
   21       =2 *
   21       =2 *   Created: 2014-04-22
   21       =2 *
   21       =2 *  Abstract: Please describe the interface in detail for this module
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_ARAM_H__
   21       =2 #define _TEST_ARAM_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 /*******************************************************************************
   24       =2 * Global constant and macro definitions using #define
   25       =2 *******************************************************************************/
   26       =2 
   27       =2 #if _TEST_ARAM_EN
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 75  

            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Aram(void);
            =2 #else
   41       =2 #define Test_Aram()  /##/
   42       =2 #endif
   43       =2 
   44       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_SFR.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-23
    9       =2 *
   10       =2 *  Abstract: Please describe the interface in detail for this module
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_SFR_H__
   16       =2 #define _TEST_SFR_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * 1.Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_SFR.h
   21       =2 *
   21       =2 *    Author: xinkunpeng
   21       =2 *
   21       =2 *   Created: 2014-04-23
   21       =2 *
   21       =2 *  Abstract: Please describe the interface in detail for this module
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_SFR_H__
   21       =2 #define _TEST_SFR_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * 1.Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 #if _TEST_SFR_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 sfr SFR_80H    =   0x80;
            =2 sfr SFR_81H    =   0x81;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 76  

            =2 sfr SFR_82H    =   0x82;
            =2 sfr SFR_83H    =   0x83;
            =2 sfr SFR_84H    =   0x84;
            =2 sfr SFR_85H    =   0x85;
            =2 sfr SFR_86H    =   0x86;
            =2 sfr SFR_87H    =   0x87;
            =2 sfr SFR_88H    =   0x88;
            =2 sfr SFR_89H    =   0x89;
            =2 sfr SFR_8AH    =   0x8A;
            =2 sfr SFR_8BH    =   0x8B;
            =2 sfr SFR_8CH    =   0x8C;
            =2 sfr SFR_8DH    =   0x8D;
            =2 sfr SFR_8EH    =   0x8E;
            =2 sfr SFR_8FH    =   0x8F;
            =2 sfr SFR_90H    =   0x90;
            =2 sfr SFR_91H    =   0x91;
            =2 sfr SFR_92H    =   0x92;
            =2 sfr SFR_93H    =   0x93;
            =2 sfr SFR_94H    =   0x94;
            =2 sfr SFR_95H    =   0x95;
            =2 sfr SFR_96H    =   0x96;
            =2 sfr SFR_97H    =   0x97;
            =2 sfr SFR_98H    =   0x98;
            =2 sfr SFR_99H    =   0x99;
            =2 sfr SFR_9AH    =   0x9A;
            =2 sfr SFR_9BH    =   0x9B;
            =2 sfr SFR_9CH    =   0x9C;
            =2 sfr SFR_9DH    =   0x9D;
            =2 sfr SFR_9EH    =   0x9E;
            =2 sfr SFR_9FH    =   0x9F;
            =2 sfr SFR_A0H    =   0xA0;
            =2 sfr SFR_A1H    =   0xA1;
            =2 sfr SFR_A2H    =   0xA2;
            =2 sfr SFR_A3H    =   0xA3;
            =2 sfr SFR_A4H    =   0xA4;
            =2 sfr SFR_A5H    =   0xA5;
            =2 sfr SFR_A6H    =   0xA6;
            =2 sfr SFR_A7H    =   0xA7;
            =2 sfr SFR_A8H    =   0xA8;
            =2 sfr SFR_A9H    =   0xA9;
            =2 sfr SFR_AAH    =   0xAA;
            =2 sfr SFR_ABH    =   0xAB;
            =2 sfr SFR_ACH    =   0xAC;
            =2 sfr SFR_ADH    =   0xAD;
            =2 sfr SFR_AEH    =   0xAE;
            =2 sfr SFR_AFH    =   0xAF;
            =2 sfr SFR_B0H    =   0xB0;
            =2 sfr SFR_B1H    =   0xB1;
            =2 sfr SFR_B2H    =   0xB2;
            =2 sfr SFR_B3H    =   0xB3;
            =2 sfr SFR_B4H    =   0xB4;
            =2 sfr SFR_B5H    =   0xB5;
            =2 sfr SFR_B6H    =   0xB6;
            =2 sfr SFR_B7H    =   0xB7;
            =2 sfr SFR_B8H    =   0xB8;
            =2 sfr SFR_B9H    =   0xB9;
            =2 sfr SFR_BAH    =   0xBA;
            =2 sfr SFR_BBH    =   0xBB;
            =2 sfr SFR_BCH    =   0xBC;
            =2 sfr SFR_BDH    =   0xBD;
            =2 sfr SFR_BEH    =   0xBE;
            =2 sfr SFR_BFH    =   0xBF;
            =2 sfr SFR_C0H    =   0xC0;
            =2 sfr SFR_C1H    =   0xC1;
            =2 sfr SFR_C2H    =   0xC2;
            =2 sfr SFR_C3H    =   0xC3;
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 77  

            =2 sfr SFR_C4H    =   0xC4;
            =2 sfr SFR_C5H    =   0xC5;
            =2 sfr SFR_C6H    =   0xC6;
            =2 sfr SFR_C7H    =   0xC7;
            =2 sfr SFR_C8H    =   0xC8;
            =2 sfr SFR_C9H    =   0xC9;
            =2 sfr SFR_CAH    =   0xCA;
            =2 sfr SFR_CBH    =   0xCB;
            =2 sfr SFR_CCH    =   0xCC;
            =2 sfr SFR_CDH    =   0xCD;
            =2 sfr SFR_CEH    =   0xCE;
            =2 sfr SFR_CFH    =   0xCF;
            =2 sfr SFR_D0H    =   0xD0;
            =2 sfr SFR_D1H    =   0xD1;
            =2 sfr SFR_D2H    =   0xD2;
            =2 sfr SFR_D3H    =   0xD3;
            =2 sfr SFR_D4H    =   0xD4;
            =2 sfr SFR_D5H    =   0xD5;
            =2 sfr SFR_D6H    =   0xD6;
            =2 sfr SFR_D7H    =   0xD7;
            =2 sfr SFR_D8H    =   0xD8;
            =2 sfr SFR_D9H    =   0xD9;
            =2 sfr SFR_DAH    =   0xDA;
            =2 sfr SFR_DBH    =   0xDB;
            =2 sfr SFR_DCH    =   0xDC;
            =2 sfr SFR_DDH    =   0xDD;
            =2 sfr SFR_DEH    =   0xDE;
            =2 sfr SFR_DFH    =   0xDF;
            =2 sfr SFR_E0H    =   0xE0;
            =2 sfr SFR_E1H    =   0xE1;
            =2 sfr SFR_E2H    =   0xE2;
            =2 sfr SFR_E3H    =   0xE3;
            =2 sfr SFR_E4H    =   0xE4;
            =2 sfr SFR_E5H    =   0xE5;
            =2 sfr SFR_E6H    =   0xE6;
            =2 sfr SFR_E7H    =   0xE7;
            =2 sfr SFR_E8H    =   0xE8;
            =2 sfr SFR_E9H    =   0xE9;
            =2 sfr SFR_EAH    =   0xEA;
            =2 sfr SFR_EBH    =   0xEB;
            =2 sfr SFR_ECH    =   0xEC;
            =2 sfr SFR_EDH    =   0xED;
            =2 sfr SFR_EEH    =   0xEE;
            =2 sfr SFR_EFH    =   0xEF;
            =2 sfr SFR_F0H    =   0xF0;
            =2 sfr SFR_F1H    =   0xF1;
            =2 sfr SFR_F2H    =   0xF2;
            =2 sfr SFR_F3H    =   0xF3;
            =2 sfr SFR_F4H    =   0xF4;
            =2 sfr SFR_F5H    =   0xF5;
            =2 sfr SFR_F6H    =   0xF6;
            =2 sfr SFR_F7H    =   0xF7;
            =2 sfr SFR_F8H    =   0xF8;
            =2 sfr SFR_F9H    =   0xF9;
            =2 sfr SFR_FAH    =   0xFA;
            =2 sfr SFR_FBH    =   0xFB;
            =2 sfr SFR_FCH    =   0xFC;
            =2 sfr SFR_FDH    =   0xFD;
            =2 sfr SFR_FEH    =   0xFE;
            =2 sfr SFR_FFH    =   0xFF;
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 78  

            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 extern UINT8 XRAM g_ucSFR[256];
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 UINT8 SFRGetRegMapDataNormal(UINT8 ucAddr);
            =2 void Test_SFR();
            =2 #else
  171       =2 #define Test_SFR /##/
  172       =2 #define SFRGetRegMapDataNormal(x)  /##/
  173       =2 #endif
  174       =2 
  175       =2 #endif
  176       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R),All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_Reg.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-23
    9       =2 *
   10       =2 *  Abstract: Please describe the interface in detail for this module
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_REG_H_
   16       =2 #define _TEST_REG_H_
   17       =2 
   18       =2 /* Conditional Compiler Options */
   19       =2 /*******************************************************************************
   20       =2 * Included files
   21       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   22       =2 /*******************************************************************************
   22       =2 * Copyright (C) 2013-2014, FocalTech Systems (R),All Rights Reserved.
   22       =2 *
   22       =2 * File Name: Test_Reg.h
   22       =2 *
   22       =2 *    Author: xinkunpeng
   22       =2 *
   22       =2 *   Created: 2014-04-23
   22       =2 *
   22       =2 *  Abstract: Please describe the interface in detail for this module
   22       =2 *
   22       =2 * Reference:
   22       =2 *
   22       =2 *******************************************************************************/
   22       =2 #ifndef _TEST_REG_H_
   22       =2 #define _TEST_REG_H_
   22       =2 
   22       =2 /* Conditional Compiler Options */
   22       =2 /*******************************************************************************
   22       =2 * Included files
   22       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   23       =2 
   24       =2 /*******************************************************************************
   25       =2 * Global constant and macro definitions using #define
   26       =2 *******************************************************************************/
   27       =2 
   28       =2 /*******************************************************************************
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 79  

   29       =2 * Global structures, unions and enumerations using typedef
   30       =2 *******************************************************************************/
   31       =2 
   32       =2 /*******************************************************************************
   33       =2 * Global variable extern declarations
   34       =2 *******************************************************************************/
   35       =2 
   36       =2 /*******************************************************************************
   37       =2 * Global function prototypes
   38       =2 *******************************************************************************/
   39       =2 #if _TEST_SPI0_REG_EN
            =2 void Test_Spi0Reg(void);
            =2 #else
   42       =2 #define Test_Spi0Reg    /##/
   43       =2 #endif
   44       =2 
   45       =2 #if _TEST_XSI_REG_EN
            =2 void Test_XsiReg(void);
            =2 #else
   48       =2 #define Test_XsiReg    /##/
   49       =2 #endif
   50       =2 
   51       =2 #if _TEST_XBUS_REG_EN
            =2 void Test_XbusReg(void);
            =2 #else
   54       =2 #define Test_XbusReg   /##/
   55       =2 #endif
   56       =2 
   57       =2 #if _TEST_CAL_REG_EN
            =2 void Test_CalReg(void);
            =2 #else
   60       =2 #define Test_CalReg    /##/
   61       =2 #endif
   62       =2 
   63       =2 #if _TEST_AFE_REG_EN
            =2 void Test_AfeReg(void);
            =2 #else
   66       =2 #define Test_AfeReg    /##/
   67       =2 #endif
   68       =2 
   69       =2 #if _TEST_ASM_REG_EN
            =2 void Test_AsmReg(void);
            =2 #else
   72       =2 #define Test_AsmReg    /##/
   73       =2 #endif
   74       =2 #if _TEST_AFE_RAM_EN
            =2 #define  TEST_TAB_RAM_EN          1   // tab ram enble
            =2 #define  TEST_RPT_RAM_EN          1   // rpt ram enble
            =2 #define  TEST_ACC_RAM4_EN         1   // acc ram4 enble
            =2 #define  TEST_ACC_RAM3_EN         1   // acc ram3 enble
            =2 #define  TEST_ACC_RAM2_EN         1   // acc ram3 enble
            =2 #define  TEST_ACC_RAM1_EN         1   // acc ram2 enble
            =2 
            =2 
            =2 void Test_Afe_Ram();
            =2 #else
   85       =2 #define  Test_Afe_Ram   /##/
   86       =2 #endif
   87       =2 
   88       =2 #if _TEST_LCD_REG_EN
            =2 void Test_LcdReg(void);
            =2 #else
   91       =2 #define Test_LcdReg    /##/
   92       =2 #endif
   93       =2 
   94       =2 #endif
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 80  

    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_I2c.h
    5       =2 *
    6       =2 *    Author:
    7       =2 *
    8       =2 *   Created: 2014-04-28
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_I2C_H__
   16       =2 #define _TEST_I2C_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_I2c.h
   21       =2 *
   21       =2 *    Author:
   21       =2 *
   21       =2 *   Created: 2014-04-28
   21       =2 *
   21       =2 *  Abstract:
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_I2C_H__
   21       =2 #define _TEST_I2C_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 #if _TEST_I2C_EN
            =2 
            =2 /*******************************************************************************
            =2 * Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_I2C(void);
            =2 void DrvI2cInit(void);
            =2 #else
   43       =2 #define Test_I2C()       /##/
   44       =2 #define DrvI2cInit()     /##/
   45       =2 #endif
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 81  

   46       =2 
   47       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_i2c_wakeup.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-29
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef TEST_I2C_WAKEUP_H__
   19       =2 #define TEST_I2C_WAKEUP_H__
   20       =2 
   21       =2 
   22       =2 /*******************************************************************************
   23       =2 * 1.Included files
   24       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   25       =2 /*******************************************************************************
   25       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
   25       =2 *
   25       =2 * File Name: Test_i2c_wakeup.h
   25       =2 *
   25       =2 *    Author: xinkunpeng
   25       =2 *
   25       =2 *   Created: 2014-04-29
   25       =2 *
   25       =2 *  Abstract:
   25       =2 *
   25       =2 * Reference:
   25       =2 *
   25       =2 * Version:
   25       =2 * 0.1:
   25       =2 *
   25       =2 *******************************************************************************/
   25       =2 #ifndef TEST_I2C_WAKEUP_H__
   25       =2 #define TEST_I2C_WAKEUP_H__
   25       =2 
   25       =2 
   25       =2 /*******************************************************************************
   25       =2 * 1.Included files
   25       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   26       =2 
   27       =2 #if _TEST_I2C_WK_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 82  

            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_I2CWakeup(void);
            =2 #else
   46       =2 #define Test_I2CWakeup /##/
   47       =2 #endif
   48       =2 
   49       =2 #endif
   50       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: test_gpio_wakeup.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2013-04-25
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_GPIO5_INT_H__
   19       =2 #define __TEST_GPIO5_INT_H__
   20       =2 
   21       =2 
   22       =2 /*******************************************************************************
   23       =2 * 1.Included files
   24       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   25       =2 /*******************************************************************************
   25       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   25       =2 *
   25       =2 * File Name: test_gpio_wakeup.h
   25       =2 *
   25       =2 *    Author: xinkunpeng
   25       =2 *
   25       =2 *   Created: 2013-04-25
   25       =2 *
   25       =2 *  Abstract:
   25       =2 *
   25       =2 * Reference:
   25       =2 *
   25       =2 * Version:
   25       =2 * 0.1:
   25       =2 *
   25       =2 *******************************************************************************/
   25       =2 #ifndef __TEST_GPIO5_INT_H__
   25       =2 #define __TEST_GPIO5_INT_H__
   25       =2 
   25       =2 
   25       =2 /*******************************************************************************
   25       =2 * 1.Included files
   25       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   26       =2 
   27       =2 #if _TEST_GPIO_WK_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 83  

            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Int0Wakeup(void);
            =2 #else
   46       =2 #define Test_Int0Wakeup /##/
   47       =2 #endif
   48       =2 
   49       =2 #endif
   50       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_int_nest.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-29
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *   Version: 0.1
   15       =2 *
   16       =2 *******************************************************************************/
   17       =2 #ifndef __TEST_INT_NEST_H__
   18       =2 #define __TEST_INT_NEST_H__
   19       =2 
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2012-2013, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_int_nest.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
   24       =2 *   Created: 2014-04-29
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 *   Version: 0.1
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_INT_NEST_H__
   24       =2 #define __TEST_INT_NEST_H__
   24       =2 
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 84  

   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_INT_NEST_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_int_nest(void);
            =2 #else
   45       =2 #define Test_int_nest /##/
   46       =2 #endif
   47       =2 
   48       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_spi.h
    5       =2 *
    6       =2 *    Author: tangsujun
    7       =2 *
    8       =2 *   Created: 2016-12-26
    9       =2 *
   10       =2 *  Abstract: 
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_SPI_H__
   16       =2 #define _TEST_SPI_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_spi.h
   21       =2 *
   21       =2 *    Author: tangsujun
   21       =2 *
   21       =2 *   Created: 2016-12-26
   21       =2 *
   21       =2 *  Abstract: 
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_SPI_H__
   21       =2 #define _TEST_SPI_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 85  

   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 /*******************************************************************************
   24       =2 * Global constant and macro definitions using #define
   25       =2 *******************************************************************************/
   26       =2 #if _TEST_SPI_EN
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_SPI_Flash();
            =2 void SPI_Init(void);
            =2 BOOLEAN SPIFlash_FastRead(UINT32 addr, UINT8 far *pBuf, UINT32 len);
            =2 #else
   42       =2 #define Test_SPI_Flash() /##/
   43       =2 #define SPI_Init(void)   /##/
   44       =2 #endif
   45       =2 
   46       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_CAL.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-05-07
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef _TEST_CAL_H_
   19       =2 #define _TEST_CAL_H_
   20       =2 
   21       =2 
   22       =2 /*******************************************************************************
   23       =2 * 1.Included files
   24       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   25       =2 /*******************************************************************************
   25       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   25       =2 *
   25       =2 * File Name: Test_CAL.h
   25       =2 *
   25       =2 *    Author: xinkunpeng
   25       =2 *
   25       =2 *   Created: 2014-05-07
   25       =2 *
   25       =2 *  Abstract:
   25       =2 *
   25       =2 * Reference:
   25       =2 *
   25       =2 * Version:
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 86  

   25       =2 * 0.1:
   25       =2 *
   25       =2 *******************************************************************************/
   25       =2 #ifndef _TEST_CAL_H_
   25       =2 #define _TEST_CAL_H_
   25       =2 
   25       =2 
   25       =2 /*******************************************************************************
   25       =2 * 1.Included files
   25       =2 *******************************************************************************/
   25       =2 #include "CfgGlobal.h"
   26       =2 
   27       =2 #if _TEST_CAL_EN
   28       =2 /*******************************************************************************
   29       =2 * 2.Global constant and macro definitions using #define
   30       =2 *******************************************************************************/
   31       =2 /* ø…“‘“ª∆≤‚ ‘ƒ£øÈ */
   32       =2 #if 0
            =2 #define  TEST_CAL_ADD_EN        0   // º”∑®
            =2 #define  TEST_CAL_SUB_EN        0   // ºı∑®
            =2 #define  TEST_CAL_AMP_EN        0   // ≥À∑®
            =2 #define  TEST_CAL_DIV_EN        0   // ≥˝∑®  
            =2 #define  TEST_CAL_MOV_EN        0   // ≤ª◊™÷√∞·“∆
            =2 #define  TEST_CAL_MOV2_EN       0   // ◊™÷√∞·“∆(æÿ’Û◊™÷√∞·“∆ ±◊Ó∫√TxNum,RxNum”ÎTxLen,RxLenœ‡µ»)  
            =2 #define  TEST_CAL_MUL2_1_EN     0   // “ªŒ¨æÿ’Û≥À∑®      (Tx,Rxæ˘±ÿ–Î<=18)       
            =2 #define  TEST_CAL_MUL2_2_EN     0   // ∂˛Œ¨æÿ’Û≥À∑®
            =2 #define  TEST_CAL_COM_1_EN      0   // æ…µƒ≤π≥•‘ÀÀ„  
            =2 #define  TEST_CAL_COM_2_EN      0   // –¬µƒ≤π≥•‘ÀÀ„ 
            =2 #define  TEST_CAL_LDS_EN        0   // æÿ’Ûµ„∂‘”¶æ‡¿Î‘ÀÀ„
            =2 #define  TEST_CAL_MDS_EN        0   // ¡Ω¡–µ„µƒæÿ’Û‘ÀÀ„  (Tx,Rxæ˘±ÿ–Î<=11)
            =2 #define  TEST_CAL_CHK_EN        0   // æ˘‘»∂»ºÏ≤È
            =2 #define  TEST_CAL_CRC_EN        0   // CRC–£—È
            =2 #define  TEST_CAL_XORSUM_EN     0   // xor“ÏªÚ–£—È
            =2 #define  TEST_CAL_AMOV_EN       0  // AMOV    (“‘œ¬Œ™¿©’πÀ„∑®)
            =2 #define  TEST_CAL_AVG_TX_EN     0   // ––æ˘÷µÀ„∑® 
            =2 #define  TEST_CAL_AVG_RX_EN     0   // ¡–æ˘÷µÀ„∑®
            =2 #define  TEST_CAL_AVG2_TX_EN    0   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û––æ˘÷µÀ„∑®
            =2 #define  TEST_CAL_AVG2_RX_EN    0   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û¡–æ˘÷µÀ„∑®
            =2 #define  TEST_CAL_AVG_ARAM_EN   0
            =2 #define  TEST_CAL_MIN_TX_EN     0   // ––◊Ó–°÷µÀ„∑®
            =2 #define  TEST_CAL_MIN_RX_EN     0   // ¡–◊Ó–°÷µÀ„∑®
            =2 #define  TEST_CAL_MAX_TX_EN     0   // ––◊Ó¥Û÷µÀ„∑®
            =2 #define  TEST_CAL_MAX_RX_EN     0   // ¡–◊Ó¥Û÷µÀ„∑®
            =2 #define  TEST_CAL_COUNT_EN      0   // æÿ’Û¥¶”⁄ƒ≥∏ˆ«¯º‰µƒ∏ˆ ˝[max,min]
            =2 #define  TEST_CAL_SUBCONST_EN   0   // º∆À„√ø––(Tx)ªÚ’ﬂ√ø¡–(Rx)µƒºı»•“ª∏ˆ≥£ ˝
            =2 #define  TEST_CAL_MAC_1_EN      0   // ◊”«¯”Úƒ£ ΩMAC
            =2 #define  TEST_CAL_MAC_2_EN      0   // ÷ÿππƒ£ ΩMAC
            =2 #define  TEST_CAL_ID_EN         0   // ID∆•≈‰
            =2 #define  TEST_CAL_PKS_EN        0   // Peak Search
            =2 
            =2 
            =2 #else//Auto
   67       =2 #define  TEST_CAL_ADD_EN        1   // º”∑®
   68       =2 #define  TEST_CAL_SUB_EN        1   // ºı∑®
   69       =2 #define  TEST_CAL_AMP_EN        1   // ≥À∑®
   70       =2 #define  TEST_CAL_DIV_EN        1   // ≥˝∑®
   71       =2 #define  TEST_CAL_MOV_EN        1   // ≤ª◊™÷√∞·“∆
   72       =2 #define  TEST_CAL_MOV2_EN       1   // ◊™÷√∞·“∆(æÿ’Û◊™÷√∞·“∆ ±◊Ó∫√TxNum,RxNum”ÎTxLen,RxLenœ‡µ»)
   73       =2 #define  TEST_CAL_MUL2_1_EN     1   // “ªŒ¨æÿ’Û≥À∑®      
   74       =2 #define  TEST_CAL_MUL2_2_EN     1   // ∂˛Œ¨æÿ’Û≥À∑®
   75       =2 #define  TEST_CAL_COM_1_EN      1   // æ…µƒ≤π≥•‘ÀÀ„
   76       =2 #define  TEST_CAL_COM_2_EN      1   // –¬µƒ≤π≥•‘ÀÀ„ 
   77       =2 #define  TEST_CAL_LDS_EN        1   // æÿ’Ûµ„∂‘”¶æ‡¿Î‘ÀÀ„
   78       =2 #define  TEST_CAL_MDS_EN        1   // ¡Ω¡–µ„µƒæÿ’Û‘ÀÀ„ 
   79       =2 #define  TEST_CAL_CHK_EN        1   // æ˘‘»∂»ºÏ≤È
   80       =2 #define  TEST_CAL_CRC_EN        1   // CRC–£—È
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 87  

   81       =2 #define  TEST_CAL_XORSUM_EN     1   // xor“ÏªÚ–£—È
   82       =2 
   83       =2 #define  TEST_CAL_AMOV_EN       0   // AMOV    (“‘œ¬Œ™¿©’πÀ„∑®)
   84       =2 #define  TEST_CAL_AVG_TX_EN     1   // ––æ˘÷µÀ„∑® 
   85       =2 #define  TEST_CAL_AVG_RX_EN     1   // ¡–æ˘÷µÀ„∑®
   86       =2 #define  TEST_CAL_AVG2_TX_EN    1   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û––æ˘÷µÀ„∑®
   87       =2 #define  TEST_CAL_AVG2_RX_EN    1   // »•µÙ∑∂ŒßÕ‚µƒ÷µ∫Û¡–æ˘÷µÀ„∑®
   88       =2 #define  TEST_CAL_AVG_ARAM_EN   0
   89       =2 #define  TEST_CAL_MIN_TX_EN     1   // ––◊Ó–°÷µÀ„∑®
   90       =2 #define  TEST_CAL_MIN_RX_EN     1   // ¡–◊Ó–°÷µÀ„∑®
   91       =2 #define  TEST_CAL_MAX_TX_EN     1   // ––◊Ó¥Û÷µÀ„∑®
   92       =2 #define  TEST_CAL_MAX_RX_EN     1   // ¡–◊Ó¥Û÷µÀ„∑®
   93       =2 #define  TEST_CAL_COUNT_EN      1   // æÿ’Û¥¶”⁄ƒ≥∏ˆ«¯º‰µƒ∏ˆ ˝[max,min]
   94       =2 #define  TEST_CAL_SUBCONST_EN   1   // º∆À„√ø––(Tx)ªÚ’ﬂ√ø¡–(Rx)µƒºı»•“ª∏ˆ≥£ ˝ 
   95       =2 #define  TEST_CAL_MAC_1_EN      1  // ◊”«¯”Úƒ£ ΩMAC
   96       =2 #define  TEST_CAL_MAC_2_EN      1  // ÷ÿππƒ£ ΩMAC
   97       =2 #define  TEST_CAL_ID_EN         1  // ID∆•≈‰
   98       =2 #define  TEST_CAL_PKS_EN        1  // Peak Search
   99       =2 #endif
  100       =2 
  101       =2 #if 1//8836–¬‘ˆƒ£øÈ
  102       =2 /* µ•∂¿≤‚ ‘ƒ£øÈ */
  103       =2 
  104       =2 #define TEST_CAL_CMP_EN         1  //æÿ’Û±»ΩœÀ„∑®
  105       =2 #define TEST_CAL_MUL3_EN        1  // ˝◊È¡Ω¡Ωœ‡≥ÀÀ„∑®
  106       =2 #else
            =2 /* µ•∂¿≤‚ ‘ƒ£øÈ */
            =2 #define TEST_CAL_CMP_EN         0   //æÿ’Û±»ΩœÀ„∑®
            =2 #define TEST_CAL_MUL3_EN        0   // ˝◊È¡Ω¡Ωœ‡≥ÀÀ„∑®
            =2 
            =2 #endif
  112       =2 
  113       =2 #define  TEST_CAL_INT_EN        0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,RTC¥Ú∂œ£¨±ÿ–Î¥Úø™TEST_CAL_ADD_EN */
  114       =2 #define  TEST_CAL_MOV_INT_EN    0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,RTC¥Ú∂œ£¨±ÿ–Î¥Úø™TEST_CAL_MOV_EN */
  115       =2 #define  TEST_SPI0_CAL_INT_EN   0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,SPI0¥Ú∂œ */
  116       =2 #define  TEST_SPI0_DMA_INT_EN   0   /* Calƒ£øÈ÷–∂œ¥Ú∂œ≤‚ ‘,∆Ù∂ØSPI0 DMA,±ÿ–Î¥Úø™TEST_SPI0_CAL_INT_EN */
  117       =2 #define  TEST_RTC_CAL_EN        1
  118       =2 #define  TEST_LCD_CAL_EN        0
  119       =2 #define  TEST_ASM_CAL_EN        1
  120       =2 #define  TEST_IIC_CAL_EN        1
  121       =2 
  122       =2 
  123       =2 
  124       =2 /*******************************************************************************
  125       =2 * 3.Global structures, unions and enumerations using typedef
  126       =2 *******************************************************************************/
  127       =2 
  128       =2 /*******************************************************************************
  129       =2 * 4.Global variable extern declarations
  130       =2 *******************************************************************************/
  131       =2 //extern ST_FrameData  *g_stFrmData; // Frame Data
  132       =2 
  133       =2 /*******************************************************************************
  134       =2 * 5.Global function prototypes
  135       =2 *******************************************************************************/
  136       =2 void Test_CAL(void);
  137       =2 #else
            =2 #define Test_CAL /##/
            =2 #endif
  140       =2 
  141       =2 #endif // _DRV_MC_DATA_COLLECT_H_
  142       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_romboot.h
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 88  

    5       =2 *
    6       =2 *    Author:
    7       =2 *
    8       =2 *   Created: 2014-05-07
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *******************************************************************************/
   14       =2 #ifndef _TEST_ROMBOOT_H__
   15       =2 #define _TEST_ROMBOOT_H__
   16       =2 
   17       =2 /*******************************************************************************
   18       =2 * Included files
   19       =2 *******************************************************************************/
   20       =2 #include "CfgGlobal.h"
   20       =2 /*******************************************************************************
   20       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   20       =2 *
   20       =2 * File Name: Test_romboot.h
   20       =2 *
   20       =2 *    Author:
   20       =2 *
   20       =2 *   Created: 2014-05-07
   20       =2 *
   20       =2 *  Abstract:
   20       =2 *
   20       =2 * Reference:
   20       =2 *******************************************************************************/
   20       =2 #ifndef _TEST_ROMBOOT_H__
   20       =2 #define _TEST_ROMBOOT_H__
   20       =2 
   20       =2 /*******************************************************************************
   20       =2 * Included files
   20       =2 *******************************************************************************/
   20       =2 #include "CfgGlobal.h"
   21       =2 
   22       =2 /*******************************************************************************
   23       =2 * Global constant and macro definitions using #define
   24       =2 *******************************************************************************/
   25       =2 
   26       =2 #if _TEST_ROMBOOT_EN
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_romboot(void);
            =2 #else
   40       =2 #define Test_romboot()  /##/
   41       =2 #endif
   42       =2 
   43       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_Afe.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 89  

    8       =2 *   Created: 2014-05-15
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *   Version:
   15       =2 *******************************************************************************/
   16       =2 #ifndef __TEST_AFE_H__
   17       =2 #define __TEST_AFE_H__
   18       =2 
   19       =2 /*******************************************************************************
   20       =2 * 1.Included files
   21       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   22       =2 /*******************************************************************************
   22       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =2 *
   22       =2 * File Name: Test_Afe.h
   22       =2 *
   22       =2 *    Author: xinkunpeng
   22       =2 *
   22       =2 *   Created: 2014-05-15
   22       =2 *
   22       =2 *  Abstract:
   22       =2 *
   22       =2 * Reference:
   22       =2 *
   22       =2 *   Version:
   22       =2 *******************************************************************************/
   22       =2 #ifndef __TEST_AFE_H__
   22       =2 #define __TEST_AFE_H__
   22       =2 
   22       =2 /*******************************************************************************
   22       =2 * 1.Included files
   22       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   23       =2 
   24       =2 
   25       =2 /*******************************************************************************
   26       =2 * 2.Global constant and macro definitions using #define
   27       =2 *******************************************************************************/
   28       =2 
   29       =2 #define LCD_BUSY_FALL_INT0          BITn(15)
   30       =2 #define LCD_BUSY_RISE_INT0          BITn(14)
   31       =2 #define LCD_PANEL_CONFLICT_INT0     BITn(13)
   32       =2 #define LCD_DSTB_FAIL_INT0          BITn(12)
   33       =2 #define LCD_DSTB_RISE_INT0          BITn(11)
   34       =2 #define LCD_SYNC_MISS_FALL_INT0     BITn(10)
   35       =2 #define LCD_SYNC_MISS_RISE_INT0     BITn(9)
   36       =2 #define ARAM_READY_INT0             BITn(8)
   37       =2 #define FRAME_END_INT0              BITn(7)
   38       =2 #define AFE_DET_INT0                BITn(6)
   39       =2 #define LCD_VSTART_INT0             BITn(5)
   40       =2 #define LCD_VMID_INT0               BITn(4)
   41       =2 #define LCD_VEND_INT0               BITn(3)
   42       =2 #define LCD_VBLANK_INT0             BITn(2)
   43       =2 #define LCD_RUN_FALL_INT0           BITn(1)
   44       =2 #define LCD_RUN_RISE_INT0           BITn(0)
   45       =2 
   46       =2 #define LCD_HW_MON_TIMEOUT_INT1     BITn(14) 
   47       =2 #define LCD_LPF_MODE_EN_FALL_INT1   BITn(13)
   48       =2 #define LCD_LPF_MODE_EN_RISE_INT1   BITn(12)
   49       =2 #define LCD_STB_TICK_INT1           BITn(11)
   50       =2 #define LCD_ODD_EVEN_FALL_INT1      BITn(10)
   51       =2 #define LCD_ODD_EVEN_RISE_INT1      BITn(9)
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 90  

   52       =2 #define LCD_VDO_MODE_FALL_INT1      BITn(8)
   53       =2 #define LCD_VDO_MODE_RISE_INT1      BITn(7)  
   54       =2 #define LCD_IDLE_MODE_FALL_INT1     BITn(6)  
   55       =2 #define LCD_IDLE_MODE_RISE_INT1     BITn(5)
   56       =2 #define LCD_3D_MODE_FALL_INT1       BITn(4)
   57       =2 #define LCD_3D_MODE_RISE_INT1       BITn(3)
   58       =2 #define LCD_RUN_INT1                BITn(2)
   59       =2 #define LCD_DSTB_INT1               BITn(1)
   60       =2 
   61       =2 
   62       =2 /* Asm Sta */
   63       =2 #define LCD_PANEL_CONFLICT_STA      BITn(14)
   64       =2 #define LCD_DSTB_STA                BITn(13)
   65       =2 #define LCD_SYNC_MISS_STA           BITn(12)
   66       =2 #define LCD_FRAME_END_STA           BITn(11)
   67       =2 #define LCD_TCH_DET_STA             BITn(10)
   68       =2 #define LCD_STB_TICK_STA            BITn(9)
   69       =2 #define LCD_VSTART_STA              BITn(8)
   70       =2 #define LCD_VMID_STA                BITn(7)
   71       =2 #define LCD_VEND_STA                BITn(6)
   72       =2 #define LCD_VBLANK_STA              BITn(5)
   73       =2 #define LCD_ODD_EVEN_STA            BITn(4)
   74       =2 #define LCD_VDO_MODE_STA            BITn(3)
   75       =2 #define LCD_IDLE_MODE_STA           BITn(2)
   76       =2 #define LCD_3D_MODE_STA             BITn(1)
   77       =2 #define LCD_RUN_STA                 BITn(0)
   78       =2 
   79       =2 /*Scan Sta1*/
   80       =2 #define TP_BUSY_STA                 BITn(11) // [11]  RO: TP busyµƒ µ ±◊¥Ã¨
   81       =2 #define LCD_BUSY_STA                BITn(10) // [10]  RO: LCD busyµƒ µ ±◊¥Ã¨   
   82       =2 
   83       =2 /*Scan Sta2*/
   84       =2 #define LPF_MODE_TP_TURBO_ACK       BITn(13) // [13]  RO: 0:≤ªø™ø”  1:ø™ø”
   85       =2 #define VB_MODE_ACK                 BITn(12) // [12]  RO: 0:–°ø”    1:¥Ûø” 
   86       =2 
   87       =2 
   88       =2 
   89       =2 /*******************************************************************************
   90       =2 * 3.Global structures, unions and enumerations using typedef
   91       =2 *******************************************************************************/
   92       =2 /* ASM_INT_FLAG0 bit–≈œ¢RO      0x00*/
   93       =2 typedef enum
   94       =2 {
   95       =2         BIT_LCD_BUSY_FALL_FLAG0                  = 15,
   96       =2         BIT_LCD_BUSY_RISE_FLAG0                  = 14,
   97       =2         BIT_LCD_PANEL_CONFLICT_FLAG0     = 13,
   98       =2         BIT_LCD_DSTB_FAIL_FLAG0                  = 12,
   99       =2         BIT_LCD_DSTB_RISE_FLAG0                  = 11,
  100       =2         BIT_LCD_SYNC_MISS_FALL_FLAG0     = 10,
  101       =2         BIT_LCD_SYNC_MISS_RISE_FLAG0     = 9,
  102       =2         BIT_LCD_ARAM_RDY_FLAG0                   = 8,
  103       =2         BIT_LCD_FRAME_END_FLAG0                  = 7,
  104       =2         BIT_LCD_TCH_DET_FLAG0                    = 6,
  105       =2         BIT_LCD_VSTART_FLAG0                     = 5,
  106       =2         BIT_LCD_VMID_FLAG0                               = 4,
  107       =2         BIT_LCD_VEND_FLAG0                               = 3,
  108       =2         BIT_LCD_VBLANK_FLAG0                     = 2,
  109       =2         BIT_LCD_RUN_FALL_FLAG0                   = 1,
  110       =2         BIT_LCD_RUN_RISE_FLAG0                   = 0,              
  111       =2 } ENUM_BIT_ASM_INT_FLAG0;
  112       =2 
  113       =2 /* ASM_INT_FLAG1 bit–≈œ¢RO      0x01*/
  114       =2 typedef enum
  115       =2 {                       
  116       =2         
  117       =2         BIT_LCD_STB_TICK_FLAG1                   = 11,
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 91  

  118       =2         BIT_LCD_ODD_EVEN_FALL_FLAG1      = 10,
  119       =2         BIT_LCD_ODD_EVEN_RISE_FLAG1      = 9,
  120       =2         BIT_LCD_VDO_MODE_FALL_FLAG1      = 8,
  121       =2         BIT_LCD_VDO_MODE_RISE_FLAG1      = 7,  
  122       =2         BIT_LCD_IDLE_MODE_FALL_FLAG1     = 6,  
  123       =2         BIT_LCD_IDLE_MODE_RISE_FLAG1     = 5,
  124       =2         BIT_LCD_3D_MODE_FALL_FLAG1               = 4,
  125       =2         BIT_LCD_3D_MODE_RISE_FLAG1               = 3,
  126       =2         BIT_LCD_RUN_FLAG1                                = 2,
  127       =2         BIT_LCD_DSTB_FLAG1                               = 1,
  128       =2 } ENUM_BIT_ASM_INT_FLAG1;
  129       =2 
  130       =2 /* ASM_INT_CLR0 bit–≈œ¢WO 0x02*/
  131       =2 typedef enum
  132       =2 {
  133       =2         BIT_LCD_BUSY_FALL_CLR0                  = 15,
  134       =2         BIT_LCD_BUSY_RISE_CLR0                  = 14,
  135       =2         BIT_LCD_PANEL_CONFLICT_CLR0     = 13,
  136       =2         BIT_LCD_DSTB_FAIL_CLR0                  = 12,
  137       =2         BIT_LCD_DSTB_RISE_CLR0                  = 11,
  138       =2         BIT_LCD_SYNC_MISS_FALL_CLR0     = 10,
  139       =2         BIT_LCD_SYNC_MISS_RISE_CLR0     = 9,
  140       =2         BIT_LCD_ARAM_RDY_CLR0                   = 8,
  141       =2         BIT_LCD_FRAME_END_CLR0                  = 7,
  142       =2         BIT_LCD_TCH_DET_CLR0                    = 6,
  143       =2         BIT_LCD_VSTART_CLR0                     = 5,
  144       =2         BIT_LCD_VMID_CLR0                               = 4,
  145       =2         BIT_LCD_VEND_CLR0                               = 3,
  146       =2         BIT_LCD_VBLANK_CLR0                     = 2,
  147       =2         BIT_LCD_RUN_FALL_CLR0                   = 1,
  148       =2         BIT_LCD_RUN_RISE_CLR0                   = 0,            
  149       =2 } ENUM_BIT_ASM_INT_CLR0;
  150       =2 
  151       =2 /* ASM_INT_CLR1 bit–≈œ¢WO 0x03*/
  152       =2 typedef enum
  153       =2 {       
  154       =2         BIT_HW_MON_TIMEOUT_CLR1                 = 14,
  155       =2         BIT_LPF_MODE_EN_FALL_CLR1               = 13,
  156       =2         BIT_LPF_MODE_EN_RISE_CLR1               = 12,
  157       =2         BIT_LCD_STB_TICK_CLR1                   = 11,    
  158       =2         BIT_LCD_ODD_EVEN_FALL_CLR1              = 10,
  159       =2         BIT_LCD_ODD_EVEN_RISE_CLR1              = 9,
  160       =2         BIT_LCD_VDO_MODE_FALL_CLR1              = 8,
  161       =2         BIT_LCD_VDO_MODE_RISE_CLR1              = 7,  
  162       =2         BIT_LCD_IDLE_MODE_FALL_CLR1     = 6,  
  163       =2         BIT_LCD_IDLE_MODE_RISE_CLR1     = 5,
  164       =2         BIT_LCD_3D_MODE_FALL_CLR1               = 4,
  165       =2         BIT_LCD_3D_MODE_RISE_CLR1               = 3,
  166       =2         BIT_LCD_RUN_CLR1                                = 2,
  167       =2         BIT_LCD_DSTB_CLR1                               = 1,   
  168       =2 } ENUM_BIT_ASM_INT_CLR1;
  169       =2 
  170       =2 /* ASM_INT_EN0 bit–≈œ¢0x04 */
  171       =2 typedef enum
  172       =2 {
  173       =2         BIT_LCD_BUSY_FALL_EN0              = 15,
  174       =2         BIT_LCD_BUSY_RISE_EN0              = 14,
  175       =2         BIT_LCD_PANEL_CONFLICT_EN0         = 13,
  176       =2         BIT_LCD_DSTB_FAIL_EN0              = 12,
  177       =2         BIT_LCD_DSTB_RISE_EN0              = 11,
  178       =2         BIT_LCD_SYNC_MISS_FALL_EN0         = 10,
  179       =2         BIT_LCD_SYNC_MISS_RISE_EN0         = 9,
  180       =2         BIT_LCD_ARAM_RDY_EN0               = 8,
  181       =2         BIT_LCD_FRAME_END_EN0              = 7,
  182       =2         BIT_LCD_TCH_DET_EN0                = 6,
  183       =2         BIT_LCD_VSTART_EN0                         = 5,
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 92  

  184       =2         BIT_LCD_VMID_EN0                           = 4,
  185       =2         BIT_LCD_VEND_EN0                           = 3,
  186       =2         BIT_LCD_VBLANK_EN0                         = 2,
  187       =2         BIT_LCD_RUN_FALL_EN0               = 1,
  188       =2         BIT_LCD_RUN_RISE_EN0               = 0,            
  189       =2 } ENUM_BIT_ASM_INT_EN0;
  190       =2 
  191       =2 /* ASM_INT_EN1 bit–≈œ¢0x05 */
  192       =2 typedef enum
  193       =2 {
  194       =2         BIT_HW_MON_TIMEOUT_EN1             = 14,
  195       =2         BIT_LCD_LPF_MODE_EN_FALL_EN1   = 13,
  196       =2         BIT_LCD_LPF_MODE_EN_RISE_EN1   = 12,
  197       =2         BIT_LCD_STB_TICK_EN1               = 11,   
  198       =2         BIT_LCD_ODD_EVEN_FALL_EN1          = 10,
  199       =2         BIT_LCD_ODD_EVEN_RISE_EN1          = 9,
  200       =2         BIT_LCD_VDO_MODE_FALL_EN1          = 8,
  201       =2         BIT_LCD_VDO_MODE_RISE_EN1          = 7,  
  202       =2         BIT_LCD_IDLE_MODE_FALL_EN1         = 6,  
  203       =2         BIT_LCD_IDLE_MODE_RISE_EN1         = 5,
  204       =2         BIT_LCD_3D_MODE_FALL_EN1           = 4,
  205       =2         BIT_LCD_3D_MODE_RISE_EN1           = 3,
  206       =2         BIT_LCD_RUN_EN1                            = 2,
  207       =2         BIT_LCD_DSTB_EN1                           = 1,
  208       =2    
  209       =2 } ENUM_BIT_ASM_INT_EN1;
  210       =2 
  211       =2 /* ASM_INT_WAKE_EN0 bit–≈œ¢  06 */
  212       =2 typedef enum
  213       =2 {
  214       =2         BIT_LCD_BUSY_FALL_WAKE_EN0                      = 15,
  215       =2         BIT_LCD_BUSY_RISE_WAKE_EN0                      = 14,
  216       =2         BIT_LCD_PANEL_CONFLICT_WAKE_EN0         = 13,
  217       =2         BIT_LCD_DSTB_FAIL_WAKE_EN0                      = 12,
  218       =2         BIT_LCD_DSTB_RISE_WAKE_EN0                      = 11,
  219       =2         BIT_LCD_SYNC_MISS_FALL_WAKE_EN0         = 10,
  220       =2         BIT_LCD_SYNC_MISS_RISE_WAKE_EN0         = 9,
  221       =2         BIT_LCD_ARAM_RDY_WAKE_EN0                       = 8,
  222       =2         BIT_LCD_FRAME_END_WAKE_EN0                      = 7,
  223       =2         BIT_LCD_TCH_DET_WAKE_EN0                        = 6,
  224       =2         BIT_LCD_VSTART_WAKE_EN0                         = 5,
  225       =2         BIT_LCD_VMID_WAKE_EN0                           = 4,
  226       =2         BIT_LCD_VEND_WAKE_EN0                           = 3,
  227       =2         BIT_LCD_VBLANK_WAKE_EN0                         = 2,
  228       =2         BIT_LCD_RUN_FALL_WAKE_EN0                       = 1,
  229       =2         BIT_LCD_RUN_RISE_WAKE_EN0                       = 0,                      
  230       =2 } ENUM_BIT_ASM_WAKE_EN0 ;
  231       =2 
  232       =2 /* ASM_INT_WAKE_EN1 bit–≈œ¢  07 */
  233       =2 typedef enum
  234       =2 {
  235       =2         BIT_HW_MON_TIMEOUT_WAKE_EN1             = 14,
  236       =2         BIT_LCD_LPF_MODE_EN_FALL_WAKE_EN1       = 13,
  237       =2         BIT_LCD_LPF_MODE_EN_RISE_WAKE_EN1       = 12,
  238       =2         BIT_LCD_STB_TICK_WAKE_EN1                       = 11, 
  239       =2         BIT_LCD_ODD_EVEN_FALL_WAKE_EN1          = 10,
  240       =2         BIT_LCD_ODD_EVEN_RISE_WAKE_EN1          = 9,
  241       =2         BIT_LCD_VDO_MODE_FALL_WAKE_EN1          = 8,
  242       =2         BIT_LCD_VDO_MODE_RISE_WAKE_EN1          = 7,  
  243       =2         BIT_LCD_IDLE_MODE_FALL_WAKE_EN1         = 6,  
  244       =2         BIT_LCD_IDLE_MODE_RISE_WAKE_EN1         = 5,
  245       =2         BIT_LCD_3D_MODE_FALL_WAKE_EN1           = 4,
  246       =2         BIT_LCD_3D_MODE_RISE_WAKE_EN1           = 3,
  247       =2 } ENUM_BIT_ASM_WAKE_EN1;
  248       =2 
  249       =2 /* ASM_INT_STA0 bit–≈œ¢  RO  08 */
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 93  

  250       =2 typedef enum
  251       =2 {
  252       =2         BIT_LCD_BUSY_STA                                = 15,
  253       =2         BIT_LCD_PANEL_CONFLICT_STA              = 14,
  254       =2         BIT_LCD_DSTB_STA                                = 13,
  255       =2         BIT_LCD_SYNC_MISS_STA                   = 12,
  256       =2         BIT_LCD_FRAME_END_STA                   = 11,
  257       =2         BIT_LCD_TCH_DET_STA                     = 10,
  258       =2         BIT_LCD_STB_TICK_STA                    = 9,
  259       =2         BIT_LCD_VSTART_STA                              = 8,
  260       =2         BIT_LCD_VMID_STA                                = 7,
  261       =2         BIT_LCD_VEND_STA                                = 6,
  262       =2         BIT_LCD_VBLANK_STA                              = 5,
  263       =2         BIT_LCD_ODD_EVEN_STA                    = 4,
  264       =2         BIT_LCD_VDO_MODE_STA                    = 3,
  265       =2         BIT_LCD_IDLE_MODE_STA                   = 2,
  266       =2         BIT_LCD_3D_MODE_STA                     = 1,
  267       =2         BIT_LCD_RUN_STA                                 = 0,
  268       =2 } ENUM_BIT_ASM_INT_STA0;
  269       =2 
  270       =2 /*******************************************************************************
  271       =2 * 4.Global variable extern declarations
  272       =2 *******************************************************************************/
  273       =2 extern ST_AsmRegisters * XRAM pAsmRegs;
  274       =2 /*******************************************************************************
  275       =2 * 5.Global function prototypes
  276       =2 ********************************************************************************/
  277       =2 void Afe_120Hz_Run(void);
  278       =2 void DrvAsmInterEnable0(UINT16 usInterMode);
  279       =2 void DrvAsmAramAvail(void);
  280       =2 void DrvAsmScanStart(void);
  281       =2 void DrvAsmInterEnable1(UINT16 usInterMode);
  282       =2 
  283       =2 #endif
  284       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_LED.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-06-06
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_LED__
   19       =2 #define __TEST_LED__
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_LED.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 94  

   24       =2 *   Created: 2014-06-06
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 * Version:
   24       =2 * 0.1:
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_LED__
   24       =2 #define __TEST_LED__
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_LED_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_LED(void);
            =2 #else
   44       =2 #define Test_LED  /##/
   45       =2 #endif
   46       =2 
   47       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_LED.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-06-06
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_XBUS__
   19       =2 #define __TEST_XBUS__
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 95  

   24       =2 *
   24       =2 * File Name: Test_LED.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
   24       =2 *   Created: 2014-06-06
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 * Version:
   24       =2 * 0.1:
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_XBUS__
   24       =2 #define __TEST_XBUS__
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_XBUS_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_Xbus(void);
            =2 #else
   44       =2 #define Test_Xbus  /##/
   45       =2 #endif
   46       =2 
   47       =2 #endif
   48       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_RomEcc.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-18
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_ROMECC__
   19       =2 #define __TEST_ROMECC__
   20       =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 96  

   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_RomEcc.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
   24       =2 *   Created: 2014-04-18
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 * Version:
   24       =2 * 0.1:
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_ROMECC__
   24       =2 #define __TEST_ROMECC__
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_ROMECC_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_RomEcc(void);
            =2 #else
   45       =2 #define Test_RomEcc  /##/
   46       =2 #endif
   47       =2 
   48       =2 #endif
   49       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_UART.h
    5       =2 *
    6       =2 *    Author: 
    7       =2 *
    8       =2 *   Created: 2014-05-15
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 97  

   14       =2 *   Version:
   15       =2 *******************************************************************************/
   16       =2 #ifndef __TEST_UART_H__
   17       =2 #define __TEST_UART_H__
   18       =2 
   19       =2 /*******************************************************************************
   20       =2 * 1.Included files
   21       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   22       =2 /*******************************************************************************
   22       =2 * Copyright (C) 2012-2014, FocalTech Systems (R)£¨All Rights Reserved.
   22       =2 *
   22       =2 * File Name: Test_UART.h
   22       =2 *
   22       =2 *    Author: 
   22       =2 *
   22       =2 *   Created: 2014-05-15
   22       =2 *
   22       =2 *  Abstract:
   22       =2 *
   22       =2 * Reference:
   22       =2 *
   22       =2 *   Version:
   22       =2 *******************************************************************************/
   22       =2 #ifndef __TEST_UART_H__
   22       =2 #define __TEST_UART_H__
   22       =2 
   22       =2 /*******************************************************************************
   22       =2 * 1.Included files
   22       =2 *******************************************************************************/
   22       =2 #include "CfgGlobal.h"
   23       =2 
   24       =2 #if _TEST_UART_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_UART(void);
            =2 #else
   42       =2 #define  Test_UART   /##/
   43       =2 #endif
   44       =2 
   45       =2 #endif
   46       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_RTC.h
    5       =2 *
    6       =2 *    Author: xinkunpeng
    7       =2 *
    8       =2 *   Created: 2014-04-18
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 98  

   12       =2 * Reference:
   13       =2 *
   14       =2 * Version:
   15       =2 * 0.1:
   16       =2 *
   17       =2 *******************************************************************************/
   18       =2 #ifndef __TEST_SOFT_RST__
   19       =2 #define __TEST_SOFT_RST__
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_RTC.h
   24       =2 *
   24       =2 *    Author: xinkunpeng
   24       =2 *
   24       =2 *   Created: 2014-04-18
   24       =2 *
   24       =2 *  Abstract:
   24       =2 *
   24       =2 * Reference:
   24       =2 *
   24       =2 * Version:
   24       =2 * 0.1:
   24       =2 *
   24       =2 *******************************************************************************/
   24       =2 #ifndef __TEST_SOFT_RST__
   24       =2 #define __TEST_SOFT_RST__
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_SOFT_RST_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_SOFT_RST(void);
            =2 #else
   45       =2 #define Test_SOFT_RST  /##/
   46       =2 #endif
   47       =2 
   48       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_spi0.h
    5       =2 *
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 99  

    6       =2 *    Author: tangsujun
    7       =2 *
    8       =2 *   Created: 2017-02-06
    9       =2 *
   10       =2 *  Abstract: 
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_SPI0_H__
   16       =2 #define _TEST_SPI0_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_spi0.h
   21       =2 *
   21       =2 *    Author: tangsujun
   21       =2 *
   21       =2 *   Created: 2017-02-06
   21       =2 *
   21       =2 *  Abstract: 
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_SPI0_H__
   21       =2 #define _TEST_SPI0_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 /*******************************************************************************
   24       =2 * Global constant and macro definitions using #define
   25       =2 *******************************************************************************/
   26       =2 #if _TEST_SPI0_EN
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_SPI0(void);
            =2 void SPI0_Init(void);
            =2 
            =2 #else
   42       =2 #define Test_SPI0(void) /##/
   43       =2 #define SPI0_Init(void)   /##/
   44       =2 #endif
   45       =2 
   46       =2 #endif
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_spi0_wakeup.h
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 100 

    5       =2 *
    6       =2 *    Author: tangsujun
    7       =2 *
    8       =2 *   Created: 2017-03-10
    9       =2 *
   10       =2 *  Abstract: 
   11       =2 *
   12       =2 * Reference: test spi0 wake up introduction:
   13       =2 *            g_ucTestCmd :  0x01 : idle wake up
   14       =2 *                           0x02 : standby wake up
   15       =2 *                           0x03 : stop wake up
   16       =2 *******************************************************************************/
   17       =2 #ifndef TEST_SPI0_WAKEUP_H__
   18       =2 #define TEST_SPI0_WAKEUP_H__
   19       =2 
   20       =2 
   21       =2 /*******************************************************************************
   22       =2 * 1.Included files
   23       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   24       =2 /*******************************************************************************
   24       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   24       =2 *
   24       =2 * File Name: Test_spi0_wakeup.h
   24       =2 *
   24       =2 *    Author: tangsujun
   24       =2 *
   24       =2 *   Created: 2017-03-10
   24       =2 *
   24       =2 *  Abstract: 
   24       =2 *
   24       =2 * Reference: test spi0 wake up introduction:
   24       =2 *            g_ucTestCmd :  0x01 : idle wake up
   24       =2 *                           0x02 : standby wake up
   24       =2 *                           0x03 : stop wake up
   24       =2 *******************************************************************************/
   24       =2 #ifndef TEST_SPI0_WAKEUP_H__
   24       =2 #define TEST_SPI0_WAKEUP_H__
   24       =2 
   24       =2 
   24       =2 /*******************************************************************************
   24       =2 * 1.Included files
   24       =2 *******************************************************************************/
   24       =2 #include "CfgGlobal.h"
   25       =2 
   26       =2 #if _TEST_SPI0_WK_EN
            =2 
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_SPI0_Wakeup(void);
            =2 #else
   45       =2 #define Test_SPI0_Wakeup  /##/
   46       =2 #endif
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 101 

   47       =2 
   48       =2 #endif
   49       =2 
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_spi0_dma.h
    5       =2 *
    6       =2 *    Author: tangsujun
    7       =2 *
    8       =2 *   Created: 2017-03-03
    9       =2 *
   10       =2 *  Abstract: 
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef _TEST_SPI0_DMA_H__
   16       =2 #define _TEST_SPI0_DMA_H__
   17       =2 
   18       =2 /*******************************************************************************
   19       =2 * Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2016-2018, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_spi0_dma.h
   21       =2 *
   21       =2 *    Author: tangsujun
   21       =2 *
   21       =2 *   Created: 2017-03-03
   21       =2 *
   21       =2 *  Abstract: 
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef _TEST_SPI0_DMA_H__
   21       =2 #define _TEST_SPI0_DMA_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 /*******************************************************************************
   24       =2 * Global constant and macro definitions using #define
   25       =2 *******************************************************************************/
   26       =2 #if _TEST_SPI0_DMA_EN
            =2 /*******************************************************************************
            =2 * Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * Global variable extern declarations
            =2 *******************************************************************************/
            =2 /*DMA_SRCR REG*/
            =2 #define BIT_DMA_NOT_FINISH_FLAG      BITn(11) /*cs¿≠∏ﬂ ±£¨dma√ª”–ÕÍ≥……Ë÷√DMA ˝æ›∞¸ ˝æ›¥´ ‰£¨ª·÷√1,–Ë“™»Ìº
             -˛«Â0*/
            =2 #define BIT_DMA_TIMEOUT_FLAG         BITn(10) /*dma ˝æ›¥´ ‰ ±∑¢…˙timeout,ª·÷√1,–Ë“™»Ìº˛«Â0.÷ª∞¸¿®’º”√◊‹œﬂ
             - ±,≤ª∞¸¿®¥´ ‰CRC ±º‰*/
            =2 #define BIT_DMA_SCK_OVERTRANS_FLAG   BITn(9) /*DMA ˝æ›∞¸¥´ ‰Ω· ¯∫ÛhostºÃ–¯∑¢ÀÕsck£¨ª·÷√1£¨–Ë“™»Ìº˛«Â0*/
            =2 #define BIT_DMA_CRC_ERROR_FLAG       BITn(8) /*µ±¥¶”⁄dma–¥ƒ£ Ω ±£¨µ±Ω” ’µΩ ˝æ›º∆À„≥ˆµƒcrc”ÎΩ” ’µΩµƒcrc≤ª“
             -ª÷¬ ±£¨÷√1£¨»Ìº˛«Â0*/
            =2 
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 102 

            =2 #define BIT_DMA_NOT_FINISH_CLR       BITn(3) /*–¥1«Âdma_not_finish_flag*/
            =2 #define BIT_DMA_TIMEOUT_CLR          BITn(2) /*–¥1«Âdma_timeout_flag*/
            =2 #define BIT_DMA_SCK_OVERTRANS_CLR    BITn(1)  /*–¥1«Âdma_sck_overtrans_flag*/
            =2 #define BIT_DMA_CRC_ERROR_CLR        BITn(0)  /*–¥1«Âdma_crc_error_flag*/
            =2 /*DMA_CTRL REG*/
            =2 
            =2 #define BIT_DMA_TIMEOUT_EN           BITn(6)  /*timeoutπ¶ƒ‹ πƒ‹:0:disable;1:enable*/
            =2 #define BIT_DMA_TRANS_ERR_EN         BITn(5)  /*timeroutªÚdmaΩ· ¯∫ÛhostºÃ–¯∑¢ÀÕsck «∑Ò“™∑¢ÀÕdma_err_dat.0
             -:≤ª∑¢ÀÕ;1:∑¢ÀÕ*/
            =2 #define BIT_DMA_CRC_EN               BITn(4)  /*dmaΩ” ’/∑¢ÀÕ ˝æ› «∑Ò–Ë“™Ω” ’/∑¢ÀÕcrc. 0: no crc;1:crc*/
            =2 #define BIT_DMA_RW                   BITn(3)  /*dma∂‘ramΩ¯––∂¡≤Ÿ◊˜ªπ «–¥≤Ÿ◊˜.0:∂¡;1:–¥*/
            =2 //#define BIT_DMA_RAM_SEL              (BITn(2)|BITn(1))  /*dma∑√Œ µƒram—°‘Ò. 2'b00:aram;2'b01:dram;2'b1x
             -:pram*/
            =2 #define BIT_DMA_EN                   BITn(0)  /*dmaπ¶ƒ‹ πƒ‹hw auto clr after exit dma. 0:disbale;1:enable
             -*/
            =2 
            =2 
            =2 /*DMA_ERR_TIMEOUT_CTRL REG*/
            =2 #define BIT_DMA_TIMEOUT_NUM          BITn(8) /*dma timeout ±º‰…Ë÷√,“‘32k ±÷”Œ™µ•Œª*/
            =2 #define BIT_DMA_ERR_DAT              BITn(0) /*err byte:µ±timeoutªÚ’ﬂdmaΩ· ¯∫Û£¨»Áπ˚hostºÃ–¯∑¢ÀÕsck£¨spi0
             -œÚhost∑¢ÀÕerror byte*/
            =2 
            =2 /*DMA_ADDR_H REG*/
            =2 #define BIT_DMA_START_ADDR_H         BITn(8) /*dmaµƒ∆ ºµÿ÷∑[16]*/
            =2 #define BIT_DMA_END_ADDR_H           BITn(0) /*dmaµƒΩ· ¯µÿ÷∑[16]*/
            =2 
            =2 /*DMA_START_ADDR_L REG*/
            =2 #define BIT_DMA_START_ADDR_L         BITn(0) /*dmaµƒ∆ ºµÿ÷∑[15:0]*/
            =2 
            =2 /*DMA_END_ADDR_L REG*/
            =2 #define BIT_DMA_END_ADDR_L           BITn(0) /*dmaµƒΩ· ¯µÿ÷∑[15:0]*/
            =2 
            =2 /*DMA_CRC REG*/
            =2 #define BIT_DMA_CRC                  BITn(0) /*dma¥´ ‰ ˝æ›µƒcrc÷µ*/
            =2 /*******************************************************************************
            =2 * Global function prototypes
            =2 *******************************************************************************/
            =2 void SPI0_DMA_Init(void);
            =2 void SPI0_DMA_ClrStatus(void);
            =2 void SPI0_DMA_Wait_Done(void);
            =2 void SPI0_DMA_SetAddr(UINT32 start_addr,UINT32 len,UINT16 mem_sel);
            =2 void SPI0_DMA_Enable(UINT8 time_out,UINT8 reg);
            =2 void Test_DMA(void);
            =2 #else
   80       =2 #define SPI0_DMA_Init       /##/
   81       =2 #define SPI0_DMA_ClrStatus  /##/
   82       =2 #define SPI0_DMA_Wait_Done  /##/
   83       =2 #define SPI0_DMA_SetAddr    /##/
   84       =2 #define SPI0_DMA_Enable     /##/
   85       =2 #define Test_DMA            /##/
   86       =2 
   87       =2 #endif
   88       =2 
   89       =2 #endif
    1       =2 /*
    2       =2  * Library: libcrc
    3       =2  * File:    include/checksum.h
    4       =2  * Author:  Lammert Bies
    5       =2  *
    6       =2  * This file is licensed under the MIT License as stated below
    7       =2  *
    8       =2  * Copyright (c) 1999-2016 Lammert Bies
    9       =2  *
   10       =2  * Permission is hereby granted, free of charge, to any person obtaining a copy
   11       =2  * of this software and associated documentation files (the "Software"), to deal
   12       =2  * in the Software without restriction, including without limitation the rights
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 103 

   13       =2  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   14       =2  * copies of the Software, and to permit persons to whom the Software is
   15       =2  * furnished to do so, subject to the following conditions:
   16       =2  *
   17       =2  * The above copyright notice and this permission notice shall be included in all
   18       =2  * copies or substantial portions of the Software.
   19       =2  * 
   20       =2  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   21       =2  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   22       =2  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   23       =2  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   24       =2  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   25       =2  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   26       =2  * SOFTWARE.
   27       =2  *
   28       =2  * Description
   29       =2  * -----------
   30       =2  * The headerfile include/checksum.h contains the definitions and prototypes
   31       =2  * for routines that can be used to calculate several kinds of checksums.
   32       =2  */
   33       =2 
   34       =2 #ifndef DEF_LIBCRC_CHECKSUM_H
   35       =2 #define DEF_LIBCRC_CHECKSUM_H
   36       =2 
   37       =2 #include <stdio.h>
    1       =3 /*--------------------------------------------------------------------------
    2       =3 STDIO.H
    3       =3 
    4       =3 Prototypes for standard I/O functions for C251 Version 3.
    5       =3 Copyright (c) 1995-2001 Keil Elektronik GmbH and Keil Software, Inc.
    6       =3 All rights reserved.
    7       =3 --------------------------------------------------------------------------*/
    8       =3 
    9       =3 #pragma SAVE
   10       =3 #pragma PARM251
   11       =3 
   12       =3 #ifndef EOF
            =3  #define EOF -1
            =3 #endif
   15       =3 
   16       =3 #ifndef NULL
            =3  #define NULL ((void *) 0)
            =3 #endif
   19       =3 
   20       =3 #ifndef _SIZE_T
            =3  #define _SIZE_T
            =3  typedef unsigned int size_t;
            =3 #endif
   24       =3 
   25       =3 #if (__C251__ >= 200) 
   26       =3 #pragma SAVE
   27       =3 #pragma FUNCTIONS(STATIC)
   28       =3 /* only static functions available */
   29       =3 extern char _getkey  (void);
   30       =3 extern char getchar  (void);
   31       =3 extern char ungetchar(char);
   32       =3 extern char putchar  (char);
   33       =3 extern int  printf   (const char *, ...); 
   34       =3 extern char *gets    (char *, int n);
   35       =3 extern int  scanf    (const char *, ...);
   36       =3 extern int  vprintf  (const char *, char *);
   37       =3 extern int  puts     (const char *);
   38       =3 #pragma RESTORE
   39       =3 /* available as reentrant & non-reentrant version */
   40       =3 extern int  sprintf  (char *, const char *, ...);
   41       =3 extern int  vsprintf (char *, const char *, char *);
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 104 

   42       =3 extern int  sscanf   (char *, const char *, ...);
   43       =3 #else
            =3 extern char _getkey (void);
            =3 extern char getchar (void);
            =3 extern char ungetchar (char);
            =3 extern char putchar (char);
            =3 extern int printf   (const char *, ...);
            =3 extern int sprintf  (char *, const char *, ...);
            =3 extern int vprintf  (const char *, char *);
            =3 extern int vsprintf (char *, const char *, char *);
            =3 extern char *gets (char *, int n);
            =3 extern int scanf (const char *, ...);
            =3 extern int sscanf (char *, const char *, ...);
            =3 extern int puts (const char *);
            =3 #endif
   57       =3 
   58       =3 #pragma RESTORE
   38       =2 #include "CfgGlobal.h"
   38       =2 /*
   38       =2  * Library: libcrc
   38       =2  * File:    include/checksum.h
   38       =2  * Author:  Lammert Bies
   38       =2  *
   38       =2  * This file is licensed under the MIT License as stated below
   38       =2  *
   38       =2  * Copyright (c) 1999-2016 Lammert Bies
   38       =2  *
   38       =2  * Permission is hereby granted, free of charge, to any person obtaining a copy
   38       =2  * of this software and associated documentation files (the "Software"), to deal
   38       =2  * in the Software without restriction, including without limitation the rights
   38       =2  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
   38       =2  * copies of the Software, and to permit persons to whom the Software is
   38       =2  * furnished to do so, subject to the following conditions:
   38       =2  *
   38       =2  * The above copyright notice and this permission notice shall be included in all
   38       =2  * copies or substantial portions of the Software.
   38       =2  * 
   38       =2  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   38       =2  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   38       =2  * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   38       =2  * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   38       =2  * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   38       =2  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
   38       =2  * SOFTWARE.
   38       =2  *
   38       =2  * Description
   38       =2  * -----------
   38       =2  * The headerfile include/checksum.h contains the definitions and prototypes
   38       =2  * for routines that can be used to calculate several kinds of checksums.
   38       =2  */
   38       =2 
   38       =2 #ifndef DEF_LIBCRC_CHECKSUM_H
   38       =2 #define DEF_LIBCRC_CHECKSUM_H
   38       =2 
   38       =2 #include <stdio.h>
   38       =2 #include "CfgGlobal.h"
   39       =2 /*
   40       =2  * #define CRC_POLY_xxxx
   41       =2  *
   42       =2  * The constants of the form CRC_POLY_xxxx define the polynomials for some well
   43       =2  * known CRC calculations.
   44       =2  */
   45       =2 
   46       =2 #define         CRC_POLY_16             0xA001
   47       =2 #define         CRC_POLY_32             0xEDB88320L
   48       =2 #define         CRC_POLY_CCITT          0x1021
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 105 

   49       =2 #define         CRC_POLY_DNP            0xA6BC
   50       =2 #define         CRC_POLY_KERMIT         0x8408
   51       =2 #define         CRC_POLY_SICK           0x8005
   52       =2 
   53       =2 /*
   54       =2  * #define CRC_START_xxxx
   55       =2  *
   56       =2  * The constants of the form CRC_START_xxxx define the values that are used for
   57       =2  * initialization of a CRC value for common used calculation methods.
   58       =2  */
   59       =2 
   60       =2 #define         CRC_START_8             0x00
   61       =2 #define         CRC_START_16            0x0000
   62       =2 #define         CRC_START_MODBUS        0xFFFF
   63       =2 #define         CRC_START_XMODEM        0x0000
   64       =2 #define         CRC_START_CCITT_1D0F    0x1D0F
   65       =2 #define         CRC_START_CCITT_FFFF    0xFFFF
   66       =2 #define         CRC_START_KERMIT        0xFFFF//0x0000
   67       =2 #define         CRC_START_SICK          0x0000
   68       =2 #define         CRC_START_DNP           0x0000
   69       =2 #define         CRC_START_32            0xFFFFFFFFL
   70       =2 
   71       =2 /*
   72       =2  * Prototype list of global functions
   73       =2  */
   74       =2 #if 0
            =2 unsigned char *         checksum_NMEA(     const unsigned char *input_str, unsigned char *result  );
            =2 unsigned char                   crc_8(             const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_16(            const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned long           crc_32(            const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_ccitt_1d0f(    const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_ccitt_ffff(    const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_dnp(           const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_kermit(        const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_modbus(        const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_sick(          const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned short          crc_xmodem(        const unsigned char *input_str, size_t num_bytes       );
            =2 unsigned char                   update_crc_8(      unsigned char  crc, unsigned char c                          );
            =2 unsigned short          update_crc_16(     unsigned short crc, unsigned char c                          );
            =2 unsigned long           update_crc_32(     unsigned long crc, unsigned char c                          );
            =2 unsigned short          update_crc_ccitt(  unsigned short crc, unsigned char c                          );
            =2 unsigned short          update_crc_dnp(    unsigned short crc, unsigned char c                          );
            =2 unsigned short          update_crc_kermit( unsigned short crc, unsigned char c                          );
            =2 unsigned short          update_crc_sick(   unsigned short crc, unsigned char c, unsigned char prev_byte );
            =2 #endif  
   94       =2 unsigned short          crc_kermit(const unsigned char *input_str, unsigned short num_bytes);
   95       =2 unsigned short          update_crc_kermit(unsigned short crc, unsigned char c );
   96       =2 #endif  // DEF_LIBCRC_CHECKSUM_H
    1       =2 /*******************************************************************************
    2       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
    3       =2 *
    4       =2 * File Name: Test_DebugOut.h
    5       =2 *
    6       =2 *    Author: 
    7       =2 *
    8       =2 *   Created: 2017-04-18
    9       =2 *
   10       =2 *  Abstract:
   11       =2 *
   12       =2 * Reference:
   13       =2 *
   14       =2 *******************************************************************************/
   15       =2 #ifndef __TEST_DEBUG_OUT_H__
   16       =2 #define __TEST_DEBUG_OUT_H__
   17       =2 
   18       =2 /*******************************************************************************
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 106 

   19       =2 * 1.Included files
   20       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   21       =2 /*******************************************************************************
   21       =2 * Copyright (C) 2013-2014, FocalTech Systems (R)£¨All Rights Reserved.
   21       =2 *
   21       =2 * File Name: Test_DebugOut.h
   21       =2 *
   21       =2 *    Author: 
   21       =2 *
   21       =2 *   Created: 2017-04-18
   21       =2 *
   21       =2 *  Abstract:
   21       =2 *
   21       =2 * Reference:
   21       =2 *
   21       =2 *******************************************************************************/
   21       =2 #ifndef __TEST_DEBUG_OUT_H__
   21       =2 #define __TEST_DEBUG_OUT_H__
   21       =2 
   21       =2 /*******************************************************************************
   21       =2 * 1.Included files
   21       =2 *******************************************************************************/
   21       =2 #include "CfgGlobal.h"
   22       =2 
   23       =2 #if _TEST_DEBUGOUT_EN
            =2 /*******************************************************************************
            =2 * 2.Global constant and macro definitions using #define
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 3.Global structures, unions and enumerations using typedef
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 4.Global variable extern declarations
            =2 *******************************************************************************/
            =2 
            =2 /*******************************************************************************
            =2 * 5.Global function prototypes
            =2 *******************************************************************************/
            =2 void Test_DebugOut(void);
            =2 #else
   41       =2 
   42       =2 #define Test_DebugOut() /##/
   43       =2 #endif
   44       =2 
   45       =2 #endif
   46       =2 
   22          
   23          /*******************************************************************************
   24          * 2.Private constant and macro definitions using #define
   25          *******************************************************************************/
   26          
   27          #define APP_INFO_ADDR             0xFEE900  // Verification Info
   28          #define APP_VERIF_LEN             0x20
   29          
   30          #define FW_CFG_TOTAL_SIZE         0x80
   31          
   32          /*******************************************************************************
   33          * 3.Private enumerations, structures and unions using typedef
   34          *******************************************************************************/
   35          
   36          /*******************************************************************************
   37          * 4.Static variables
   38          *******************************************************************************/
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 107 

   39          //UINT8 XRAM g_ucTestStack;      // system pram address stack test
   40          //UINT8 CROM g_ucTest[40000];    // use to add the code size to 64K
   41          /*******************************************************************************
   42          * 5.Global variable or extern global variabls/functions
   43          *******************************************************************************/
   44          void CRCCCITT(const UINT8* pDataIn, UINT16 iLenIn, UINT16* pCRCOut);
   45          
   46          /* ‘§¡Ù∏¯–£—È¬Î–≈œ¢µƒ¥˙¬Î«¯ */
   47          UINT8 ECODE g_aucVerfication[APP_VERIF_LEN+FW_CFG_TOTAL_SIZE] _at_ APP_INFO_ADDR;
   48          /*******************************************************************************
   49          * 6.Static function prototypes
   50          *******************************************************************************/
   51          
   52          /*******************************************************************************
   53          *   Name: init_mcu
   54          *  Brief:
   55          *  Input:
   56          * Output:
   57          * Return:
   58          *******************************************************************************/
   59          void init_mcu(void)
   60          {
   61   1          UINT8 i,cnt;    
   62   1          I2CRI  = 0;
   63   1          I2CTI  = 0;
   64   1          I2CSTP = 0;
   65   1          I2CBUF = 0;
   66   1      
   67   1      #if _TEST_SFR_EN
                   for (i = 0x80; i < 0xff; i++)
                   {
                     g_ucSFR[i]   = SFRGetRegMapDataNormal(i);
                   }
                   
                   g_ucSFR[0xFF] = SFRGetRegMapDataNormal(0xFF);
                   g_ucSFR[0xC0] = SFRGetRegMapDataNormal(0xC0);
                   P1MOD = 0x00;
                   P1DIR = 0xFF;
                   P1SEL = 0xFF;
                   g_ucSFR[0x94] = SFRGetRegMapDataNormal(0x94);
               #endif
   80   1          DrvSysClkInit(MAIN_CLK);
   81   1          DrvIOInit();
   82   1          DrvUartInit();
   83   1          EA = 1;    
   84   1          ESD_RST_EN = 1;    
   85   1          DBG_FLOW("\n\rModule test:");
   86   1          DBG_FLOW(__DATE__);
   87   1          for (i = 0; i < 8; i++)
   88   1          {
   89   2              DBG_FLOW("\n\rCGU%x: %x", i, g_ucbuf[i]);
   90   2          }
   91   1          DBG_FLOW("\n\rSOFT_RST: %x", g_ucbuf[8]);
   92   1          DBG_FLOW("\n\rPOR_STA: %x", g_ucbuf[9]);
   93   1          DBG_FLOW("\n\rRST_STA: %x", g_ucbuf[10]);
   94   1          DBG_FLOW("\n\rANACON:%x", g_ucbuf[11]);
   95   1          DBG_FLOW("\n\rIWKSTA:%02x",IWKSTA);
   96   1          DBG_FLOW("\n\rPOR_STA:%02x",POR_STA);
   97   1      
   98   1          
   99   1          CNT_MASK = 0;
  100   1          cnt = CNT_STA; 
  101   1          DBG_FLOW("\n\rPORRST_CNT:%02x",cnt);
  102   1          
  103   1          CNT_MASK = 1;
  104   1          cnt = CNT_STA;    
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 108 

  105   1          DBG_FLOW("\n\rWDTRST_CNT:%02x",cnt);
  106   1      
  107   1          CNT_MASK = 2;
  108   1          cnt = CNT_STA;    
  109   1          DBG_FLOW("\n\rEXTRST_CNT:%02x",cnt);
  110   1      
  111   1          CNT_MASK = 3;
  112   1          cnt = CNT_STA;      
  113   1          DBG_FLOW("\n\rLCDRST_CNT:%02x",cnt);
  114   1      
  115   1          CNT_MASK = 4;
  116   1          cnt = CNT_STA;    
  117   1          DBG_FLOW("\n\rESDRST_CNT:%02x",cnt);
  118   1      
  119   1      
  120   1          CNT_MASK = 5;
  121   1          cnt = CNT_STA;    
  122   1          DBG_FLOW("\n\rLVDRST_CNT:%02x",cnt);
  123   1      
  124   1      
  125   1          CNT_MASK = 0x08;
  126   1          cnt = CNT_STA;    
  127   1          DBG_FLOW("\n\rCPU_PORRST_CNT:%02x",cnt);
  128   1      
  129   1      
  130   1          CNT_MASK = 0x09;
  131   1          cnt = CNT_STA;    
  132   1          DBG_FLOW("\n\rCPU_WDTRST_CNT:%02x",cnt);
  133   1            
  134   1      
  135   1          CNT_MASK = 0x0A;
  136   1          cnt = CNT_STA;    
  137   1          DBG_FLOW("\n\rCPU_EXTRST_CNT:%02x",cnt);
  138   1      
  139   1          CNT_MASK = 0x0B;
  140   1          cnt = CNT_STA;    
  141   1          DBG_FLOW("\n\rCPU_LCDRST_CNT:%02x",cnt);
  142   1      
  143   1          CNT_MASK = 0x0C;
  144   1          cnt = CNT_STA;    
  145   1          DBG_FLOW("\n\rCPU_ESDRST_CNT:%02x",cnt);
  146   1      
  147   1          CNT_MASK = 0x0D;
  148   1          cnt = CNT_STA;    
  149   1          DBG_FLOW("\n\rCPU_LVDRST_CNT:%02x",cnt);
  150   1          
  151   1          DBG_FLOW("\n\rinit ok");
  152   1      
  153   1      }
  154          
  155          /*******************************************************************************
  156          *   Name: main
  157          *  Brief:
  158          *  Input:
  159          * Output:
  160          * Return:
  161          *******************************************************************************/
  162          void main(void)
  163          {
  164   1          unsigned char i=0;
  165   1      
  166   1       #if 0  
                   UINT8 buf[8]={0};
                   UINT16 crc=0;
                   for(i=0;i<8;i++)
                   {
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 109 

                       buf[i]=0xa7;
                   }
                   
                   CRCCCITT(buf,6,&crc);
                   HOLD;
               #endif
  177   1          
  178   1          init_mcu();
  179   1      
  180   1      #if 1
  181   1      
  182   1          
  183   1          Test_UART();
  184   1          Test_SFR();
  185   1          Test_Dram();
  186   1          Test_Prom();
  187   1          Test_Aram();
  188   1          Test_SPI_Flash();
  189   1          Test_Spi0Reg();
  190   1          Test_XsiReg();
  191   1          Test_XbusReg();
  192   1          Test_AsmReg();
  193   1          Test_CalReg();
  194   1          Test_LcdReg();
  195   1          Test_AfeReg(); 
  196   1          Test_Afe_Ram();
  197   1          Test_DebugOut();    
  198   1      
  199   1          Test_LED();
  200   1          Test_I2C();
  201   1          
  202   1          Test_WDT();
  203   1          Test_RTC();
  204   1          Test_Counter();
  205   1          
  206   1          Test_Timer();    
  207   1          Test_GPIO();
  208   1          Test_I2CWakeup();
  209   1          Test_Int0Wakeup();
  210   1          Test_int_nest();
  211   1          Test_Xsi();
  212   1          Test_CAL();
  213   1      
  214   1          Test_romboot();
  215   1          Test_Xbus();
  216   1          Test_RomEcc();
  217   1          Test_SPI0();
  218   1          Test_DMA();
  219   1          Test_SPI0_Wakeup();
  220   1          Test_SOFT_RST();
  221   1      
  222   1          while (1)
  223   1          {
  224   2              DBG_FLOW("\nMODULE TEST");
  225   2              DelayMs(2000);
  226   2          }
  227   1       #endif  
  228   1      }
  229          
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 110 

ASSEMBLY LISTING OF GENERATED OBJECT CODE


;       FUNCTION init_mcu? (BEGIN)
                                                ; SOURCE LINE # 59
000000 CAF8           PUSH     R15
                                                ; SOURCE LINE # 60
                                                ; SOURCE LINE # 62
000002 C290           CLR      I2CRI
                                                ; SOURCE LINE # 63
000004 C291           CLR      I2CTI
                                                ; SOURCE LINE # 64
000006 A9C093         CLR      I2CSTP
                                                ; SOURCE LINE # 65
000009 759100         MOV      I2CBUF,#00H
                                                ; SOURCE LINE # 80
00000C E4             CLR      A                ; A=R11
00000D 9A000000    E  ECALL    DrvSysClkInit?
                                                ; SOURCE LINE # 81
000011 9A000000    E  ECALL    DrvIOInit?
                                                ; SOURCE LINE # 82
000015 9A000000    E  ECALL    DrvUartInit?
                                                ; SOURCE LINE # 83
000019 D2AF           SETB     EA
                                                ; SOURCE LINE # 84
00001B D29E           SETB     ESD_RST_EN
                                                ; SOURCE LINE # 85
00001D 7E140000    R  MOV      WR2,#WORD0 ?SC_0371
000021 7E040000    R  MOV      WR0,#WORD2 ?SC_0371
000025 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 86
000029 7E140000    R  MOV      WR2,#WORD0 ?SC_0359
00002D 7E040000    R  MOV      WR0,#WORD2 ?SC_0359
000031 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 87
000035 6CFF           XRL      R15,R15
;---- Variable 'i' assigned to Register 'R15' ----
               ?C0004:
                                                ; SOURCE LINE # 89
000037 0A3F           MOVZ     WR6,R15
000039 7A370000    E  MOV      ?printf??BYTE-2,WR6
00003D 09730000    E  MOV      R7,@WR6+g_ucbuf
000041 7A370000    E  MOV      ?printf??BYTE-4,WR6
000045 7E140000    R  MOV      WR2,#WORD0 ?SC_0347
000049 7E040000    R  MOV      WR0,#WORD2 ?SC_0347
00004D 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 90
000051 0BF0           INC      R15,#01H
000053 BEF008         CMP      R15,#08H
000056 40DF           JC       ?C0004
                                                ; SOURCE LINE # 91
000058 7E730000    E  MOV      R7,g_ucbuf+8
00005C 0A37           MOVZ     WR6,R7
00005E 7A370000    E  MOV      ?printf??BYTE-2,WR6
000062 7E140000    R  MOV      WR2,#WORD0 ?SC_0332
000066 7E040000    R  MOV      WR0,#WORD2 ?SC_0332
00006A 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 92
00006E 7E730000    E  MOV      R7,g_ucbuf+9
000072 0A37           MOVZ     WR6,R7
000074 7A370000    E  MOV      ?printf??BYTE-2,WR6
000078 7E140000    R  MOV      WR2,#WORD0 ?SC_0318
00007C 7E040000    R  MOV      WR0,#WORD2 ?SC_0318
000080 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 93
000084 7E730000    E  MOV      R7,g_ucbuf+10
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 111 

000088 0A37           MOVZ     WR6,R7
00008A 7A370000    E  MOV      ?printf??BYTE-2,WR6
00008E 7E140000    R  MOV      WR2,#WORD0 ?SC_0304
000092 7E040000    R  MOV      WR0,#WORD2 ?SC_0304
000096 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 94
00009A 7E730000    E  MOV      R7,g_ucbuf+11
00009E 0A37           MOVZ     WR6,R7
0000A0 7A370000    E  MOV      ?printf??BYTE-2,WR6
0000A4 7E140000    R  MOV      WR2,#WORD0 ?SC_0292
0000A8 7E040000    R  MOV      WR0,#WORD2 ?SC_0292
0000AC 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 95
0000B0 E5E5           MOV      A,IWKSTA         ; A=R11
0000B2 0A3B           MOVZ     WR6,R11          ; A=R11
0000B4 7A370000    E  MOV      ?printf??BYTE-2,WR6
0000B8 7E140000    R  MOV      WR2,#WORD0 ?SC_0278
0000BC 7E040000    R  MOV      WR0,#WORD2 ?SC_0278
0000C0 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 96
0000C4 E5E6           MOV      A,POR_STA        ; A=R11
0000C6 0A3B           MOVZ     WR6,R11          ; A=R11
0000C8 7A370000    E  MOV      ?printf??BYTE-2,WR6
0000CC 7E140000    R  MOV      WR2,#WORD0 ?SC_0263
0000D0 7E040000    R  MOV      WR0,#WORD2 ?SC_0263
0000D4 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 99
0000D8 75F100         MOV      CNT_MASK,#00H
                                                ; SOURCE LINE # 100
0000DB 7E71F2         MOV      R7,CNT_STA
;---- Variable 'cnt' assigned to Register 'R7' ----
                                                ; SOURCE LINE # 101
0000DE 0A37           MOVZ     WR6,R7
0000E0 7A370000    E  MOV      ?printf??BYTE-2,WR6
0000E4 7E140000    R  MOV      WR2,#WORD0 ?SC_0245
0000E8 7E040000    R  MOV      WR0,#WORD2 ?SC_0245
0000EC 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 103
0000F0 75F101         MOV      CNT_MASK,#01H
                                                ; SOURCE LINE # 104
0000F3 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 105
0000F6 0A37           MOVZ     WR6,R7
0000F8 7A370000    E  MOV      ?printf??BYTE-2,WR6
0000FC 7E140000    R  MOV      WR2,#WORD0 ?SC_0227
000100 7E040000    R  MOV      WR0,#WORD2 ?SC_0227
000104 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 107
000108 75F102         MOV      CNT_MASK,#02H
                                                ; SOURCE LINE # 108
00010B 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 109
00010E 0A37           MOVZ     WR6,R7
000110 7A370000    E  MOV      ?printf??BYTE-2,WR6
000114 7E140000    R  MOV      WR2,#WORD0 ?SC_0209
000118 7E040000    R  MOV      WR0,#WORD2 ?SC_0209
00011C 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 111
000120 75F103         MOV      CNT_MASK,#03H
                                                ; SOURCE LINE # 112
000123 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 113
000126 0A37           MOVZ     WR6,R7
000128 7A370000    E  MOV      ?printf??BYTE-2,WR6
00012C 7E140000    R  MOV      WR2,#WORD0 ?SC_0191
000130 7E040000    R  MOV      WR0,#WORD2 ?SC_0191
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 112 

000134 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 115
000138 75F104         MOV      CNT_MASK,#04H
                                                ; SOURCE LINE # 116
00013B 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 117
00013E 0A37           MOVZ     WR6,R7
000140 7A370000    E  MOV      ?printf??BYTE-2,WR6
000144 7E140000    R  MOV      WR2,#WORD0 ?SC_0173
000148 7E040000    R  MOV      WR0,#WORD2 ?SC_0173
00014C 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 120
000150 75F105         MOV      CNT_MASK,#05H
                                                ; SOURCE LINE # 121
000153 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 122
000156 0A37           MOVZ     WR6,R7
000158 7A370000    E  MOV      ?printf??BYTE-2,WR6
00015C 7E140000    R  MOV      WR2,#WORD0 ?SC_0155
000160 7E040000    R  MOV      WR0,#WORD2 ?SC_0155
000164 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 125
000168 75F108         MOV      CNT_MASK,#08H
                                                ; SOURCE LINE # 126
00016B 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 127
00016E 0A37           MOVZ     WR6,R7
000170 7A370000    E  MOV      ?printf??BYTE-2,WR6
000174 7E140000    R  MOV      WR2,#WORD0 ?SC_0133
000178 7E040000    R  MOV      WR0,#WORD2 ?SC_0133
00017C 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 130
000180 75F109         MOV      CNT_MASK,#09H
                                                ; SOURCE LINE # 131
000183 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 132
000186 0A37           MOVZ     WR6,R7
000188 7A370000    E  MOV      ?printf??BYTE-2,WR6
00018C 7E140000    R  MOV      WR2,#WORD0 ?SC_0111
000190 7E040000    R  MOV      WR0,#WORD2 ?SC_0111
000194 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 135
000198 75F10A         MOV      CNT_MASK,#0AH
                                                ; SOURCE LINE # 136
00019B 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 137
00019E 0A37           MOVZ     WR6,R7
0001A0 7A370000    E  MOV      ?printf??BYTE-2,WR6
0001A4 7E140000    R  MOV      WR2,#WORD0 ?SC_0089
0001A8 7E040000    R  MOV      WR0,#WORD2 ?SC_0089
0001AC 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 139
0001B0 75F10B         MOV      CNT_MASK,#0BH
                                                ; SOURCE LINE # 140
0001B3 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 141
0001B6 0A37           MOVZ     WR6,R7
0001B8 7A370000    E  MOV      ?printf??BYTE-2,WR6
0001BC 7E140000    R  MOV      WR2,#WORD0 ?SC_0067
0001C0 7E040000    R  MOV      WR0,#WORD2 ?SC_0067
0001C4 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 143
0001C8 75F10C         MOV      CNT_MASK,#0CH
                                                ; SOURCE LINE # 144
0001CB 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 145
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 113 

0001CE 0A37           MOVZ     WR6,R7
0001D0 7A370000    E  MOV      ?printf??BYTE-2,WR6
0001D4 7E140000    R  MOV      WR2,#WORD0 ?SC_0045
0001D8 7E040000    R  MOV      WR0,#WORD2 ?SC_0045
0001DC 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 147
0001E0 75F10D         MOV      CNT_MASK,#0DH
                                                ; SOURCE LINE # 148
0001E3 7E71F2         MOV      R7,CNT_STA
                                                ; SOURCE LINE # 149
0001E6 0A37           MOVZ     WR6,R7
0001E8 7A370000    E  MOV      ?printf??BYTE-2,WR6
0001EC 7E140000    R  MOV      WR2,#WORD0 ?SC_0023
0001F0 7E040000    R  MOV      WR0,#WORD2 ?SC_0023
0001F4 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 151
0001F8 7E140000    R  MOV      WR2,#WORD0 ?SC_0013
0001FC 7E040000    R  MOV      WR0,#WORD2 ?SC_0013
000200 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 153
000204 DAF8           POP      R15
000206 AA             ERET     
;       FUNCTION init_mcu? (END)

;       FUNCTION main? (BEGIN)
                                                ; SOURCE LINE # 162
                                                ; SOURCE LINE # 163
                                                ; SOURCE LINE # 164
                                                ; SOURCE LINE # 178
000207 9A000000    R  ECALL    init_mcu?
                                                ; SOURCE LINE # 212
00020B 9A000000    E  ECALL    Test_CAL?
                                                ; SOURCE LINE # 222
               ?C0008:
                                                ; SOURCE LINE # 224
00020F 7E140000    R  MOV      WR2,#WORD0 ?SC_0000
000213 7E040000    R  MOV      WR0,#WORD2 ?SC_0000
000217 9A000000    E  ECALL    printf?
                                                ; SOURCE LINE # 225
00021B 7E3407D0       MOV      WR6,#07D0H
00021F 9A000000    E  ECALL    DelayMs?
                                                ; SOURCE LINE # 226
000223 80EA           SJMP     ?C0008
;       FUNCTION main? (END)

C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 114 

Name                                    Class    Space Type   Offset   Size
---------------------------------------------------------------------------

Addr_PRESCAN_TIME. . . . . . . . . . .  enum           int    000034H  2
Addr_DISCHARGE_TIME. . . . . . . . . .  enum           int    000035H  2
BIT_LCD_BUSY_RISE_WAKE_EN0 . . . . . .  enum           int    00000EH  2
FP32 . . . . . . . . . . . . . . . . .  type           float  000000H  4
FW_CFG_IOVOLTAGE_NE_OFFSET . . . . . .  enum           int    000003H  2
BIT_LCD_3D_MODE_RISE_CLR1. . . . . . .  enum           int    000003H  2
BIT_LCD_BUSY_RISE_FLAG0. . . . . . . .  enum           int    00000EH  2
UINT8. . . . . . . . . . . . . . . . .  type           uchar  000000H  1
ENUM_BIT_ASM_INT_CLR1. . . . . . . . .  type           int    000000H  2
LCD_OTP_XBUS_CLK_NE_ADDR . . . . . . .  enum           int    009871H  2
ST_LcdWrapRegisters. . . . . . . . . .  type           struct 000000H  10
  rdata_lo_byte. . . . . . . . . . . .  member         ushort 000000H  2
  rdata_ho_byte. . . . . . . . . . . .  member         ushort 000002H  2
  lcd_regfile_ctrl . . . . . . . . . .  member         ushort 000004H  2
  xbus_cmd . . . . . . . . . . . . . .  member         ushort 000006H  2
  xbus_rld_data. . . . . . . . . . . .  member         ushort 000008H  2
ENUM_BIT_ASM_INT_CLR0. . . . . . . . .  type           int    000000H  2
BIT_LCD_LPF_MODE_EN_FALL_EN1 . . . . .  enum           int    00000DH  2
SINT8. . . . . . . . . . . . . . . . .  type           char   000000H  1
BIT_LCD_SYNC_MISS_FALL_EN0 . . . . . .  enum           int    00000AH  2
FW_CFG_SPI_CLK_NE_OFFSET . . . . . . .  enum           int    000007H  2
LCD_OTP_MASTER_I2C_ADDR. . . . . . . .  enum           int    009866H  2
BIT_LCD_RUN_RISE_CLR0. . . . . . . . .  enum           int    000000H  2
BIT_LCD_BUSY_RISE_EN0. . . . . . . . .  enum           int    00000EH  2
BIT_LCD_VMID_STA . . . . . . . . . . .  enum           int    000007H  2
BIT_LCD_VDO_MODE_RISE_CLR1 . . . . . .  enum           int    000007H  2
Addr_AFE_SYS_CFG1. . . . . . . . . . .  enum           int    000005H  2
Addr_AFE_SYS_CFG0. . . . . . . . . . .  enum           int    000004H  2
BIT_LCD_DSTB_STA . . . . . . . . . . .  enum           int    00000DH  2
BIT_LCD_VEND_STA . . . . . . . . . . .  enum           int    000006H  2
Union_Spi0Reg. . . . . . . . . . . . .  type           union  000000H  14
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  14
  offset . . . . . . . . . . . . . . .  member         array  000000H  14
ST_AsmRegisters. . . . . . . . . . . .  type           struct 000000H  82
  usAsmIntFlag0. . . . . . . . . . . .  member         ushort 000000H  2
  usAsmIntFlag1. . . . . . . . . . . .  member         ushort 000002H  2
  usAsmIntClr0 . . . . . . . . . . . .  member         ushort 000004H  2
  usAsmIntClr1 . . . . . . . . . . . .  member         ushort 000006H  2
  usAsmIntEn0. . . . . . . . . . . . .  member         ushort 000008H  2
  usAsmIntEn1. . . . . . . . . . . . .  member         ushort 00000AH  2
  usAsmIntWakeEn0. . . . . . . . . . .  member         ushort 00000CH  2
  usAsmIntWakeEn1. . . . . . . . . . .  member         ushort 00000EH  2
  usAsmIntSta. . . . . . . . . . . . .  member         ushort 000010H  2
  usAsmScanSta0. . . . . . . . . . . .  member         ushort 000012H  2
  usAsmScanSta1. . . . . . . . . . . .  member         ushort 000014H  2
  usAsmScanSta2. . . . . . . . . . . .  member         ushort 000016H  2
  usAsmScanSta3. . . . . . . . . . . .  member         ushort 000018H  2
  usAsmScanCtrl. . . . . . . . . . . .  member         ushort 00001AH  2
  usAsmScanCfg0. . . . . . . . . . . .  member         ushort 00001CH  2
  usAsmScanCfg1. . . . . . . . . . . .  member         ushort 00001EH  2
  usAsmTpFrameCfg0 . . . . . . . . . .  member         ushort 000020H  2
  usAsmTpFrameCfg1 . . . . . . . . . .  member         ushort 000022H  2
  usAsmTpFrameCfg2 . . . . . . . . . .  member         ushort 000024H  2
  usAsmTpFrameCfg3 . . . . . . . . . .  member         ushort 000026H  2
  usAsmScanDly . . . . . . . . . . . .  member         ushort 000028H  2
  usAsmStbMaseL. . . . . . . . . . . .  member         ushort 00002AH  2
  usAsmStbMaseH. . . . . . . . . . . .  member         ushort 00002CH  2
  usAsmAramBaseL . . . . . . . . . . .  member         ushort 00002EH  2
  usAsmAramBaseR . . . . . . . . . . .  member         ushort 000030H  2
  usAsmAramBaseKey . . . . . . . . . .  member         ushort 000032H  2
  usAsmAramCBL . . . . . . . . . . . .  member         ushort 000034H  2
  usAsmAramCBR . . . . . . . . . . . .  member         ushort 000036H  2
  usAsmAramCBKey . . . . . . . . . . .  member         ushort 000038H  2
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 115 

  usAsmReserve0. . . . . . . . . . . .  member         ushort 00003AH  2
  usAsmReserve1. . . . . . . . . . . .  member         ushort 00003CH  2
  usAsmReserve2. . . . . . . . . . . .  member         ushort 00003EH  2
  usAsmHwMonCrtl0. . . . . . . . . . .  member         ushort 000040H  2
  usAsmHwMonCtrl1. . . . . . . . . . .  member         ushort 000042H  2
  usAsmHwMonCfg0 . . . . . . . . . . .  member         ushort 000044H  2
  usAsmHwMonCfg1 . . . . . . . . . . .  member         ushort 000046H  2
  usAsmHwMonCfg2 . . . . . . . . . . .  member         ushort 000048H  2
  usAsmHwMonCfg3 . . . . . . . . . . .  member         ushort 00004AH  2
  usAsmHwMonCfg4 . . . . . . . . . . .  member         ushort 00004CH  2
  usAsmHwMonTimer. . . . . . . . . . .  member         ushort 00004EH  2
  usAsmVreshCfgLcdon . . . . . . . . .  member         ushort 000050H  2
Addr_AFE_ANA_ADC_CFG3. . . . . . . . .  enum           int    000024H  2
Addr_AFE_ANA_ADC_CFG2. . . . . . . . .  enum           int    000023H  2
BIT_LCD_BUSY_FALL_WAKE_EN0 . . . . . .  enum           int    00000FH  2
ENUM_BIT_ASM_WAKE_EN1. . . . . . . . .  type           int    000000H  2
LCD_OTP_MASTER_I2C_NE_ADDR . . . . . .  enum           int    009867H  2
Addr_AFE_ANA_ADC_CFG1. . . . . . . . .  enum           int    000022H  2
Addr_UNDERFLOW_THR . . . . . . . . . .  enum           int    000049H  2
BIT_LCD_3D_MODE_FALL_CLR1. . . . . . .  enum           int    000004H  2
ENUM_BIT_ASM_WAKE_EN0. . . . . . . . .  type           int    000000H  2
FW_CFG_SPI_IOMODE_OFFSET . . . . . . .  enum           int    00000CH  2
Addr_AFE_ANA_ADC_CFG0. . . . . . . . .  enum           int    000021H  2
BIT_LCD_BUSY_FALL_FLAG0. . . . . . . .  enum           int    00000FH  2
BIT_LCD_DSTB_RISE_WAKE_EN0 . . . . . .  enum           int    00000BH  2
BIT_LCD_PANEL_CONFLICT_STA . . . . . .  enum           int    00000EH  2
Addr_KEY_MONITOR_THRESHOLD . . . . . .  enum           int    00000CH  2
BIT_LCD_ODD_EVEN_RISE_CLR1 . . . . . .  enum           int    000009H  2
BIT_HW_MON_TIMEOUT_WAKE_EN1. . . . . .  enum           int    00000EH  2
LCD_OTP_REG_ADDR . . . . . . . . . . .  enum           int    009866H  2
Addr_TEST_P1_CFG2. . . . . . . . . . .  enum           int    00003FH  2
BIT_LCD_DSTB_RISE_FLAG0. . . . . . . .  enum           int    00000BH  2
BIT_LCD_IDLE_MODE_STA. . . . . . . . .  enum           int    000002H  2
Addr_TEST_P0_CFG2. . . . . . . . . . .  enum           int    00003CH  2
Addr_TEST_P1_CFG1. . . . . . . . . . .  enum           int    00003EH  2
BIT_LCD_VBLANK_WAKE_EN0. . . . . . . .  enum           int    000002H  2
BIT_LCD_FRAME_END_STA. . . . . . . . .  enum           int    00000BH  2
Addr_TEST_P0_CFG1. . . . . . . . . . .  enum           int    00003BH  2
Addr_TEST_P1_CFG0. . . . . . . . . . .  enum           int    00003DH  2
Addr_TEST_P0_CFG0. . . . . . . . . . .  enum           int    00003AH  2
BIT_LCD_VBLANK_FLAG0 . . . . . . . . .  enum           int    000002H  2
ENUM_AFE_ADDR. . . . . . . . . . . . .  type           int    000000H  2
BIT_LCD_STB_TICK_CLR1. . . . . . . . .  enum           int    00000BH  2
BIT_LCD_IDLE_MODE_RISE_WAKE_EN1. . . .  enum           int    000005H  2
BIT_LCD_RUN_FALL_CLR0. . . . . . . . .  enum           int    000001H  2
BIT_LCD_RUN_CLR1 . . . . . . . . . . .  enum           int    000002H  2
BIT_LCD_BUSY_FALL_EN0. . . . . . . . .  enum           int    00000FH  2
BIT_LCD_IDLE_MODE_RISE_FLAG1 . . . . .  enum           int    000005H  2
BIT_LCD_DSTB_RISE_EN0. . . . . . . . .  enum           int    00000BH  2
BIT_LCD_TCH_DET_STA. . . . . . . . . .  enum           int    00000AH  2
BIT_HW_MON_TIMEOUT_EN1 . . . . . . . .  enum           int    00000EH  2
P2_ECC_L . . . . . . . . . . . . . . .  enum           int    000009H  2
FW_CFG_SPI_IOMODE_NE_OFFSET. . . . . .  enum           int    00000DH  2
BIT_LCD_ARAM_RDY_CLR0. . . . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_CLR1 . . . . . .  enum           int    000008H  2
P1_ECC_L . . . . . . . . . . . . . . .  enum           int    000005H  2
BIT_LCD_SYNC_MISS_RISE_CLR0. . . . . .  enum           int    000009H  2
BIT_LCD_VBLANK_EN0 . . . . . . . . . .  enum           int    000002H  2
FW_CFG_XBUS_CLK_OFFSET . . . . . . . .  enum           int    00000AH  2
ST_CalRegisters. . . . . . . . . . . .  type           struct 000000H  78
  rCmd . . . . . . . . . . . . . . . .  member         ushort 000000H  2
  rDmaLen. . . . . . . . . . . . . . .  member         ushort 000002H  2
  rS1Addr. . . . . . . . . . . . . . .  member         ushort 000004H  2
  rS2Addr. . . . . . . . . . . . . . .  member         ushort 000006H  2
  rOutAddr . . . . . . . . . . . . . .  member         ushort 000008H  2
  rPar . . . . . . . . . . . . . . . .  member         ushort 00000AH  2
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 116 

  rSize. . . . . . . . . . . . . . . .  member         ushort 00000CH  2
  rPThd. . . . . . . . . . . . . . . .  member         ushort 00000EH  2
  rNThd. . . . . . . . . . . . . . . .  member         ushort 000010H  2
  rAThd. . . . . . . . . . . . . . . .  member         ushort 000012H  2
  rDmask . . . . . . . . . . . . . . .  member         ushort 000014H  2
  rPaCnt . . . . . . . . . . . . . . .  member         ushort 000016H  2
  rNaCnt . . . . . . . . . . . . . . .  member         ushort 000018H  2
  rPsCnt . . . . . . . . . . . . . . .  member         ushort 00001AH  2
  rNsCnt . . . . . . . . . . . . . . .  member         ushort 00001CH  2
  rMaxV. . . . . . . . . . . . . . . .  member         ushort 00001EH  2
  rMaxPos. . . . . . . . . . . . . . .  member         ushort 000020H  2
  rMinV. . . . . . . . . . . . . . . .  member         ushort 000022H  2
  rMinPos. . . . . . . . . . . . . . .  member         ushort 000024H  2
  rID0 . . . . . . . . . . . . . . . .  member         ushort 000026H  2
  rID1 . . . . . . . . . . . . . . . .  member         ushort 000028H  2
  rID2 . . . . . . . . . . . . . . . .  member         ushort 00002AH  2
  rCrc . . . . . . . . . . . . . . . .  member         ushort 00002CH  2
  rChk . . . . . . . . . . . . . . . .  member         ushort 00002EH  2
  rNaThd . . . . . . . . . . . . . . .  member         ushort 000030H  2
  rTxRxNum . . . . . . . . . . . . . .  member         ushort 000032H  2
  rDivShift. . . . . . . . . . . . . .  member         ushort 000034H  2
  rSubabsMax . . . . . . . . . . . . .  member         ushort 000036H  2
  rInt . . . . . . . . . . . . . . . .  member         ushort 000038H  2
  rCntNum. . . . . . . . . . . . . . .  member         ushort 00003AH  2
  rDmaskA. . . . . . . . . . . . . . .  member         ushort 00003CH  2
  rTxRxNumAm . . . . . . . . . . . . .  member         ushort 00003EH  2
  rTxRxNumAs . . . . . . . . . . . . .  member         ushort 000040H  2
  rSizeAm. . . . . . . . . . . . . . .  member         ushort 000042H  2
  rSizeAs. . . . . . . . . . . . . . .  member         ushort 000044H  2
  rS1AddrA . . . . . . . . . . . . . .  member         ushort 000046H  2
  rS2AddrA . . . . . . . . . . . . . .  member         ushort 000048H  2
  rOutAddrA. . . . . . . . . . . . . .  member         ushort 00004AH  2
  rSel . . . . . . . . . . . . . . . .  member         ushort 00004CH  2
Addr_ADC_CFG . . . . . . . . . . . . .  enum           int    000045H  2
Addr_OVERFLOW_CLR_FRAMENUM . . . . . .  enum           int    00004EH  2
P2_ECC_H . . . . . . . . . . . . . . .  enum           int    000008H  2
Addr_OVERFLOW_UPBOUND. . . . . . . . .  enum           int    00004AH  2
P1_ECC_H . . . . . . . . . . . . . . .  enum           int    000004H  2
Addr_OVER_POINT_FRAME. . . . . . . . .  enum           int    00004BH  2
BIT_LCD_IDLE_MODE_RISE_EN1 . . . . . .  enum           int    000005H  2
Addr_ALL_GATE_OFF_L_CFG. . . . . . . .  enum           int    00002EH  2
BIT_LCD_VMID_WAKE_EN0. . . . . . . . .  enum           int    000004H  2
Addr_ADC_DATA0 . . . . . . . . . . . .  enum           int    000046H  2
BIT_LCD_VMID_FLAG0 . . . . . . . . . .  enum           int    000004H  2
Addr_AFE_DUMMY_SCAN_CFG. . . . . . . .  enum           int    000008H  2
BIT_LCD_ODD_EVEN_FALL_CLR1 . . . . . .  enum           int    00000AH  2
BIT_LCD_VEND_WAKE_EN0. . . . . . . . .  enum           int    000003H  2
Addr_MCAP_LPFIR_COF7 . . . . . . . . .  enum           int    000057H  2
BIT_LCD_DSTB_FLAG1 . . . . . . . . . .  enum           int    000001H  2
FW_CFG_BKUP_I2C_FLASH_ADDR . . . . . .  enum           int    001120H  2
Addr_ACC_OFFSET. . . . . . . . . . . .  enum           int    00000AH  2
Addr_MCAP_LPFIR_COF6 . . . . . . . . .  enum           int    000056H  2
BIT_LCD_VEND_FLAG0 . . . . . . . . . .  enum           int    000003H  2
BIT_LCD_DSTB_FAIL_WAKE_EN0 . . . . . .  enum           int    00000CH  2
P2_ECC_NE_L. . . . . . . . . . . . . .  enum           int    00000BH  2
Addr_MCAP_LPFIR_COF5 . . . . . . . . .  enum           int    000055H  2
BIT_LCD_VSTART_CLR0. . . . . . . . . .  enum           int    000005H  2
P1_ECC_NE_L. . . . . . . . . . . . . .  enum           int    000007H  2
Addr_MCAP_LPFIR_COF4 . . . . . . . . .  enum           int    000054H  2
BIT_LCD_DSTB_FAIL_FLAG0. . . . . . . .  enum           int    00000CH  2
FW_CFG_XBUS_CLK_NE_OFFSET. . . . . . .  enum           int    00000BH  2
Addr_KEY_SAMPLE_INTERVAL_6 . . . . . .  enum           int    000042H  2
Addr_MCAP_LPFIR_COF3 . . . . . . . . .  enum           int    000053H  2
Addr_MCAP_LPFIR_COF2 . . . . . . . . .  enum           int    000052H  2
BIT_LCD_PANEL_CONFLICT_WAKE_EN0. . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_WAKE_EN1. . . .  enum           int    000006H  2
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 117 

P2_ECC_NE_H. . . . . . . . . . . . . .  enum           int    00000AH  2
APP_LEN_H. . . . . . . . . . . . . . .  enum           int    000012H  2
Addr_MCAP_LPFIR_COF1 . . . . . . . . .  enum           int    000051H  2
BIT_LCD_VMID_EN0 . . . . . . . . . . .  enum           int    000004H  2
P1_ECC_NE_H. . . . . . . . . . . . . .  enum           int    000006H  2
Addr_MCAP_LPFIR_COF0 . . . . . . . . .  enum           int    000050H  2
BIT_LCD_PANEL_CONFLICT_FLAG0 . . . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_FLAG1 . . . . .  enum           int    000006H  2
BIT_LCD_DSTB_EN1 . . . . . . . . . . .  enum           int    000001H  2
BIT_LCD_FRAME_END_WAKE_EN0 . . . . . .  enum           int    000007H  2
ENUM_FW_CFG_BKUP_FLASH_ADDR. . . . . .  type           int    000000H  2
BIT_LCD_VEND_EN0 . . . . . . . . . . .  enum           int    000003H  2
BIT_LCD_FRAME_END_FLAG0. . . . . . . .  enum           int    000007H  2
BIT_LCD_SYNC_MISS_FALL_CLR0. . . . . .  enum           int    00000AH  2
BIT_LCD_DSTB_FAIL_EN0. . . . . . . . .  enum           int    00000CH  2
LCD_OTP_SYS_CLK_ADDR . . . . . . . . .  enum           int    00986EH  2
BIT_LCD_BUSY_RISE_CLR0 . . . . . . . .  enum           int    00000EH  2
BIT_LCD_PANEL_CONFLICT_EN0 . . . . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_EN1 . . . . . .  enum           int    000006H  2
BIT_LCD_TCH_DET_WAKE_EN0 . . . . . . .  enum           int    000006H  2
Addr_AFE_SD_VOM_OPT_P1_P2_CFG. . . . .  enum           int    000027H  2
Addr_ALL_GATE_STOP_L_CFG . . . . . . .  enum           int    00002FH  2
Addr_NORMAL_SIGNAL_UPTHR . . . . . . .  enum           int    00004CH  2
Addr_AFE_ANA_SH_CFG6 . . . . . . . . .  enum           int    000020H  2
BIT_LCD_TCH_DET_FLAG0. . . . . . . . .  enum           int    000006H  2
APP_LEN_H_NE . . . . . . . . . . . . .  enum           int    000014H  2
Addr_AFE_ANA_SH_CFG5 . . . . . . . . .  enum           int    00001FH  2
Addr_ANA_STATIC_CFG3 . . . . . . . . .  enum           int    000039H  2
BIT_LCD_FRAME_END_EN0. . . . . . . . .  enum           int    000007H  2
Addr_AFE_ANA_SH_CFG4 . . . . . . . . .  enum           int    00001EH  2
Addr_ANA_STATIC_CFG2 . . . . . . . . .  enum           int    000038H  2
ENUM_LCD_OTP_ADDR. . . . . . . . . . .  type           int    000000H  2
ST_XSIRegisters. . . . . . . . . . . .  type           struct 000000H  10
  Wdata. . . . . . . . . . . . . . . .  member         ushort 000000H  2
  Rdata. . . . . . . . . . . . . . . .  member         ushort 000002H  2
  Clksel . . . . . . . . . . . . . . .  member         ushort 000004H  2
  Stop . . . . . . . . . . . . . . . .  member         ushort 000006H  2
  Tx_int . . . . . . . . . . . . . . .  member         ushort 000008H  2
Addr_AFE_ANA_SH_CFG3 . . . . . . . . .  enum           int    00001DH  2
Addr_ANA_STATIC_CFG1 . . . . . . . . .  enum           int    000037H  2
BIT_LCD_3D_MODE_STA. . . . . . . . . .  enum           int    000001H  2
FW_CFG_I2C_FLASH_ADDR. . . . . . . . .  enum           int    000F80H  2
Addr_AFE_ANA_SH_CFG2 . . . . . . . . .  enum           int    00001CH  2
Addr_ANA_STATIC_CFG0 . . . . . . . . .  enum           int    000036H  2
Addr_RAWDATA_OFFSET_L. . . . . . . . .  enum           int    000044H  2
ST_Spi1DmaRegisters. . . . . . . . . .  type           struct 000000H  14
  dma_ctrl . . . . . . . . . . . . . .  member         ushort 000000H  2
  timeout_ctrl . . . . . . . . . . . .  member         ushort 000002H  2
  addr_h . . . . . . . . . . . . . . .  member         ushort 000004H  2
  start_addr_l . . . . . . . . . . . .  member         ushort 000006H  2
  end_addr_l . . . . . . . . . . . . .  member         ushort 000008H  2
  dma_crc. . . . . . . . . . . . . . .  member         ushort 00000AH  2
  dma_srcr . . . . . . . . . . . . . .  member         ushort 00000CH  2
Addr_PANEL_MODE_CFG2 . . . . . . . . .  enum           int    000003H  2
Addr_AFE_ANA_SH_CFG1 . . . . . . . . .  enum           int    00001BH  2
ST_Spi0DmaRegisters. . . . . . . . . .  type           struct 000000H  14
  dma_ctrl . . . . . . . . . . . . . .  member         ushort 000000H  2
  timeout_ctrl . . . . . . . . . . . .  member         ushort 000002H  2
  addr_h . . . . . . . . . . . . . . .  member         ushort 000004H  2
  start_addr_l . . . . . . . . . . . .  member         ushort 000006H  2
  end_addr_l . . . . . . . . . . . . .  member         ushort 000008H  2
  dma_crc. . . . . . . . . . . . . . .  member         ushort 00000AH  2
  dma_srcr . . . . . . . . . . . . . .  member         ushort 00000CH  2
Addr_PANEL_MODE_CFG1 . . . . . . . . .  enum           int    000002H  2
Addr_AFE_ANA_SH_CFG0 . . . . . . . . .  enum           int    00001AH  2
Addr_PANEL_MODE_CFG0 . . . . . . . . .  enum           int    000001H  2
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 118 

Addr_MCAP_SCAN_CFG . . . . . . . . . .  enum           int    000040H  2
BIT_LCD_TCH_DET_EN0. . . . . . . . . .  enum           int    000006H  2
BIT_LCD_3D_MODE_RISE_WAKE_EN1. . . . .  enum           int    000003H  2
Addr_NORMAL_SIGNAL_DWTHR . . . . . . .  enum           int    00004DH  2
LCD_OTP_SYS_CLK_NE_ADDR. . . . . . . .  enum           int    00986FH  2
BIT_LCD_3D_MODE_RISE_FLAG1 . . . . . .  enum           int    000003H  2
BIT_LCD_STB_TICK_STA . . . . . . . . .  enum           int    000009H  2
BIT_LCD_RUN_STA. . . . . . . . . . . .  enum           int    000000H  2
ENUM_FW_CFG_FLASH_ADDR . . . . . . . .  type           int    000000H  2
ENUM_BIT_ASM_INT_FLAG1 . . . . . . . .  type           int    000000H  2
ENUM_BIT_ASM_INT_FLAG0 . . . . . . . .  type           int    000000H  2
Addr_AFE_BASE_TRACK_CFG. . . . . . . .  enum           int    000009H  2
Union_AsmReg . . . . . . . . . . . . .  type           union  000000H  82
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  82
  offset . . . . . . . . . . . . . . .  member         array  000000H  82
BIT_LCD_VDO_MODE_STA . . . . . . . . .  enum           int    000003H  2
LCD_OTP_SPI_CLK_ADDR . . . . . . . . .  enum           int    00986CH  2
Addr_AFE_GIPL_P1_P2_CFG. . . . . . . .  enum           int    000026H  2
BIT_LCD_RUN_RISE_WAKE_EN0. . . . . . .  enum           int    000000H  2
Addr_MCAP_SCANSR . . . . . . . . . . .  enum           int    000041H  2
BIT_LCD_BUSY_FALL_CLR0 . . . . . . . .  enum           int    00000FH  2
BIT_LCD_3D_MODE_RISE_EN1 . . . . . . .  enum           int    000003H  2
Addr_AFE_SX_P1_P2_CFG. . . . . . . . .  enum           int    000028H  2
BIT_LCD_RUN_RISE_FLAG0 . . . . . . . .  enum           int    000000H  2
BIT_LCD_DSTB_RISE_CLR0 . . . . . . . .  enum           int    00000BH  2
ENUM_BIT_ASM_INT_EN1 . . . . . . . . .  type           int    000000H  2
FW_CFG_VENDOR_OFFSET . . . . . . . . .  enum           int    000004H  2
Addr_AFE_GIPH_P1_P2_CFG. . . . . . . .  enum           int    000025H  2
BIT_HW_MON_TIMEOUT_CLR1. . . . . . . .  enum           int    00000EH  2
ENUM_BIT_ASM_INT_EN0 . . . . . . . . .  type           int    000000H  2
BIT_LCD_VDO_MODE_RISE_WAKE_EN1 . . . .  enum           int    000007H  2
UINT16 . . . . . . . . . . . . . . . .  type           ushort 000000H  2
BIT_LCD_VDO_MODE_RISE_FLAG1. . . . . .  enum           int    000007H  2
BIT_LCD_VBLANK_CLR0. . . . . . . . . .  enum           int    000002H  2
SINT16 . . . . . . . . . . . . . . . .  type           short  000000H  2
UINT32 . . . . . . . . . . . . . . . .  type           ulong  000000H  4
Addr_MCAP_INIT_SAMPL_CFG . . . . . . .  enum           int    000047H  2
BIT_LPF_MODE_EN_RISE_CLR1. . . . . . .  enum           int    00000CH  2
BIT_LCD_ODD_EVEN_STA . . . . . . . . .  enum           int    000004H  2
SINT32 . . . . . . . . . . . . . . . .  type           long   000000H  4
Addr_OVERFLOW_THR. . . . . . . . . . .  enum           int    000048H  2
BIT_LCD_VSTART_STA . . . . . . . . . .  enum           int    000008H  2
Addr_AFE_ANA_CA_CFG2 . . . . . . . . .  enum           int    000011H  2
BIT_LCD_IDLE_MODE_RISE_CLR1. . . . . .  enum           int    000005H  2
BIT_LCD_RUN_RISE_EN0 . . . . . . . . .  enum           int    000000H  2
Addr_AFE_ANA_CA_CFG1 . . . . . . . . .  enum           int    000010H  2
BIT_LCD_3D_MODE_FALL_WAKE_EN1. . . . .  enum           int    000004H  2
APP_LEN. . . . . . . . . . . . . . . .  enum           int    000000H  2
LCD_OTP_SPI_CLK_NE_ADDR. . . . . . . .  enum           int    00986DH  2
Addr_AFE_ANA_CA_CFG0 . . . . . . . . .  enum           int    00000FH  2
Addr_TEST_MODE_FLAG. . . . . . . . . .  enum           int    000033H  2
FW_CFG_BKUP_START_FLASH_ADDR . . . . .  enum           int    001120H  2
Union_LcdReg . . . . . . . . . . . . .  type           union  000000H  10
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  10
  offset . . . . . . . . . . . . . . .  member         array  000000H  10
BIT_LCD_3D_MODE_FALL_FLAG1 . . . . . .  enum           int    000004H  2
BIT_LCD_ODD_EVEN_RISE_WAKE_EN1 . . . .  enum           int    000009H  2
Addr_TP_MONITOR_THRESHOLD. . . . . . .  enum           int    00000BH  2
BIT_LCD_VDO_MODE_RISE_EN1. . . . . . .  enum           int    000007H  2
Addr_CB_ADJUST_THLD. . . . . . . . . .  enum           int    000032H  2
BIT_LCD_ODD_EVEN_RISE_FLAG1. . . . . .  enum           int    000009H  2
FW_CFG_VENDOR_NE_OFFSET. . . . . . . .  enum           int    000005H  2
Union_CalReg . . . . . . . . . . . . .  type           union  000000H  78
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  78
  offset . . . . . . . . . . . . . . .  member         array  000000H  78
Addr_AFE_ANA_K2_CFG1 . . . . . . . . .  enum           int    00000EH  2
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 119 

Addr_AFE_P1_P2_DLY_CFG1. . . . . . . .  enum           int    000019H  2
Addr_AFE_P1_P2_DLY_CFG0. . . . . . . .  enum           int    000018H  2
BIT_LCD_STB_TICK_WAKE_EN1. . . . . . .  enum           int    00000BH  2
BIT_LCD_SYNC_MISS_STA. . . . . . . . .  enum           int    00000CH  2
Addr_AFE_ANA_K1_CFG0 . . . . . . . . .  enum           int    00000DH  2
BIT_LCD_RUN_FALL_WAKE_EN0. . . . . . .  enum           int    000001H  2
BIT_LCD_STB_TICK_FLAG1 . . . . . . . .  enum           int    00000BH  2
BIT_LCD_VMID_CLR0. . . . . . . . . . .  enum           int    000004H  2
BIT_LCD_3D_MODE_FALL_EN1 . . . . . . .  enum           int    000004H  2
FW_CFG_I2C_OFFSET. . . . . . . . . . .  enum           int    000000H  2
BIT_LCD_RUN_FALL_FLAG0 . . . . . . . .  enum           int    000001H  2
BIT_LCD_RUN_FLAG1. . . . . . . . . . .  enum           int    000002H  2
BIT_LCD_DSTB_CLR1. . . . . . . . . . .  enum           int    000001H  2
BIT_LCD_ODD_EVEN_RISE_EN1. . . . . . .  enum           int    000009H  2
BIT_LCD_LPF_MODE_EN_RISE_WAKE_EN1. . .  enum           int    00000CH  2
APP_NE_LEN . . . . . . . . . . . . . .  enum           int    000002H  2
Addr_ALL_GATE_ON_L_CFG . . . . . . . .  enum           int    00002DH  2
BIT_LCD_VEND_CLR0. . . . . . . . . . .  enum           int    000003H  2
BIT_LCD_ARAM_RDY_WAKE_EN0. . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_WAKE_EN1 . . . .  enum           int    000008H  2
FW_CFG_SYS_CLK_OFFSET. . . . . . . . .  enum           int    000008H  2
Addr_RAWSHIFTCAF . . . . . . . . . . .  enum           int    000043H  2
BIT_LCD_SYNC_MISS_RISE_WAKE_EN0. . . .  enum           int    000009H  2
Addr_AFE_SCAN_CFG1 . . . . . . . . . .  enum           int    000007H  2
Addr_ALL_GATE_H_CFG. . . . . . . . . .  enum           int    000030H  2
BIT_LCD_ARAM_RDY_FLAG0 . . . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_FLAG1. . . . . .  enum           int    000008H  2
BIT_LCD_DSTB_FAIL_CLR0 . . . . . . . .  enum           int    00000CH  2
LCD_OTP_SPI_IOMODE_ADDR. . . . . . . .  enum           int    009872H  2
Addr_AFE_SCAN_CFG0 . . . . . . . . . .  enum           int    000006H  2
BIT_LCD_SYNC_MISS_RISE_FLAG0 . . . . .  enum           int    000009H  2
BIT_LPF_MODE_EN_FALL_CLR1. . . . . . .  enum           int    00000DH  2
size_t . . . . . . . . . . . . . . . .  type           uint   000000H  2
Addr_AFE_MOUT_GIPL_CFG . . . . . . . .  enum           int    00002AH  2
Addr_MCAP_LPFIR_CFG. . . . . . . . . .  enum           int    00004FH  2
BIT_LCD_STB_TICK_EN1 . . . . . . . . .  enum           int    00000BH  2
ENUM_FW_CFG_OFFSET . . . . . . . . . .  type           int    000000H  2
BIT_LCD_PANEL_CONFLICT_CLR0. . . . . .  enum           int    00000DH  2
BIT_LCD_IDLE_MODE_FALL_CLR1. . . . . .  enum           int    000006H  2
BIT_LCD_RUN_FALL_EN0 . . . . . . . . .  enum           int    000001H  2
BIT_LCD_RUN_EN1. . . . . . . . . . . .  enum           int    000002H  2
Addr_RPT_RAWDATA_NUM . . . . . . . . .  enum           int    000031H  2
FW_CFG_START_FLASH_ADDR. . . . . . . .  enum           int    000F80H  2
Addr_AFE_MOUT_GIPH_CFG . . . . . . . .  enum           int    000029H  2
BIT_LCD_FRAME_END_CLR0 . . . . . . . .  enum           int    000007H  2
BIT_LCD_LPF_MODE_EN_RISE_EN1 . . . . .  enum           int    00000CH  2
BIT_LCD_ODD_EVEN_FALL_WAKE_EN1 . . . .  enum           int    00000AH  2
FW_CFG_I2C_NE_OFFSET . . . . . . . . .  enum           int    000001H  2
BIT_LCD_ARAM_RDY_EN0 . . . . . . . . .  enum           int    000008H  2
BIT_LCD_VDO_MODE_FALL_EN1. . . . . . .  enum           int    000008H  2
Addr_AFE_GOUT_GIPL_CFG . . . . . . . .  enum           int    00002CH  2
BIT_LCD_ODD_EVEN_FALL_FLAG1. . . . . .  enum           int    00000AH  2
BIT_LCD_SYNC_MISS_RISE_EN0 . . . . . .  enum           int    000009H  2
BIT_LCD_VSTART_WAKE_EN0. . . . . . . .  enum           int    000005H  2
FW_CFG_SYS_CLK_NE_OFFSET . . . . . . .  enum           int    000009H  2
FW_CFG_IOVOLTAGE_OFFSET. . . . . . . .  enum           int    000002H  2
BIT_LCD_VSTART_FLAG0 . . . . . . . . .  enum           int    000005H  2
ENUM_APP_INFO. . . . . . . . . . . . .  type           int    000000H  2
LCD_OTP_SPI_IOMODE_NE_ADDR . . . . . .  enum           int    009873H  2
Addr_AFE_ANA_P1_P2_CFG5. . . . . . . .  enum           int    000017H  2
Addr_AFE_GOUT_GIPH_CFG . . . . . . . .  enum           int    00002BH  2
Addr_AFE_ANA_P1_P2_CFG4. . . . . . . .  enum           int    000016H  2
BIT_LCD_TCH_DET_CLR0 . . . . . . . . .  enum           int    000006H  2
LCD_OTP_XBUS_CLK_ADDR. . . . . . . . .  enum           int    009870H  2
Addr_AFE_ANA_P1_P2_CFG3. . . . . . . .  enum           int    000015H  2
Addr_AFE_ANA_P1_P2_CFG2. . . . . . . .  enum           int    000014H  2
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 120 

BOOLEAN. . . . . . . . . . . . . . . .  type     bit   bit    000000H  1
Addr_AFE_ANA_P1_P2_CFG1. . . . . . . .  enum           int    000013H  2
BIT_LCD_ODD_EVEN_FALL_EN1. . . . . . .  enum           int    00000AH  2
BIT_LCD_LPF_MODE_EN_FALL_WAKE_EN1. . .  enum           int    00000DH  2
BIT_LCD_BUSY_STA . . . . . . . . . . .  enum           int    00000FH  2
FW_CFG_SPI_CLK_OFFSET. . . . . . . . .  enum           int    000006H  2
Union_XSIReg . . . . . . . . . . . . .  type           union  000000H  10
  reg. . . . . . . . . . . . . . . . .  member         struct 000000H  10
  offset . . . . . . . . . . . . . . .  member         array  000000H  10
Addr_AFE_ANA_P1_P2_CFG0. . . . . . . .  enum           int    000012H  2
FP64 . . . . . . . . . . . . . . . . .  type           float  000000H  4
BIT_LCD_SYNC_MISS_FALL_WAKE_EN0. . . .  enum           int    00000AH  2
BIT_LCD_VSTART_EN0 . . . . . . . . . .  enum           int    000005H  2
ENUM_BIT_ASM_INT_STA0. . . . . . . . .  type           int    000000H  2
BIT_LCD_SYNC_MISS_FALL_FLAG0 . . . . .  enum           int    00000AH  2
BIT_LCD_VBLANK_STA . . . . . . . . . .  enum           int    000005H  2
RTCCON1. . . . . . . . . . . . . . . .  sfr      data  uchar  0B6H     1
CGUCON8. . . . . . . . . . . . . . . .  sfr      data  uchar  0BFH     1
CGUCON6. . . . . . . . . . . . . . . .  sfr      data  uchar  0CEH     1
CGUCON5. . . . . . . . . . . . . . . .  sfr      data  uchar  0CDH     1
CGUCON4. . . . . . . . . . . . . . . .  sfr      data  uchar  0CCH     1
CGUCON3. . . . . . . . . . . . . . . .  sfr      data  uchar  0CBH     1
CGUCON2. . . . . . . . . . . . . . . .  sfr      data  uchar  0CAH     1
CNT_MASK . . . . . . . . . . . . . . .  sfr      data  uchar  0F1H     1
CGUCON1. . . . . . . . . . . . . . . .  sfr      data  uchar  0C8H     1
CGUCON0. . . . . . . . . . . . . . . .  sfr      data  uchar  0C9H     1
MEMBIST_ERRMAP2. . . . . . . . . . . .  sfr      data  uchar  0D9H     1
MEMBIST_ERRMAP1. . . . . . . . . . . .  sfr      data  uchar  0D8H     1
ANACON9. . . . . . . . . . . . . . . .  sfr      data  uchar  0B0H     1
ANACON8. . . . . . . . . . . . . . . .  sfr      data  uchar  0A0H     1
MEMBIST_FINISH2. . . . . . . . . . . .  sfr      data  uchar  0D5H     1
ANACON7. . . . . . . . . . . . . . . .  sfr      data  uchar  0C7H     1
MEMBIST_FINISH1. . . . . . . . . . . .  sfr      data  uchar  0D4H     1
SFTRST . . . . . . . . . . . . . . . .  sfr      data  uchar  0E9H     1
P1SEL. . . . . . . . . . . . . . . . .  sfr      data  uchar  0EEH     1
ANACON3. . . . . . . . . . . . . . . .  sfr      data  uchar  0C3H     1
P0SEL. . . . . . . . . . . . . . . . .  sfr      data  uchar  0ECH     1
ANACON2. . . . . . . . . . . . . . . .  sfr      data  uchar  0C2H     1
ANACON1. . . . . . . . . . . . . . . .  sfr      data  uchar  0C1H     1
P1MOD. . . . . . . . . . . . . . . . .  sfr      data  uchar  0EDH     1
SYSCON . . . . . . . . . . . . . . . .  sfr      data  uchar  098H     1
P1DIR. . . . . . . . . . . . . . . . .  sfr      data  uchar  0ADH     1
P0MOD. . . . . . . . . . . . . . . . .  sfr      data  uchar  0EBH     1
P0DIR. . . . . . . . . . . . . . . . .  sfr      data  uchar  0ACH     1
P1BUF. . . . . . . . . . . . . . . . .  sfr      data  uchar  094H     1
P0BUF. . . . . . . . . . . . . . . . .  sfr      data  uchar  080H     1
I2CTI. . . . . . . . . . . . . . . . .  absbit   data  bit    090H.1   1
I2CRI. . . . . . . . . . . . . . . . .  absbit   data  bit    090H.0   1
TESTCON3 . . . . . . . . . . . . . . .  sfr      data  uchar  0E4H     1
TESTCON2 . . . . . . . . . . . . . . .  sfr      data  uchar  0E3H     1
IWKSTA . . . . . . . . . . . . . . . .  sfr      data  uchar  0E5H     1
WDTREL . . . . . . . . . . . . . . . .  sfr      data  uchar  09AH     1
TESTCON1 . . . . . . . . . . . . . . .  sfr      data  uchar  0E2H     1
TESTCON0 . . . . . . . . . . . . . . .  sfr      data  uchar  0E1H     1
WDTCON . . . . . . . . . . . . . . . .  sfr      data  uchar  099H     1
AIF. . . . . . . . . . . . . . . . . .  sfr      data  uchar  0C0H     1
AIE. . . . . . . . . . . . . . . . . .  sfr      data  uchar  0E8H     1
FT_EN_REG. . . . . . . . . . . . . . .  sfr      data  uchar  0BDH     1
RTCCON . . . . . . . . . . . . . . . .  sfr      data  uchar  09EH     1
LED_EN . . . . . . . . . . . . . . . .  sfr      data  uchar  0FEH     1
CNTCON . . . . . . . . . . . . . . . .  sfr      data  uchar  0B9H     1
MEMBIST_FAIL2. . . . . . . . . . . . .  sfr      data  uchar  0D7H     1
MEMBIST_FAIL1. . . . . . . . . . . . .  sfr      data  uchar  0D6H     1
POR_STA. . . . . . . . . . . . . . . .  sfr      data  uchar  0E6H     1
MEMBIST_EN2. . . . . . . . . . . . . .  sfr      data  uchar  0D3H     1
MEMBIST_EN1. . . . . . . . . . . . . .  sfr      data  uchar  0D2H     1
C251 COMPILER V5.4.0.1,  main                                                              23/05/17  14:19:41  PAGE 121 

TDIV . . . . . . . . . . . . . . . . .  sfr      data  uchar  09BH     1
I2CSTP . . . . . . . . . . . . . . . .  absbit   data  bit    093H.0   1
XDP_STA. . . . . . . . . . . . . . . .  sfr      data  uchar  0EFH     1
TCON . . . . . . . . . . . . . . . . .  sfr      data  uchar  088H     1
TMOD . . . . . . . . . . . . . . . . .  sfr      data  uchar  089H     1
SPI0CON5 . . . . . . . . . . . . . . .  sfr      data  uchar  0A7H     1
SPI1CON4 . . . . . . . . . . . . . . .  sfr      data  uchar  0B2H     1
SPI1CON3 . . . . . . . . . . . . . . .  sfr      data  uchar  0B1H     1
SPI0CON3 . . . . . . . . . . . . . . .  sfr      data  uchar  0A5H     1
SPI1CON2 . . . . . . . . . . . . . . .  sfr      data  uchar  0B4H     1
ANACON . . . . . . . . . . . . . . . .  sfr      data  uchar  0EAH     1
PCON . . . . . . . . . . . . . . . . .  sfr      data  uchar  087H     1
SPI0CON2 . . . . . . . . . . . . . . .  sfr      data  uchar  0A3H     1
DSV_CON. . . . . . . . . . . . . . . .  sfr      data  uchar  0DAH     1
CNT_STA. . . . . . . . . . . . . . . .  sfr      data  uchar  0F2H     1
ESD_RST_EN . . . . . . . . . . . . . .  absbit   data  bit    098H.6   1
AIPL . . . . . . . . . . . . . . . . .  sfr      data  uchar  0F8H     1
I2CSEL . . . . . . . . . . . . . . . .  sfr      data  uchar  095H     1
SSCG_CON0. . . . . . . . . . . . . . .  sfr      data  uchar  0F5H     1
AIPH . . . . . . . . . . . . . . . . .  sfr      data  uchar  0F7H     1
I2C_STATE. . . . . . . . . . . . . . .  sfr      data  uchar  0FDH     1
I2CCON . . . . . . . . . . . . . . . .  sfr      data  uchar  090H     1
UARTCON. . . . . . . . . . . . . . . .  sfr      data  uchar  0A9H     1
I2CBUF . . . . . . . . . . . . . . . .  sfr      data  uchar  091H     1
IPL0 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0B8H     1
IPH0 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0B7H     1
IEN1 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0DFH     1
IEN0 . . . . . . . . . . . . . . . . .  sfr      data  uchar  0A8H     1
I2CSTOP. . . . . . . . . . . . . . . .  sfr      data  uchar  093H     1
EA . . . . . . . . . . . . . . . . . .  absbit   data  bit    0A8H.7   1
SPI1CON. . . . . . . . . . . . . . . .  sfr      data  uchar  0B3H     1
SPI0CON. . . . . . . . . . . . . . . .  sfr      data  uchar  0A2H     1
printf?. . . . . . . . . . . . . . . .  extern   ecode funct  000000H  
DrvSysClkInit? . . . . . . . . . . . .  extern   ecode funct  000000H  
DelayMs? . . . . . . . . . . . . . . .  extern   ecode funct  000000H  
Test_CAL?. . . . . . . . . . . . . . .  extern   ecode funct  000000H  
DrvIOInit? . . . . . . . . . . . . . .  extern   ecode funct  000000H  
g_ucbuf. . . . . . . . . . . . . . . .  extern   edata array  000000H  16
DrvUartInit? . . . . . . . . . . . . .  extern   ecode funct  000000H  
main?. . . . . . . . . . . . . . . . .  public   ecode funct  000207H  30
init_mcu?. . . . . . . . . . . . . . .  public   ecode funct  000000H  519
  i. . . . . . . . . . . . . . . . . .  *reg*          uchar  R15      1
  cnt. . . . . . . . . . . . . . . . .  *reg*          uchar  R7       1
g_aucVerfication . . . . . . . . . . .  public   ecode array  000000H  160


Module Information          Static   Overlayable
------------------------------------------------
  code size            =    ------     ------
  ecode size           =       709     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =       386     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
