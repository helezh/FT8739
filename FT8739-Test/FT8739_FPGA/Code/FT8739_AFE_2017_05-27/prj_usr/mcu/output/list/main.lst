C251 COMPILER V5.54.0.0,  main                                                             26/05/17  20:21:10  PAGE 1   


C251 COMPILER V5.54.0.0, COMPILATION OF MODULE main
OBJECT MODULE PLACED IN ..\output\obj\main.obj
COMPILER INVOKED BY: D:\software\Keil\C251\BIN\C251.EXE ..\..\src\source\flow\main.c SMALL ROM(HUGE) OPTIMIZE(9,SPEED) R
                    -EGFILE(..\output\obj\mcu.ORC) BROWSE INCDIR(..\..\src\include;..\..\src\include\app;..\..\src\include\flow;..\..\src\inc
                    -lude\driver\;..\..\src\include\lib_drv\;..\..\src\include\config;..\..\src\include\Debug) DEFINE(__FT8836__) DEBUG PRINT
                    -(..\output\list\main.lst) TABS(2) OBJECT(..\output\obj\main.obj) 

stmt  level    source

    1          /*******************************************************************************
    2          * Copyright (C) 2016-2018, FocalTech Systems (R)£¬All Rights Reserved.
    3          *
    4          * File Name: main.c
    5          *
    6          *    Author:
    7          *
    8          *   Created: 2016-12-06
    9          *
   10          *  Abstract: lisen
   11          *
   12          * Reference: 
   13          *
   14          *******************************************************************************/
   15          
   16          /*******************************************************************************
   17          * Included header files
   18          *******************************************************************************/
   19          #include "AppSysCtrl.h"
   20          #include "AppParameter.h"
   21          #include "FlowWork.h"
   22          #include "FlowFactory.h"
   23          #include "FlowUpgrade.h"
   24          #include "DrvSysCtrl.h"
   25          /*******************************************************************************
   26          * Private constant and macro definitions using #define
   27          *******************************************************************************/
   28          
   29          /*******************************************************************************
   30          * Private enumerations, structures and unions using typedef
   31          *******************************************************************************/
   32          
   33          /*******************************************************************************
   34          * Static variables
   35          *******************************************************************************/
   36          //#define APP_VERIF_LEN  0x20
   37          //#define APP_VERIF_ADDR 0x100
   38          
   39          #define BASE_ADDR         0xFEE800
   40          #define APP_VERIF_ADDR    (BASE_ADDR + 0x100)   //0xFEE900   Verification Info
   41          #define APP_VERIF_LEN     0x20
   42          
   43          #define FW_CFG_TOTAL_SIZE         0x80
   44          
   45          
   46          /*******************************************************************************
   47          * Global variable or extern global variabls/functions
   48          *******************************************************************************/
   49          
   50          //UINT8 CROM g_aucVerfication[APP_VERIF_LEN] _at_ APP_VERIF_ADDR;
   51          UINT8 ecode g_aucVerfication[APP_VERIF_LEN+FW_CFG_TOTAL_SIZE] _at_ APP_VERIF_ADDR;
   52          
   53          /*******************************************************************************
   54          * Static function prototypes
   55          *******************************************************************************/
   56          
C251 COMPILER V5.54.0.0,  main                                                             26/05/17  20:21:10  PAGE 2   

   57          /*******************************************************************************
   58          *   Name: main
   59          *  Brief: Main Entrance on Embedded Platform
   60          *  Input: None
   61          * Output: None
   62          * Return: None
   63          *******************************************************************************/
   64          void main(void)
   65          {
   66   1          // 1.system hardware initialization
   67   1          AppSysInit();
   68   1      
   69   1          g_State = SS_FACTORY; 
   70   1      
   71   1          DBG_ALEN("\nKeil version:%d",__C251__);
   72   1          DBG_FLOW("\nFT8836 AFE:%s",__DATE__);
   73   1          DBG_FLOW("\nFlow Select:%x",g_State);   
   74   1      
   75   1        //TestUart();
   76   1      
   77   1          while(1)
   78   1          {
   79   2              switch (g_State) 
   80   2              {
   81   3                  case SS_WORK:
   82   3                      FlowWork();     // Normal work mode
   83   3                      break;
   84   3      
   85   3                  case SS_FACTORY:
   86   3                      FlowFactory();  // Factory test mode
   87   3                      break;
   88   3      
   89   3                  case SS_UPGRADE1:
   90   3                  case SS_UPGRADE2:
   91   3                      FlowUpgrade();  // Upgrade checking mode
   92   3                      break;
   93   3      
   94   3                  default:
   95   3                      break;
   96   3              }
   97   2          }
   98   1      }
   99          
  100          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =    ------     ------
  ecode size           =       238     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =        43     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
